<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Dolice Lab]]></title>
  <link href="http://lab.dolice.net/atom.xml" rel="self"/>
  <link href="http://lab.dolice.net/"/>
  <updated>2015-05-04T21:56:14+09:00</updated>
  <id>http://lab.dolice.net/</id>
  <author>
    <name><![CDATA[Masaki Hirokawa]]></name>
    <email><![CDATA[info@dolice.net]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Androidアプリへの AdMob インタースティシャル広告導入]]></title>
    <link href="http://lab.dolice.net/blog/2015/05/04/android-admob-interstitial-ad/"/>
    <updated>2015-05-04T10:13:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2015/05/04/android-admob-interstitial-ad</id>
    <content type="html"><![CDATA[<p>Androidアプリに <a href="https://apps.admob.com/" title="AdMob">AdMob</a> のインタースティシャル広告を導入するサンプルを作成しました。</p>

<p>下記のサンプルでは、アプリがスリープ状態から復帰した時と、画面が再度読み込まれた時に全面広告が表示されます。</p>

<h2>サンプルダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/android-admob-interstitial-ad">https://github.com/masakihirokawa/android-admob-interstitial-ad</a></li>
</ul>


<h2>公式ドキュメント</h2>

<ul>
<li><a href="https://developers.google.com/mobile-ads-sdk/docs/admob/android/interstitial?hl=ja">https://developers.google.com/mobile-ads-sdk/docs/admob/android/interstitial?hl=ja</a></li>
</ul>


<h2>導入手順</h2>

<h3>1. Google Play Services SDK の読み込み</h3>

<p><em>build.gradle</em> から <strong>Google Play Services SDK</strong> を読み込みます。バージョンは最新版を指定してください。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>dependencies {
</span><span class='line'>    // 省略
</span><span class='line'>    compile &#39;com.google.android.gms:play-services:7.3.0&#39;
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<h3>2. AdMob 広告ユニットID の指定</h3>

<p><em>AdMobIntersBanner.java</em> の14行目で広告ユニットID を指定します。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">INTERS_AD_UNIT_ID</span> <span class="o">=</span> <span class="s">&quot;Your AdMob Ad unit ID&quot;</span><span class="o">;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>3. デバッグモードの指定</h3>

<p><em>AdMobIntersBanner.java</em> の15行目でデバッグモードをオンにしてください。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">boolean</span> <span class="n">DEBUG_MODE</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>4. テスト端末のデバイスID を指定</h3>

<p><em>AdMobIntersBanner.java</em> の17行目でテスト端末のデバイスID を指定します。</p>

<p>デバイスIDは、実機で一度広告を表示すると Android Studio の <em>LogCat</em> に表示されます。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">DEBUG_DEVICE_ID</span> <span class="o">=</span> <span class="o">{</span>
</span><span class='line'>    <span class="s">&quot;Your test device ID&quot;</span>
</span><span class='line'><span class="o">};</span>
</span></code></pre></td></tr></table></div></figure>


<h3>5. テスト端末の追加</h3>

<p><em>AdMobIntersBanner.java</em> の51行目にあるコメントアウトを外し、テスト端末を追加します。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">adRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AdRequest</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
</span><span class='line'>        <span class="o">.</span><span class="na">addTestDevice</span><span class="o">(</span><span class="n">AdRequest</span><span class="o">.</span><span class="na">DEVICE_ID_EMULATOR</span><span class="o">)</span>
</span><span class='line'>        <span class="o">.</span><span class="na">addTestDevice</span><span class="o">(</span><span class="n">DEBUG_DEVICE_ID</span><span class="o">[</span><span class="mi">0</span><span class="o">])</span>
</span><span class='line'>        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>下記に実装サンプルを記載します。導入の際のご参考になれば幸いです。</p>

<h2>サンプルソースコード</h2>

<h3>MainActivity.java</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">net</span><span class="o">.</span><span class="na">dolice</span><span class="o">.</span><span class="na">admobinterstitialadex</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.dolice.ad.AdMobIntersBanner</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">AdMobIntersBanner</span> <span class="n">mIntersAd</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
</span><span class='line'>        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// 全面広告の読み込み</span>
</span><span class='line'>        <span class="n">preloadInterstitialAd</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// 全面広告の読み込み</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">preloadInterstitialAd</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">mIntersAd</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AdMobIntersBanner</span><span class="o">();</span>
</span><span class='line'>        <span class="n">mIntersAd</span><span class="o">.</span><span class="na">preload</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// 全面広告が読み込み完了していれば表示</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">showInterstitialAd</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="c1">// 全面広告表示</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">mIntersAd</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">mIntersAd</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onRestart</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">super</span><span class="o">.</span><span class="na">onRestart</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// 全面広告が読み込み完了していれば表示</span>
</span><span class='line'>        <span class="n">showInterstitialAd</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>AdMobIntersBanner.java</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">net</span><span class="o">.</span><span class="na">dolice</span><span class="o">.</span><span class="na">ad</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.google.android.gms.ads.AdRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.google.android.gms.ads.InterstitialAd</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * Created by Dolice on 15/03/19.</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AdMobIntersBanner</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">InterstitialAd</span> <span class="n">mIntersAd</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">INTERS_AD_UNIT_ID</span> <span class="o">=</span> <span class="s">&quot;Your AdMob Ad unit ID&quot;</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">boolean</span> <span class="n">DEBUG_MODE</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">DEBUG_DEVICE_ID</span> <span class="o">=</span> <span class="o">{</span>
</span><span class='line'>            <span class="s">&quot;Your test device ID&quot;</span>
</span><span class='line'>    <span class="o">};</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * 全面広告のプリロード</span>
</span><span class='line'><span class="cm">     * @param context</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">preload</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">mIntersAd</span> <span class="o">=</span> <span class="k">new</span> <span class="n">InterstitialAd</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
</span><span class='line'>        <span class="n">mIntersAd</span><span class="o">.</span><span class="na">setAdUnitId</span><span class="o">(</span><span class="n">INTERS_AD_UNIT_ID</span><span class="o">);</span>
</span><span class='line'>        <span class="n">mIntersAd</span><span class="o">.</span><span class="na">loadAd</span><span class="o">(</span><span class="n">getAdRequest</span><span class="o">());</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * 全面広告の表示</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">show</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">mIntersAd</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">mIntersAd</span><span class="o">.</span><span class="na">isLoaded</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">mIntersAd</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * 広告リクエストの取得</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">AdRequest</span> <span class="nf">getAdRequest</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">AdRequest</span> <span class="n">adRequest</span><span class="o">;</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">DEBUG_MODE</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">adRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AdRequest</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
</span><span class='line'>                    <span class="o">.</span><span class="na">addTestDevice</span><span class="o">(</span><span class="n">AdRequest</span><span class="o">.</span><span class="na">DEVICE_ID_EMULATOR</span><span class="o">)</span>
</span><span class='line'>                    <span class="c1">//.addTestDevice(DEBUG_DEVICE_ID[0])</span>
</span><span class='line'>                    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">adRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AdRequest</span><span class="o">.</span><span class="na">Builder</span><span class="o">().</span><span class="na">build</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="n">adRequest</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>以上で AdMob インタースティシャル広告の導入は完了になります。</p>

<p><a href="https://developers.google.com/mobile-ads-sdk/docs/admob/android/interstitial?hl=ja" title="公式ドキュメント">公式ドキュメント</a>に解りやすくサンプルが掲載されていますので、そちらも参考にされると良いかもしれません。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[画像を SDカードに保存する]]></title>
    <link href="http://lab.dolice.net/blog/2015/05/04/android-save-image/"/>
    <updated>2015-05-04T09:30:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2015/05/04/android-save-image</id>
    <content type="html"><![CDATA[<p>Androidアプリでビットマップ画像を SDカードに保存するサンプルを作成しました。</p>

<p>下記よりサンプルをダウンロードできます。</p>

<h2>サンプルダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/android-save-image">https://github.com/masakihirokawa/android-save-image</a></li>
</ul>


<h2>導入手順</h2>

<h3>1. パーミッションの追加</h3>

<p><em>AndroidManifest.xml</em> にメディアストレージへのアクセスを許可する権限を追加します。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>2. ImageManager クラスの組み込み</h3>

<p>画像の保存などを行うクラス <em>ImageManager.java</em> を「<em>/app/src/main/java/net/dolice/image/</em>」ディレクトリに配置します。</p>

<h3>3. 保存対象のビットマップ画像を取得</h3>

<p>保存したい画像をビットマップ形式で取得します。下記の例では、イメージビューからビットマップを取得しています。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">// イメージビューからビットマップを取得</span>
</span><span class='line'><span class="n">ImageView</span> <span class="n">sampleImageView</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">image</span><span class="o">);</span>
</span><span class='line'><span class="n">Bitmap</span> <span class="n">sampleImage</span> <span class="o">=</span> <span class="o">((</span><span class="n">BitmapDrawable</span><span class="o">)</span><span class="n">sampleImageView</span><span class="o">.</span><span class="na">getDrawable</span><span class="o">()).</span><span class="na">getBitmap</span><span class="o">();</span>
</span></code></pre></td></tr></table></div></figure>


<h3>4. 画像の保存を実行</h3>

<p>ボタンのタップイベント等から <em>ImageManager</em> クラスを呼び出し、画像の保存を実行します。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">// ビットマップを SDカードに保存</span>
</span><span class='line'><span class="n">ImageManager</span> <span class="n">imageManager</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ImageManager</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
</span><span class='line'><span class="k">try</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">albumName</span> <span class="o">=</span> <span class="s">&quot;Save image sample&quot;</span><span class="o">;</span>
</span><span class='line'>    <span class="n">imageManager</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">sampleImage</span><span class="o">,</span> <span class="n">albumName</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Error</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&quot;MainActivity&quot;</span><span class="o">,</span> <span class="s">&quot;onCreate: &quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>下記に実装サンプルを記載します。</p>

<p>サンプルでは、画像の上に敷いてある透明なボタンをタップで、フォトアルバムを作成し画像を保存しています。</p>

<p>SDカードが必要であるのと、フォトアルバムへの反映のため <em>ContentResolver</em> を介してギャラリーに追加する必要がある点にご注意ください。</p>

<h2>サンプルソースコード</h2>

<h3>activity_main.xml</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;RelativeLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
</span><span class='line'>    <span class="na">xmlns:tools=</span><span class="s">&quot;http://schemas.android.com/tools&quot;</span>
</span><span class='line'>    <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
</span><span class='line'>    <span class="na">android:layout_height=</span><span class="s">&quot;match_parent&quot;</span>
</span><span class='line'>    <span class="na">tools:context=</span><span class="s">&quot;.MainActivity&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;ImageView</span>
</span><span class='line'>        <span class="na">android:id=</span><span class="s">&quot;@+id/image&quot;</span>
</span><span class='line'>        <span class="na">android:layout_width=</span><span class="s">&quot;wrap_content&quot;</span>
</span><span class='line'>        <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
</span><span class='line'>        <span class="na">android:src=</span><span class="s">&quot;@drawable/sample_image&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;Button</span>
</span><span class='line'>        <span class="na">android:id=</span><span class="s">&quot;@+id/button&quot;</span>
</span><span class='line'>        <span class="na">android:layout_width=</span><span class="s">&quot;fill_parent&quot;</span>
</span><span class='line'>        <span class="na">android:layout_height=</span><span class="s">&quot;fill_parent&quot;</span>
</span><span class='line'>        <span class="na">android:background=</span><span class="s">&quot;@null&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/RelativeLayout&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>MainActivity.java</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">net</span><span class="o">.</span><span class="na">dolice</span><span class="o">.</span><span class="na">saveimageex</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.graphics.drawable.BitmapDrawable</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.util.Log</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.ImageView</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.Toast</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.dolice.image.ImageManager</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
</span><span class='line'>        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// 画像保存ボタン定義</span>
</span><span class='line'>        <span class="n">Button</span> <span class="n">sampleButton</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">button</span><span class="o">);</span>
</span><span class='line'>        <span class="n">sampleButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>            <span class="nd">@Override</span>
</span><span class='line'>            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="c1">// 画像保存</span>
</span><span class='line'>                <span class="n">saveImage</span><span class="o">();</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">});</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// 画像保存</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">saveImage</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="c1">// イメージビューからビットマップ保持</span>
</span><span class='line'>        <span class="n">ImageView</span> <span class="n">sampleImageView</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">image</span><span class="o">);</span>
</span><span class='line'>        <span class="n">Bitmap</span> <span class="n">sampleImage</span> <span class="o">=</span> <span class="o">((</span><span class="n">BitmapDrawable</span><span class="o">)</span><span class="n">sampleImageView</span><span class="o">.</span><span class="na">getDrawable</span><span class="o">()).</span><span class="na">getBitmap</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// ビットマップを SDカードに保存</span>
</span><span class='line'>        <span class="n">ImageManager</span> <span class="n">imageManager</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ImageManager</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
</span><span class='line'>        <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>            <span class="c1">// 画像の保存実行</span>
</span><span class='line'>            <span class="n">String</span> <span class="n">albumName</span> <span class="o">=</span> <span class="s">&quot;Save image sample&quot;</span><span class="o">;</span>
</span><span class='line'>            <span class="n">imageManager</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">sampleImage</span><span class="o">,</span> <span class="n">albumName</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Error</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&quot;MainActivity&quot;</span><span class="o">,</span> <span class="s">&quot;onCreate: &quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// 画像の保存失敗メッセージ表示</span>
</span><span class='line'>            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="s">&quot;SDカードに保存できませんでした&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
</span><span class='line'>            <span class="c1">// 画像の保存完了メッセージ表示</span>
</span><span class='line'>            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="s">&quot;SDカードに保存しました&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>ImageManager.java</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">net</span><span class="o">.</span><span class="na">dolice</span><span class="o">.</span><span class="na">image</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.content.ContentResolver</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.content.ContentValues</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.os.Environment</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.provider.MediaStore</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.util.Log</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.FileOutputStream</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.Locale</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * Created by Dolice on 15/02/28.</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ImageManager</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">Context</span> <span class="n">mContext</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="n">fileFullPath</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="nf">ImageManager</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">mContext</span> <span class="o">=</span> <span class="n">context</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * 画像の保存</span>
</span><span class='line'><span class="cm">     * @param bitmap</span>
</span><span class='line'><span class="cm">     * @param albumName</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="o">(</span><span class="n">Bitmap</span> <span class="n">bitmap</span><span class="o">,</span> <span class="n">String</span> <span class="n">albumName</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(!</span><span class="n">canUseSd</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&quot;Error&quot;</span><span class="o">,</span> <span class="s">&quot;Can&#39;t use SD Card&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="k">return</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">saveToSd</span><span class="o">(</span><span class="n">getSdStorageDir</span><span class="o">(</span><span class="n">albumName</span><span class="o">),</span> <span class="n">bitmap</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * SDカードに画像保存</span>
</span><span class='line'><span class="cm">     * @param dir</span>
</span><span class='line'><span class="cm">     * @param bitmap</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">saveToSd</span><span class="o">(</span><span class="n">File</span> <span class="n">dir</span><span class="o">,</span> <span class="n">Bitmap</span> <span class="n">bitmap</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">String</span> <span class="n">fileName</span> <span class="o">=</span> <span class="n">getFileName</span><span class="o">();</span>
</span><span class='line'>        <span class="n">fileFullPath</span> <span class="o">=</span> <span class="n">dir</span><span class="o">.</span><span class="na">getAbsolutePath</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="n">fileName</span><span class="o">;</span>
</span><span class='line'>        <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>            <span class="c1">// 保存処理</span>
</span><span class='line'>            <span class="n">FileOutputStream</span> <span class="n">fos</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileOutputStream</span><span class="o">(</span><span class="n">fileFullPath</span><span class="o">);</span>
</span><span class='line'>            <span class="n">bitmap</span><span class="o">.</span><span class="na">compress</span><span class="o">(</span><span class="n">Bitmap</span><span class="o">.</span><span class="na">CompressFormat</span><span class="o">.</span><span class="na">JPEG</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="n">fos</span><span class="o">);</span>
</span><span class='line'>            <span class="n">fos</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
</span><span class='line'>            <span class="n">fos</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&quot;Error&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
</span><span class='line'>            <span class="c1">// アルバムに反映</span>
</span><span class='line'>            <span class="n">addGallery</span><span class="o">(</span><span class="n">fileName</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * 保存した画像をギャラリーに追加</span>
</span><span class='line'><span class="cm">     * @param fileName</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">addGallery</span><span class="o">(</span><span class="n">String</span> <span class="n">fileName</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">ContentValues</span> <span class="n">values</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ContentValues</span><span class="o">();</span>
</span><span class='line'>            <span class="n">ContentResolver</span> <span class="n">contentResolver</span> <span class="o">=</span> <span class="n">mContext</span><span class="o">.</span><span class="na">getContentResolver</span><span class="o">();</span>
</span><span class='line'>            <span class="n">values</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">MediaStore</span><span class="o">.</span><span class="na">Images</span><span class="o">.</span><span class="na">Media</span><span class="o">.</span><span class="na">MIME_TYPE</span><span class="o">,</span> <span class="s">&quot;image/jpeg&quot;</span><span class="o">);</span>
</span><span class='line'>            <span class="n">values</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">MediaStore</span><span class="o">.</span><span class="na">Images</span><span class="o">.</span><span class="na">Media</span><span class="o">.</span><span class="na">TITLE</span><span class="o">,</span> <span class="n">fileName</span><span class="o">);</span>
</span><span class='line'>            <span class="n">values</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;_data&quot;</span><span class="o">,</span> <span class="n">fileFullPath</span><span class="o">);</span>
</span><span class='line'>            <span class="n">contentResolver</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">MediaStore</span><span class="o">.</span><span class="na">Images</span><span class="o">.</span><span class="na">Media</span><span class="o">.</span><span class="na">EXTERNAL_CONTENT_URI</span><span class="o">,</span> <span class="n">values</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&quot;Error&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * 画像のファイル名を日付から生成し取得</span>
</span><span class='line'><span class="cm">     * @return</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">String</span> <span class="nf">getFileName</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">Date</span> <span class="n">mDate</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Date</span><span class="o">();</span>
</span><span class='line'>        <span class="n">SimpleDateFormat</span> <span class="n">fileNameFormat</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;yyyyMMdd_HHmmss&quot;</span><span class="o">,</span> <span class="n">Locale</span><span class="o">.</span><span class="na">ENGLISH</span><span class="o">);</span>
</span><span class='line'>        <span class="n">String</span> <span class="n">fileName</span> <span class="o">=</span> <span class="n">fileNameFormat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">mDate</span><span class="o">)</span> <span class="o">+</span> <span class="s">&quot;.jpg&quot;</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="n">fileName</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * SDカードのストレージパス取得</span>
</span><span class='line'><span class="cm">     * @param albumName</span>
</span><span class='line'><span class="cm">     * @return</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">private</span> <span class="n">File</span> <span class="nf">getSdStorageDir</span><span class="o">(</span><span class="n">String</span> <span class="n">albumName</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">Environment</span><span class="o">.</span><span class="na">getExternalStoragePublicDirectory</span><span class="o">(</span>
</span><span class='line'>                <span class="n">Environment</span><span class="o">.</span><span class="na">DIRECTORY_PICTURES</span><span class="o">),</span> <span class="n">albumName</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="o">(!</span><span class="n">dir</span><span class="o">.</span><span class="na">exists</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="o">(!</span><span class="n">dir</span><span class="o">.</span><span class="na">mkdirs</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&quot;Error&quot;</span><span class="o">,</span> <span class="s">&quot;Directory not created&quot;</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="n">dir</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * SDカードが読み込み可能か</span>
</span><span class='line'><span class="cm">     * @return</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">canReadSd</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">String</span> <span class="n">status</span> <span class="o">=</span> <span class="n">Environment</span><span class="o">.</span><span class="na">getExternalStorageState</span><span class="o">();</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(!</span><span class="n">status</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">Environment</span><span class="o">.</span><span class="na">MEDIA_MOUNTED</span><span class="o">))</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="n">Environment</span><span class="o">.</span><span class="na">getExternalStorageDirectory</span><span class="o">();</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">canRead</span><span class="o">()){</span>
</span><span class='line'>            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * SDカードに書き込み可能か</span>
</span><span class='line'><span class="cm">     * @return</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">canWriteSd</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">String</span> <span class="n">status</span> <span class="o">=</span> <span class="n">Environment</span><span class="o">.</span><span class="na">getExternalStorageState</span><span class="o">();</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(!</span><span class="n">status</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">Environment</span><span class="o">.</span><span class="na">MEDIA_MOUNTED</span><span class="o">))</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="n">Environment</span><span class="o">.</span><span class="na">getExternalStorageDirectory</span><span class="o">();</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">canWrite</span><span class="o">()){</span>
</span><span class='line'>            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * SDカードが使用可能か</span>
</span><span class='line'><span class="cm">     * @return</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">canUseSd</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nf">canReadSd</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">canWriteSd</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ネットワーク接続の有無を取得する]]></title>
    <link href="http://lab.dolice.net/blog/2015/05/04/android-network-manager/"/>
    <updated>2015-05-04T09:00:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2015/05/04/android-network-manager</id>
    <content type="html"><![CDATA[<p>Androidアプリでネットワーク接続の有無を判定するサンプルを作成しました。</p>

<p>下記よりサンプルをダウンロードできます。</p>

<h2>サンプルダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/android-network-manager">https://github.com/masakihirokawa/android-network-manager</a></li>
</ul>


<h2>導入手順</h2>

<h3>1. パーミッションの追加</h3>

<p><em>AndroidManifest.xml</em> にネットワーク接続の取得を許可するための権限を追加します。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>2. NetworkManager クラスの組み込み</h3>

<p>ネットワーク状態を判定するクラス <em>NetworkManager.java</em> を「<em>/app/src/main/java/net/dolice/connection/</em>」ディレクトリに配置します。</p>

<h3>3. オンライン状態のチェック</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">// 引数に Context を渡し判定します</span>
</span><span class='line'><span class="k">if</span> <span class="o">(</span><span class="n">NetworkManager</span><span class="o">.</span><span class="na">isConnected</span><span class="o">(</span><span class="k">this</span><span class="o">))</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="s">&quot;オンラインです&quot;</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="s">&quot;オフラインです&quot;</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>下記に実装サンプルを記載します。</p>

<p>サンプルでは、ネットワーク状態をチェックした結果をテキストビューに表示しています。オフラインの時はアラートが表示されます。</p>

<h2>サンプルソースコード</h2>

<h3>MainActivity.java</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">net</span><span class="o">.</span><span class="na">dolice</span><span class="o">.</span><span class="na">networkmanagerex</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.app.AlertDialog</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.util.Log</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.TextView</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.dolice.connection.NetworkManager</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
</span><span class='line'>        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// ネットワーク状態をチェックし状態をテキストビューに表示</span>
</span><span class='line'>        <span class="n">TextView</span> <span class="n">networkStatus</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">network_status</span><span class="o">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">isConnected</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">networkStatus</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;オンラインです&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">networkStatus</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;オフラインです&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// ネットワーク状態のチェック</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isConnected</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(!</span><span class="n">NetworkManager</span><span class="o">.</span><span class="na">isConnected</span><span class="o">(</span><span class="k">this</span><span class="o">))</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">showAlert</span><span class="o">(</span><span class="s">&quot;お知らせ&quot;</span><span class="o">,</span> <span class="s">&quot;ネットワーク接続が確立されていません&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// アラートの表示</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">showAlert</span><span class="o">(</span><span class="n">String</span> <span class="n">title</span><span class="o">,</span> <span class="n">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">AlertDialog</span><span class="o">.</span><span class="na">Builder</span> <span class="n">alertDialogBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AlertDialog</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">);</span>
</span><span class='line'>            <span class="n">alertDialogBuilder</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">title</span><span class="o">);</span>
</span><span class='line'>            <span class="n">alertDialogBuilder</span><span class="o">.</span><span class="na">setMessage</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
</span><span class='line'>            <span class="n">alertDialogBuilder</span><span class="o">.</span><span class="na">setPositiveButton</span><span class="o">(</span><span class="s">&quot;OK&quot;</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span><span class='line'>            <span class="n">alertDialogBuilder</span><span class="o">.</span><span class="na">setCancelable</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="n">AlertDialog</span> <span class="n">alertDialog</span> <span class="o">=</span> <span class="n">alertDialogBuilder</span><span class="o">.</span><span class="na">create</span><span class="o">();</span>
</span><span class='line'>            <span class="n">alertDialog</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Error</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&quot;MainActivity&quot;</span><span class="o">,</span> <span class="s">&quot;showAlert: &quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>NetworkManager.java</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">net</span><span class="o">.</span><span class="na">dolice</span><span class="o">.</span><span class="na">connection</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.net.ConnectivityManager</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.net.NetworkInfo</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * Created by Dolice on 15/03/16.</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NetworkManager</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="cm">/**</span>
</span><span class='line'><span class="cm">     * ネットワーク接続が確立されているか</span>
</span><span class='line'><span class="cm">     * @param context</span>
</span><span class='line'><span class="cm">     * @return</span>
</span><span class='line'><span class="cm">     */</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isConnected</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">){</span>
</span><span class='line'>        <span class="n">ConnectivityManager</span> <span class="n">connectivityManager</span> <span class="o">=</span> <span class="o">(</span><span class="n">ConnectivityManager</span><span class="o">)</span><span class="n">context</span><span class="o">.</span><span class="na">getSystemService</span><span class="o">(</span><span class="n">Context</span><span class="o">.</span><span class="na">CONNECTIVITY_SERVICE</span><span class="o">);</span>
</span><span class='line'>        <span class="n">NetworkInfo</span> <span class="n">networkInfo</span> <span class="o">=</span> <span class="n">connectivityManager</span><span class="o">.</span><span class="na">getActiveNetworkInfo</span><span class="o">();</span>
</span><span class='line'>        <span class="k">if</span><span class="o">(</span><span class="n">networkInfo</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">){</span>
</span><span class='line'>            <span class="k">return</span> <span class="n">connectivityManager</span><span class="o">.</span><span class="na">getActiveNetworkInfo</span><span class="o">().</span><span class="na">isConnected</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[指定した時間後に処理を遅延実行する]]></title>
    <link href="http://lab.dolice.net/blog/2015/05/04/android-handler-post-delayed/"/>
    <updated>2015-05-04T08:00:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2015/05/04/android-handler-post-delayed</id>
    <content type="html"><![CDATA[<p>Androidアプリで指定した時間後に処理を実行するコードです。</p>

<p>例えばフェードアウトアニメーション後にメモリを解放したい際などに使用します。</p>

<p>下記のコードでは、3秒後に処理を実行するよう指定しています（<em>3秒</em>の場合は <em>3000</em>のようにミリ秒単位で指定します）。</p>

<h2>サンプルソースコード</h2>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">// 3秒後に処理を実行する</span>
</span><span class='line'><span class="k">new</span> <span class="nf">Handler</span><span class="o">().</span><span class="na">postDelayed</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="c1">// TODO: ここで処理を実行する</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">},</span> <span class="mi">3000</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[綺麗な高画質壁紙 - Androidアプリ]]></title>
    <link href="http://lab.dolice.net/blog/2015/05/03/android-beautiful-wallpapers-ja/"/>
    <updated>2015-05-03T12:00:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2015/05/03/android-beautiful-wallpapers-ja</id>
    <content type="html"><![CDATA[<div class="app_screenshot_container"><img src="http://dolice.net/mb/android/marketing/images/beautiful_wallpapers/screenshot/ja/screenshot1.jpg" class="app_screenshot" /></div>


<p>HD画質の綺麗な壁紙を 10,000 枚以上、無料でダウンロードできます。壁紙は毎日追加・更新されます。</p>

<p>高品質な画像を1枚ずつ厳選しておりますので、ギャラリーアプリとしてもお楽しみいただけます。</p>

<h2>特長</h2>

<p>このアプリの特長は、壁紙の品質を重視し 1枚ずつ手作業で更新している点です。</p>

<p>画像ギャラリーとしてお楽しみいただけるだけでなく、使いたくなる壁紙がより多く見つかるよう努めています。</p>

<h2>Google Play からダウンロード</h2>

<ul>
<li><strong><a href="https://play.google.com/store/apps/details?id=net.dolice.beautifulwallpapers" title="綺麗な高画質壁紙">綺麗な高画質壁紙</a></strong></li>
</ul>


<h2>シンプルかつ豊富な機能</h2>

<p>簡単操作でお気に入りの壁紙を保存したり、アプリから直接ホーム画面とロック画面に設定できます。</p>

<p>最新の壁紙や人気の壁紙も一覧でき、「人物」「イラスト」「アート」「シンプル」「可愛い」等のカテゴリも 14 種類以上ご用意しています。</p>

<div class="app_screenshot_container mt12"><img src="http://dolice.net/mb/android/marketing/images/beautiful_wallpapers/screenshot/ja/screenshot2.jpg" class="app_screenshot" /></div>


<h2>見易いサムネイル機能</h2>

<p>壁紙のサムネイル一覧表示やフルスクリーン表示などのギャラリー機能も充実しています。</p>

<div class="app_screenshot_container mt12"><img src="http://dolice.net/mb/android/marketing/images/beautiful_wallpapers/screenshot/ja/screenshot3.jpg" class="app_screenshot" /></div>


<h2>お気に入り機能</h2>

<p>壁紙をお気に入りに追加することで、いつでも好きな壁紙を一覧できます。</p>

<div class="app_screenshot_container mt12"><img src="http://dolice.net/mb/android/marketing/images/beautiful_wallpapers/screenshot/ja/screenshot4.jpg" class="app_screenshot" /></div>


<h2>壁紙の共有機能</h2>

<p>Facebook／Twitter／LINE／Instagram／Pinterest／メール等での共有機能も搭載しています。</p>

<div class="app_screenshot_container mt12"><img src="http://dolice.net/mb/android/marketing/images/beautiful_wallpapers/screenshot/ja/screenshot5.jpg" class="app_screenshot" /></div>


<h2>いつもの画面を彩りましょう</h2>

<p>Android用の壁紙や LINEのトーク背景をお探しの方は、是非このアプリをお試しください。</p>

<p>綺麗で高級感のある壁紙を厳選しておりますので、お気に入りがきっと見つかります。</p>

<p>このアプリでいつもの画面を彩りましょう！</p>

<h2>主な機能</h2>

<ol>
<li>簡単操作で壁紙を保存</li>
<li>アプリから直接壁紙に設定</li>
<li>壁紙は随時追加・更新</li>
<li>最新や人気の壁紙の一覧機能</li>
<li>14種類以上のカテゴリ表示機能</li>
<li>壁紙のお気に入り機能</li>
<li>壁紙のサムネイル一覧表示機能</li>
<li>壁紙のフルスクリーン表示機能</li>
<li>Facebook／Twitter／LINE／Instagram／メール等での共有機能</li>
<li>壁紙の更新をプッシュ通知でお知らせ</li>
</ol>


<h2>壁紙のサイズ</h2>

<ul>
<li>1440 × 2560ピクセル（<em>WQHD</em>）</li>
<li>1080 × 1920ピクセル（<em>FHD</em>）</li>
<li>720 × 1280ピクセル（<em>HD</em>）</li>
</ul>


<h2>価格</h2>

<ul>
<li>無料</li>
</ul>


<h2>対応言語</h2>

<ul>
<li>日本語</li>
<li>英語</li>
<li>ロシア語</li>
</ul>


<h2>著作権に関する注意事項</h2>

<p>当アプリは壁紙のダウンロードアプリです。壁紙の著作権はコンテンツの提供元に属します。</p>

<h2>Google Play からダウンロード</h2>

<ul>
<li><strong><a href="https://play.google.com/store/apps/details?id=net.dolice.beautifulwallpapers" title="綺麗な高画質壁紙">綺麗な高画質壁紙</a></strong></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Beautiful Wallpapers HD - Android app]]></title>
    <link href="http://lab.dolice.net/blog/2015/05/03/android-beautiful-wallpapers-en/"/>
    <updated>2015-05-03T11:00:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2015/05/03/android-beautiful-wallpapers-en</id>
    <content type="html"><![CDATA[<div class="app_screenshot_container"><img src="http://dolice.net/mb/android/marketing/images/beautiful_wallpapers/screenshot/en/screenshot1.jpg" class="app_screenshot" /></div>


<p>There&#8217;s no reason you need to settle for a standard-looking lock screen or home screen on your mobile device when instead you could customize it. The Beautiful Wallpapers HD app can be used on your Android to completely change up how your device looks. Use these on your lock and/or home screen and what&#8217;s really cool is that the app is updated daily with new exciting choices.</p>

<h2>Google Play Store</h2>

<ul>
<li><strong><a href="https://play.google.com/store/apps/details?id=net.dolice.beautifulwallpapers" title="Beautiful Wallpapers HD">Beautiful Wallpapers HD</a></strong></li>
</ul>


<h2>A Huge Selection of Free Options</h2>

<p>This app provides you with more than 10,000 free wallpapers that you can download and then save to your device. There are 14 categories of wallpapers to choose from, which also makes it easy to find what you&#8217;re looking for. During your browsing just add wallpapers to your favorites folder so they are there when you want to use them. As you view the wallpapers in the gallery you&#8217;ll find that they are displayed as full screen and they are shown as a slideshow. If you come across ones that you think are perfect for your family and friends why not share them through Twitter, Facebook, email, and Instagram.</p>

<p>There has been a pretty extensive update recently that basically gives users a whole lot more of everything. There are more wallpapers, they are now updated daily, the favorites list is all new, the wallpaper categories are all new, the ability to share on Instagram is new, minor bugs have been fixed, and so much more. The app scores quite high with users getting four out of five stars from them.</p>

<h2>The User Experience</h2>

<p>Despite the fact that you have such a wide selection available to you the app itself remains incredibly easy to use. You can view the wallpapers in full screen as mentioned or as a thumbnail if you&#8217;d rather. You can enable the push notification to get information whenever updates are made, and there is a list function so that you can check out the most popular and the latest wallpapers.</p>

<p>I find the app incredibly easy and enjoyable to browse through. I really like all the beautiful wallpapers you can discover and the category groupings make navigation much easier. The only downfall for me is the ad banner that appears across the bottom of the screen as it can be a bit distracting.</p>

<div class="app_screenshot_container mt12"><img src="http://dolice.net/mb/android/marketing/images/beautiful_wallpapers/screenshot/en/screenshot2.jpg" class="app_screenshot" /></div>


<h2>Pros and Cons</h2>

<h3>Pros</h3>

<ul>
<li>There are more than 10,000 wallpapers and more are constantly being added</li>
<li>Mark wallpapers as favorites</li>
<li>Share wallpaper with friends and family by email, Instagram, Twitter, and Facebook</li>
<li>Wallpapers are grouped into 14 categories to help you find what you want</li>
<li>There is a most popular and latest list available</li>
</ul>


<h3>Cons</h3>

<ul>
<li>The ad banner across the bottom of the screen can be distracting</li>
</ul>


<div class="app_screenshot_container mt12"><img src="http://dolice.net/mb/android/marketing/images/beautiful_wallpapers/screenshot/en/screenshot5.jpg" class="app_screenshot" /></div>


<h2>Final Words</h2>

<p>The Beautiful Wallpapers HD app is a beautiful offering that gives you a huge free selection of wallpapers to use for your lock and home screen.</p>

<p><em>Article source: <a href="http://www.apppicker.com/" title="AppPicker.com">AppPicker.com</a></em></p>

<h2>Main functions</h2>

<ol>
<li>Browse pages and save wallpapers</li>
<li>Wallpapers are added and updated daily</li>
<li>List functions for the latest and popular wallpapers</li>
<li>Display over 14 wallpaper categories</li>
<li>Wallpaper favorites function</li>
<li>View a list of wallpaper thumbnails</li>
<li>Display wallpapers full screen</li>
<li>Share wallpapers via Facebook / Twitter / Instagram / email</li>
<li>Learn about wallpaper updates through push notifications</li>
</ol>


<h2>Wallpaper sizes</h2>

<ul>
<li>1440 × 2560 pixel (<em>WQHD</em>)</li>
<li>1080 × 1920 pixel (<em>FHD</em>)</li>
<li>720 × 1280 pixel (<em>HD</em>)</li>
</ul>


<h2>Price</h2>

<ul>
<li>Free</li>
</ul>


<h2>Copyright display</h2>

<p>This app is a wallpaper download app. The wallpaper copyrights belong to the content providers.</p>

<h2>Official Facebook Page</h2>

<ul>
<li><strong><a href="https://www.facebook.com/net.dolice.beautifulwallpapers" title="Facebook - Beautiful Wallpapers HD">Facebook - Beautiful Wallpapers HD</a></strong></li>
</ul>


<h2>YouTube</h2>

<ul>
<li><strong><a href="https://www.youtube.com/watch?v=nQqFY4PW_xI" title="YouTube - Beautiful Wallpapers HD">YouTube - Beautiful Wallpapers HD</a></strong></li>
</ul>


<h2>Google Play Store</h2>

<ul>
<li><strong><a href="https://play.google.com/store/apps/details?id=net.dolice.beautifulwallpapers" title="Beautiful Wallpapers HD">Beautiful Wallpapers HD</a></strong></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[浮世絵壁紙HD 300枚無料 - iPhone/iPodアプリ]]></title>
    <link href="http://lab.dolice.net/blog/2014/10/24/ios-ukiyo-e-ja/"/>
    <updated>2014-10-24T18:28:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/10/24/ios-ukiyo-e-ja</id>
    <content type="html"><![CDATA[<div class="app_screenshot_container"><img src="http://dolice.net/mb/ios/marketing/images/ukiyo-e/screenshot/ja/screenshot1.jpg" class="app_screenshot" /></div>


<p>iPhoneアプリ「<a href="https://itunes.apple.com/us/app/ukiyoe/id835559799?ls=1&amp;mt=8" title="浮世絵壁紙HD">浮世絵壁紙HD</a>」は、世界中で愛される葛飾北斎、歌川広重、東洲斎写楽などの作品を一枚一枚丁寧に、独自手法で鮮やかに加工して収録した無料アプリです。iPhone 6/ 6 Plus/ 5s/ 5c/ 5に対応。iOS 7と iOS 8の視差効果もサポートしています。</p>

<p>古紙独特の皺や染みなども丹念に修復していますので、浮世絵の持つ目の覚めるような紅や藍の色合いを楽しめます。フランスの印象派やゴッホにも多大な影響を与えた名作の数々を、あなたの iPhoneに彩らせ和風にアレンジしましょう。</p>

<p>美人画や水墨画、風景画の他、和風柄物の中でも趣のある作品を収録していますので、お気に入りがきっと見つかります。季節も秋から冬へ移り変わる時期、普段と少し気分を変えたいという方は、このアプリで iPhoneを和風にアレンジしてみてはいかがでしょうか。</p>

<p>下記よりアプリをダウンロードできますので、是非ご利用ください。</p>

<p><a href="https://itunes.apple.com/jp/app/fu-shi-hui-bi-zhihd-300mei/id835559799?mt=8&uo=4" target="itunes_store" style="display:inline-block;overflow:hidden;background:url(https://linkmaker.itunes.apple.com/htmlResources/assets/ja_jp//images/web/linkmaker/badge_appstore-lrg.png) no-repeat;width:135px;height:40px;@media only screen{background-image:url(https://linkmaker.itunes.apple.com/htmlResources/assets/ja_jp//images/web/linkmaker/badge_appstore-lrg.svg);}"></a></p>

<h2>主な機能</h2>

<ol>
<li>シンプルな操作で壁紙を保存</li>
<li>15種類以上のカテゴリ表示機能</li>
<li>壁紙のお気に入り機能</li>
<li>壁紙のサムネイル一覧表示機能</li>
<li>壁紙のフルスクリーン表示機能</li>
<li>壁紙のスライドショー機能</li>
<li>LINE/ Facebook/ Twitter/ Instagram/ メールでの壁紙共有機能</li>
<li>壁紙の更新をプッシュ通知でお知らせ</li>
</ol>


<h2>壁紙のサイズ</h2>

<ul>
<li>iPhone 6: 890 × 1590ピクセル</li>
<li>iPhone 6 Plus: 1438 × 2592ピクセル</li>
<li>iPhone 5s/ 5c/ 5: 744 × 1392ピクセル</li>
</ul>


<h2>価格</h2>

<ul>
<li>無料</li>
</ul>


<h2>対応言語</h2>

<ul>
<li>日本語</li>
<li>英語</li>
<li>ロシア語</li>
<li>フランス語</li>
</ul>


<h2>著作権に関する注意事項</h2>

<p>浮世絵は著作権フリー（著作権切れ）の作品のみを選別し、iPhone用の壁紙、または作品集として一枚ずつ丹念に加工・修復しています。</p>

<h2>公式Facebookページ</h2>

<ul>
<li><a href="https://www.facebook.com/dolice.ukiyoe.ja">https://www.facebook.com/dolice.ukiyoe.ja</a></li>
</ul>


<h2>ユーザーの皆様の声</h2>

<p>日本画、浮世絵、歴史が好きでこんな壁紙を探していたので凄く嬉しいです！今まで和風壁紙はありましたがデシタルの壁紙ばかりしか見当たらなかったのですが、リアル浮世絵が壁紙で使えるのがナイス！大正ロマンなのもあるし、そういうの好きな人にはお勧めします！</p>

<hr />

<p>美しい！和のテイストが素晴しい。どれを表に出しても自慢出来ます。むしろ全てを表に出したい。毎日異なる壁紙として楽しんでいます。</p>

<hr />

<p>浮世絵とひとくちに言ってもこんなにいろんな種類やジャンルがあったんだと驚きました
どれも素敵でクオリティも高い！
このアプリをきっかけに浮世絵の興味がかなり湧きました</p>

<hr />

<p>無料でこれだけ集まってる浮世絵集は他にはない！千代紙のようなテイストの画像もたくさんあって、壁紙を週替わりで変えていーんじゃないかっていうくらい贅沢なラインナップ。どれを保存しよ〜と嬉しい悩みが堪能できました。眺めてるだけで癒されます。</p>

<hr />

<p>クリアーで綺麗な発色で好きです！！
浮世絵だけじゃなく、他の和風の壁紙も入っていて、和の壁紙を探している人にはバランスが良いと思います。桜の絵が気に入りました。</p>

<hr />

<p>たくさんの浮世絵がどれも綺麗で楽しいです！操作も簡単だしスムーズで分かりやすいです。
欲をいえば、それぞれの浮世絵の名前・作者など、作品情報があるとありがたいです。気に入って毎日使っている浮世絵の名前とかは気になるので。</p>

<hr />

<p>タブレットが生まれ変わった。日本画を身近に感じてとても良いです。</p>

<hr />

<p>人だけでなく花、景色などどれも綺麗。無料とは信じ難い程。</p>

<hr />

<p>日本的な美しさがよく出ていると思いました。</p>

<p><a href="https://itunes.apple.com/jp/app/fu-shi-hui-bi-zhihd-300mei/id835559799?mt=8&uo=4" target="itunes_store" style="display:inline-block;overflow:hidden;background:url(https://linkmaker.itunes.apple.com/htmlResources/assets/ja_jp//images/web/linkmaker/badge_appstore-lrg.png) no-repeat;width:135px;height:40px;@media only screen{background-image:url(https://linkmaker.itunes.apple.com/htmlResources/assets/ja_jp//images/web/linkmaker/badge_appstore-lrg.svg);}"></a></p>

<h2>関連記事</h2>

<ul>
<li><strong><a href="http://lab.dolice.net/blog/2014/03/11/ios-beautiful-wallpaper-ja/" title="綺麗な壁紙HD 6000枚以上無料 - iPhone/iPodアプリ">綺麗な壁紙HD 6000枚以上無料 - iPhone/iPodアプリ</a></strong></li>
<li><strong><a href="http://lab.dolice.net/blog/2014/03/11/ios-cool-wallpaper-ja/" title="クールな壁紙HD 6000枚以上無料 - iPhone/iPodアプリ">クールな壁紙HD 6000枚以上無料 - iPhone/iPodアプリ</a></strong></li>
<li><strong><a href="http://lab.dolice.net/blog/2014/03/11/ios-illustration-wallpaper-ja/" title="アニメ・イラスト壁紙 4000枚以上無料 - iPhone/iPodアプリ">アニメ・イラスト壁紙 4000枚以上無料 - iPhone/iPodアプリ</a></strong></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iAdインタースティシャル広告を表示するサンプル]]></title>
    <link href="http://lab.dolice.net/blog/2014/10/24/objc-iad-interstitial/"/>
    <updated>2014-10-24T12:00:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/10/24/objc-iad-interstitial</id>
    <content type="html"><![CDATA[<p>iPhoneアプリに iAdインタースティシャル広告を表示するサンプルを下記に作成しました。</p>

<p>実装に必要な部分のみを抜粋したソースコードも併せて記載しますので、少しでも参考になれば幸いです。</p>

<h2>サンプルダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-iad-interstitial">https://github.com/masakihirokawa/objc-iad-interstitial</a></li>
</ul>


<h2>サンプルソースコード</h2>

<h3>ViewController.h</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &lt;iAd/iAd.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@interface</span> <span class="nc">ViewController</span> : <span class="nc">UIViewController</span> <span class="o">&lt;</span><span class="n">ADInterstitialAdDelegate</span><span class="o">&gt;</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">ADInterstitialAd</span> <span class="o">*</span><span class="n">iAdInterstitial</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>ViewController.m</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// iAdインタースティシャル広告読み込み</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">loadiAdInterstitial</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">iAdInterstitial</span> <span class="o">=</span> <span class="p">[[</span><span class="n">ADInterstitialAd</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="n">iAdInterstitial</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">self</span><span class="p">;</span>
</span><span class='line'>    <span class="n">self</span><span class="p">.</span><span class="n">interstitialPresentationPolicy</span> <span class="o">=</span> <span class="n">ADInterstitialPresentationPolicyManual</span><span class="p">;</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="n">requestInterstitialAdPresentation</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// iAdインタースティシャル広告がロードされた時に呼ばれる</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">interstitialAdDidLoad:</span><span class="p">(</span><span class="n">ADInterstitialAd</span> <span class="o">*</span><span class="p">)</span><span class="nv">interstitialAd</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">iAdInterstitial</span><span class="p">.</span><span class="n">loaded</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="p">[</span><span class="n">iAdInterstitial</span> <span class="nl">presentFromViewController:</span><span class="n">self</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// iAdインタースティシャル広告がアンロードされた時に呼ばれる</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">interstitialAdDidUnload:</span><span class="p">(</span><span class="n">ADInterstitialAd</span> <span class="o">*</span><span class="p">)</span><span class="nv">interstitialAd</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">iAdInterstitial</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// iAdインタースティシャル広告の読み込み失敗時に呼ばれる</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">interstitialAd:</span><span class="p">(</span><span class="n">ADInterstitialAd</span> <span class="o">*</span><span class="p">)</span><span class="nv">interstitialAd</span> <span class="nf">didFailWithError:</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="p">)</span><span class="nv">error</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">iAdInterstitial</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// iAdインタースティシャル広告が閉じられた時に呼ばれる</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">interstitialAdActionDidFinish:</span><span class="p">(</span><span class="n">ADInterstitialAd</span> <span class="o">*</span><span class="p">)</span><span class="nv">interstitialAd</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">iAdInterstitial</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>関連記事</h2>

<ul>
<li><strong><a href="http://lab.dolice.net/blog/2014/10/18/iad-countries/" title="iAdの対応国が25ヶ国に増加">iAdの対応国が25ヶ国に増加</a></strong></li>
<li><strong><a href="http://lab.dolice.net/blog/2014/09/28/iphone6-admob/" title="AdMobバナー広告の iPhone 6/6 Plus対応">AdMobバナー広告の iPhone 6/6 Plus対応</a></strong></li>
<li><strong><a href="http://lab.dolice.net/blog/2014/07/30/admob-optimization/" title="AdMobの広告収益をアップする5つのポイント">AdMobの広告収益をアップする5つのポイント</a></strong></li>
</ul>


<h2>お薦めの参考書</h2>

<p><strong><a href="http://www.amazon.co.jp/gp/product/4861009499/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4861009499&linkCode=as2&tag=pinocchio-22">たのしいSwiftプログラミング―[iOS 8&amp;Xcode 6対応]</a></strong><img src="http://ir-jp.amazon-adsystem.com/e/ir?t=pinocchio-22&l=as2&o=9&a=4861009499" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><br />
Swiftについて知りたい開発者の方のみならず、プログラミング未経験者の方にも参考になる内容になっています。Swiftの基礎を一から丁寧に解説されており、この書籍があればネットで調べる手間をかなり省くことができると思います。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iAdの対応国が25ヶ国に増加]]></title>
    <link href="http://lab.dolice.net/blog/2014/10/18/iad-countries/"/>
    <updated>2014-10-18T15:43:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/10/18/iad-countries</id>
    <content type="html"><![CDATA[<p>iAd配信国の追加が行われ、25ヶ国で広告が表示されるようになりました。現在の対応国は下記の通りです。</p>

<h3>iAdの対応国（2014年10月現在）</h3>

<ul>
<li>米国</li>
<li>カナダ</li>
<li>メキシコ</li>
<li>イギリス</li>
<li>フランス</li>
<li>ドイツ</li>
<li>イタリア</li>
<li>スペイン</li>
<li>アイルランド</li>
<li>ロシア</li>
<li>スイス</li>
<li>日本</li>
<li>台湾</li>
<li>香港</li>
<li>オーストラリア</li>
<li>ニュージーランド</li>
<li>オーストリア</li>
<li>ベルギー</li>
<li>デンマーク</li>
<li>フィンランド</li>
<li>ルクセンブルク</li>
<li>オランダ</li>
<li>ノルウェー</li>
<li>ポーランド</li>
<li>スウェーデン</li>
</ul>


<p>新たにインタースティシャル広告やプリロール動画広告、MREC バナー広告もアナウンスされ、今後の動きが楽しみですね。</p>

<h2>お薦めの参考書</h2>

<p><strong><a href="http://www.amazon.co.jp/gp/product/4798136050/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4798136050&linkCode=as2&tag=pinocchio-22">Cocos2d-xスマートフォン2Dゲーム開発講座 Cocos2d-x 3対応</a></strong><img src="http://ir-jp.amazon-adsystem.com/e/ir?t=pinocchio-22&l=as2&o=9&a=4798136050" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><br />
Cocos2d-xを利用したスマートフォン向け3Dゲーム開発の手法を、サンプルを基に作りながら学ぶ事ができます。実際に遊べるゲームサンプルが4種収録されており、iOS / Android両対応のゲームを開発したい方には必見の一冊になっています。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iPhone 6/6 Plusのホーム画面とロック画面のプレビュー素材]]></title>
    <link href="http://lab.dolice.net/blog/2014/09/28/iphone6-home-lock-screen-preview-image/"/>
    <updated>2014-09-28T17:00:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/09/28/iphone6-home-lock-screen-preview-image</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/iphone6-home-lock-screen-preview-image/iphone6_plus.jpg" title="iPhone 6 Plus (5.5-inch)" alt="iPhone 6 Plus (5.5-inch)" /></p>

<p><img src="http://lab.dolice.net/images/article/iphone6-home-lock-screen-preview-image/iphone6.jpg" title="iPhone 6 (4.7-inch)" alt="iPhone 6 (4.7-inch)" /></p>

<p>iPhone 6/6 Plusのホーム画面とロック画面のプレビュー素材を作成しました。</p>

<p>下記より素材をダウンロードできます。背景透過・ラスタライズ済みの PNGファイルが入っています。</p>

<h2>ダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/iphone6-home-lock-screen-preview-image">https://github.com/masakihirokawa/iphone6-home-lock-screen-preview-image</a></li>
</ul>


<p>iPhone 6/6 Plusの実機でスクリーンショットを撮り、過去に iPhone 5/4用に作成したベクター素材をリサイズしながら重ねるという大雑把な工程でしたので、ピクセル単位では正確でない箇所もあるかもしれませんが、グリッド単位では問題ありませんので、必要に応じてご使用いただければ幸いです。</p>

<h2>お薦めの参考書</h2>

<p><strong><a href="http://www.amazon.co.jp/gp/product/4861009499/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4861009499&linkCode=as2&tag=pinocchio-22">たのしいSwiftプログラミング―[iOS 8&amp;Xcode 6対応]</a></strong><img src="http://ir-jp.amazon-adsystem.com/e/ir?t=pinocchio-22&l=as2&o=9&a=4861009499" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><br />
Swiftについて知りたい開発者の方のみならず、プログラミング未経験者の方にも参考になる内容になっています。Swiftの基礎を一から丁寧に解説されており、この書籍があればネットで調べる手間をかなり省くことができると思います。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AdMobバナー広告の iPhone 6/6 Plus対応]]></title>
    <link href="http://lab.dolice.net/blog/2014/09/28/iphone6-admob/"/>
    <updated>2014-09-28T16:00:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/09/28/iphone6-admob</id>
    <content type="html"><![CDATA[<p>AdMobバナー広告を iPhone 6/6 Plus（4.7-inch/5.5-inch）で表示する際は、下記のようにバナーを初期化することで綺麗に表示されます。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">GADBannerView</span> <span class="o">*</span><span class="n">gadView</span> <span class="o">=</span> <span class="p">[[</span><span class="n">GADBannerView</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithAdSize:</span>
</span><span class='line'>                          <span class="n">GADAdSizeFullWidthPortraitWithHeight</span><span class="p">(</span><span class="n">GAD_SIZE_320x50</span><span class="p">.</span><span class="n">height</span><span class="p">)];</span>
</span></code></pre></td></tr></table></div></figure>


<p>バナーの横幅をフルサイズにして縦幅を自動調整する指定を行っています。</p>

<p>テキスト広告については既に対応がされているようで、レスポンシブなデザインになっていました。</p>

<h2>バナー表示クラスのダウンロード</h2>

<p>下記に AdMobバナーを表示する「<a href="https://github.com/masakihirokawa/objc-classes-dc-admob-banner" title="DCAdMobBanner">DCAdMobBanner</a>」クラスを作成しました。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-admob-banner">https://github.com/masakihirokawa/objc-classes-dc-admob-banner</a></li>
</ul>


<p>実装ファイルの 53行目でアプリの広告ユニットIDを指定していますので、こちらを変更の上ご使用ください。</p>

<h2>関連記事</h2>

<ul>
<li><strong><a href="http://lab.dolice.net/blog/2014/07/30/admob-optimization/" title="AdMobの広告収益をアップする5つのポイント">AdMobの広告収益をアップする5つのポイント</a></strong></li>
<li><strong><a href="http://lab.dolice.net/blog/2014/03/12/admob-mediation/" title="AdMobのメディエーションを最適化する方法">AdMobのメディエーションを最適化する方法</a></strong></li>
<li><strong><a href="http://lab.dolice.net/blog/2014/02/25/objc-admob-inters/" title="iPhoneアプリに AdMobのインタースティシャル広告を導入する方法">iPhoneアプリに AdMobのインタースティシャル広告を導入する方法</a></strong></li>
</ul>


<h2>お薦めの参考書</h2>

<p><strong><a href="http://www.amazon.co.jp/gp/product/4861009499/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4861009499&linkCode=as2&tag=pinocchio-22">たのしいSwiftプログラミング―[iOS 8&amp;Xcode 6対応]</a></strong><img src="http://ir-jp.amazon-adsystem.com/e/ir?t=pinocchio-22&l=as2&o=9&a=4861009499" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><br />
Swiftについて知りたい開発者の方のみならず、プログラミング未経験者の方にも参考になる内容になっています。Swiftの基礎を一から丁寧に解説されており、この書籍があればネットで調べる手間をかなり省くことができると思います。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS 8端末であるかの判定方法]]></title>
    <link href="http://lab.dolice.net/blog/2014/09/28/ios8-decision/"/>
    <updated>2014-09-28T15:00:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/09/28/ios8-decision</id>
    <content type="html"><![CDATA[<p>Objective-Cで iOS 8以降の端末であるか判定するコードを以下に記載します。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// iOS 8以降であるか</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isIOS8</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">osversion</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIDevice</span> <span class="n">currentDevice</span><span class="p">].</span><span class="n">systemVersion</span><span class="p">;</span>
</span><span class='line'>    <span class="n">NSArray</span>  <span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="n">osversion</span> <span class="nl">componentsSeparatedByString:</span><span class="s">@&quot;.&quot;</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="p">([(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)[</span><span class="n">a</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">]</span> <span class="n">intValue</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">8</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>マクロで判定する場合は以下のように記載します。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#if __IPHONE_OS_VERSION_MAX_ALLOWED &gt;= 80000</span>
</span><span class='line'>    <span class="c1">// iOSのバージョンが 8.0以降の場合の処理</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#else</span>
</span><span class='line'>    <span class="c1">// それ以外の場合の処理</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#endif</span>
</span></code></pre></td></tr></table></div></figure>


<h2>お薦めの参考書</h2>

<p><strong><a href="http://www.amazon.co.jp/gp/product/4861009499/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4861009499&linkCode=as2&tag=pinocchio-22">たのしいSwiftプログラミング―[iOS 8&amp;Xcode 6対応]</a></strong><img src="http://ir-jp.amazon-adsystem.com/e/ir?t=pinocchio-22&l=as2&o=9&a=4861009499" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><br />
Swiftについて知りたい開発者の方のみならず、プログラミング未経験者の方にも参考になる内容になっています。Swiftの基礎を一から丁寧に解説されており、この書籍があればネットで調べる手間をかなり省くことができると思います。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iPhone 6/6 Plus Home Screen and Lock Screen Png material]]></title>
    <link href="http://lab.dolice.net/blog/2014/09/27/iphone6-home-lock-screen-preview-image-en/"/>
    <updated>2014-09-27T17:00:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/09/27/iphone6-home-lock-screen-preview-image-en</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/iphone6-home-lock-screen-preview-image/iphone6_plus.jpg" title="iPhone 6 Plus (5.5-inch)" alt="iPhone 6 Plus (5.5-inch)" /></p>

<p><img src="http://lab.dolice.net/images/article/iphone6-home-lock-screen-preview-image/iphone6.jpg" title="iPhone 6 (4.7-inch)" alt="iPhone 6 (4.7-inch)" /></p>

<h2>Download</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/iphone6-home-lock-screen-preview-image">https://github.com/masakihirokawa/iphone6-home-lock-screen-preview-image</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iPhoneアプリ「望みが叶う！引き寄せの法則アプリ」アップデート]]></title>
    <link href="http://lab.dolice.net/blog/2014/07/30/ios-law-of-attraction-update-1-1-0/"/>
    <updated>2014-07-30T17:27:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/07/30/ios-law-of-attraction-update-1-1-0</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/law_of_attraction.jpg" title="iPhone App: 望みが叶う！引き寄せの法則アプリ" alt="iPhone App: 望みが叶う！引き寄せの法則アプリ" /></p>

<p>引き寄せの法則を簡単に実践できる iPhoneアプリ「<a href="https://itunes.apple.com/us/app/law-of-attraction-free/id841157677?ls=1&amp;mt=8" title="望みが叶う！引き寄せの法則アプリ">望みが叶う！引き寄せの法則アプリ</a>」をアップデートしました。</p>

<p>今回はユーザーの皆様からご要望の多かった下記 3つの機能を追加いたしました。</p>

<h2>皆様の声から新しく追加した機能</h2>

<ul>
<li>「望み」の簡易切り替え機能</li>
<li>「望み」のランダム選択機能</li>
<li>「望み」のフォント設定機能</li>
</ul>


<p>このアプリは作成した「望み」を1つ選択しアクティブにすることで、その「望み」を引き寄せられる造りなのですが、特に「望み」の簡易切り替え機能はご要望が多く、引き寄せたい「望み」をワンタッチでアクティブにできるよう改良いたしました。</p>

<p>引き寄せ画面の右上にある射抜かれたハートのアイコンから「望み」の簡易選択メニューを開くことができます。ランダム選択ボタンは、選択メニューの下部にご用意しています。</p>

<p>また、引き寄せ画面の文字サイズや色を変更したいとの声も頂戴していましたので、「文字サイズ」「文字色」「文字スタイル（ボールド体など）」も設定画面より指定できるようにしています。</p>

<p>他にも、パスワードロック機能のセキュリティ強化や、引き寄せ画面のレイアウト調整など、その他細かな改良を行いました。</p>

<p>このアプリをご愛顧いただいている皆様により快適にご使用いただけるよう、痒いところに手が届く更新を心掛けました。</p>

<p>まだ使ったことがないという方も、下記から無料でアプリをダウンロードできますので、この機会に是非ご使用ください！</p>

<p><a href="https://itunes.apple.com/jp/app/wangmiga-yeu!-yinki-jiseno/id841157677?mt=8&uo=4" target="itunes_store" style="display:inline-block;overflow:hidden;background:url(https://linkmaker.itunes.apple.com/htmlResources/assets/ja_jp//images/web/linkmaker/badge_appstore-lrg.png) no-repeat;width:135px;height:40px;@media only screen{background-image:url(https://linkmaker.itunes.apple.com/htmlResources/assets/ja_jp//images/web/linkmaker/badge_appstore-lrg.svg);}"></a></p>

<h2>主な機能</h2>

<ul>
<li>直感的な操作で美しい「望み」を引き寄せ</li>
<li>豊富なサンプル文から自分好みの「望み」を作成</li>
<li>引き寄せの時間を忘れないようプッシュ通知を設定</li>
<li>アプリ起動時のパスワードロック機能</li>
<li>iCloudへのバックアップ機能</li>
</ul>


<h2>価格</h2>

<ul>
<li>無料</li>
</ul>


<h2>対応言語</h2>

<ul>
<li>日本語</li>
<li>英語</li>
</ul>


<h2>公式Facebookページ</h2>

<ul>
<li><a href="https://www.facebook.com/dolice.law.of.attraction">https://www.facebook.com/dolice.law.of.attraction</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AdMobの広告収益をアップする5つのポイント]]></title>
    <link href="http://lab.dolice.net/blog/2014/07/30/admob-optimization/"/>
    <updated>2014-07-30T14:50:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/07/30/admob-optimization</id>
    <content type="html"><![CDATA[<p><a href="https://apps.admob.com/" title="AdMob">AdMob</a>の広告収益をアップする 5つのポイントを以下に記載します。</p>

<p>下記の設定項目を最適化することで、広告収益が2割程向上しました。他にも改善点があるかもしれませんので、また統計が取れ次第こちらに追記します。</p>

<h2>目次</h2>

<ol>
<li><a href="#admob-opt1">メディエーションに指定しているアドネットワークの国別設定</a></li>
<li><a href="#admob-opt2">メディエーションのアドネットワーク最適化</a></li>
<li><a href="#admob-opt3">テキスト広告のスタイルをアプリの配色に合わせて最適化</a></li>
<li><a href="#admob-opt4">広告の表示頻度について</a></li>
<li><a href="#admob-opt5">インタースティシャル広告の導入</a></li>
<li><a href="#admob-opt-ex">自社広告の出稿</a> (e.x.)</li>
</ol>


<h2><a name="admob-opt1">1. メディエーションに指定しているアドネットワークの国別設定</a></h2>

<p>メディエーションの設定から、iAdや Nendなどの広告を表示する国を指定することができます。</p>

<p>Nendの対応国はまだ日本のみのようですので、国外では非表示に設定すると、よりユーザーにとって有効な広告が表示されます。</p>

<p>iAdの広告はクリック単価が高くインプレッションや表示時間に応じて収益が発生しますが、まだ対応国が下記の国々に限られるため、それ以外の国では非表示にすることで大幅な収益向上が見込めます。</p>

<h3>iAdの対応国（2014年7月時点）</h3>

<ul>
<li>日本</li>
<li>カナダ</li>
<li>米国</li>
<li>メキシコ</li>
<li>ニュージーランド</li>
<li>フランス</li>
<li>イタリア</li>
<li>ドイツ</li>
<li>スペイン</li>
<li>イギリス</li>
<li>アイルランド</li>
<li>オーストラリア</li>
<li>香港</li>
<li>台湾</li>
</ul>


<p>以前はアプリ内で AdMobと iAdを切り替え表示していましたが、アプリ内では AdMobのみを読み込むよう実装し、iAdはメディエーションで管理する方が良いかもしれません。国別に有効 eCPMも指定できますので、この方法により iAdの収益が低下することはありません。</p>

<p><strong>2014年10月追記</strong></p>

<p>iAdの対応国が以下の25ヶ国に増えました。これにより、国別設定をしなくても安定した収益が見込めそうです。</p>

<h3>iAdの対応国（2014年10月現在）</h3>

<ul>
<li>米国</li>
<li>カナダ</li>
<li>メキシコ</li>
<li>イギリス</li>
<li>フランス</li>
<li>ドイツ</li>
<li>イタリア</li>
<li>スペイン</li>
<li>アイルランド</li>
<li>ロシア</li>
<li>スイス</li>
<li>日本</li>
<li>台湾</li>
<li>香港</li>
<li>オーストラリア</li>
<li>ニュージーランド</li>
<li>オーストリア</li>
<li>ベルギー</li>
<li>デンマーク</li>
<li>フィンランド</li>
<li>ルクセンブルク</li>
<li>オランダ</li>
<li>ノルウェー</li>
<li>ポーランド</li>
<li>スウェーデン</li>
</ul>


<h3>アドネットワークの国別設定手順</h3>

<h4>1. <a href="https://apps.admob.com/" title="AdMob">AdMob</a>のサイトにログインし「収益化」メニューを開く</h4>

<p><img src="http://lab.dolice.net/images/article/admob_optimization/admob_optimization_scr1.jpg" alt="" /></p>

<h4>2. 「すべてのアプリ」をクリックし、メディエーションを編集したいアプリを選択</h4>

<p><img src="http://lab.dolice.net/images/article/admob_optimization/admob_optimization_scr2.jpg" alt="" /></p>

<h4>3. 「メディエーションを編集」リンクを開く</h4>

<p><img src="http://lab.dolice.net/images/article/admob_optimization/admob_optimization_scr3.jpg" alt="" /></p>

<h4>4. 「AdMob ネットワークを最適化する」にチェックを入れる</h4>

<p><img src="http://lab.dolice.net/images/article/admob_optimization/admob_optimization_scr4.jpg" alt="" /></p>

<h4>5. 設定を変更したいアドネットワークの「国別の設定」にある「編集」リンクを開く</h4>

<p><img src="http://lab.dolice.net/images/article/admob_optimization/admob_optimization_scr5.jpg" alt="" /></p>

<h4>6. 左側の国選択メニューより広告を表示したい国を選択し「その他すべての国に対する広告リクエストを無効化」にチェックを入れる</h4>

<p><img src="http://lab.dolice.net/images/article/admob_optimization/admob_optimization_scr6.jpg" alt="" /></p>

<h4>7. 「次へ」ボタンでポップアップを閉じたら「保存」ボタンで設定を適用</h4>

<p><img src="http://lab.dolice.net/images/article/admob_optimization/admob_optimization_scr7.jpg" alt="" /></p>

<h2><a name="admob-opt2">2. メディエーションのアドネットワーク最適化</a></h2>

<p>以前に「<a href="http://lab.dolice.net/blog/2014/03/12/admob-mediation/" title="AdMobのメディエーションを最適化する方法">AdMobのメディエーションを最適化する方法</a>」という記事で紹介した方法を用い、メディエーションに追加しているアドネットワークを最適化することで、eCPMの値の高いアドネットワークの広告を優先的に表示することができます。</p>

<h2><a name="admob-opt3">3. テキスト広告のスタイルをアプリの配色に合わせて最適化</a></h2>

<p>テキスト広告のスタイルをアプリの配色に合わせることで、若干クリック率が増加しました。</p>

<p>下記は「<a href="http://lab.dolice.net/blog/2014/05/22/ios-law-of-attraction/" title="望みが叶う！引き寄せの法則アプリ">望みが叶う！引き寄せの法則アプリ</a>」のテキスト広告で、アプリの配色がグリーンとピンク基調のため、それに合わせてスタイルを指定しています。ボーダーの色はなるべくくっきりしている方が良いかもしれませんが、その辺りは未検証です。</p>

<p><img src="http://lab.dolice.net/images/article/admob_optimization/admob_optimization_scr8.jpg" alt="" /></p>

<h2><a name="admob-opt4">4. 広告の表示頻度について</a></h2>

<p>広告の表示頻度を「30秒」に指定したところ、当方のアプリでは広告の掲載率が減少し、一時的にインプレッション数とクリック率、クリック単価が減少しました。「60秒」に戻したところ改善しましたが、こちらもまだ検証の余地がありそうです。</p>

<h2><a name="admob-opt5">5. インタースティシャル広告の導入</a></h2>

<p>インタースティシャル広告は高単価でクリック率も高くとても有効です。以前に「<a href="http://lab.dolice.net/blog/2014/02/25/objc-admob-inters/" title="iPhoneアプリに AdMobのインタースティシャル広告を導入する方法">iPhoneアプリに AdMobのインタースティシャル広告を導入する方法</a>」という記事に iOSアプリへの導入手順を記載しましたので、そちらも併せてご覧ください。</p>

<p>全面広告を表示するタイミングは、ゲームならクリア時やゲームオーバー時など、離脱時が最もストレスが少ないようです。ただ、収益性の面では、アプリ起動時に表示するか、他のメニューへ移動した際など、なるべく早いタイミング且つ、浅い階層で表示する方が良いかもしれません。少なくとも 2回メニューをタップした先の画面に表示するようにしたところ、リクエスト RPMは大幅に減少しました。この辺りもまだサーバサイドで設定値を変えながら検証中の段階です。</p>

<p>また、技術的な話になりますが、iOS 7.1になって以降アプリがタスクから落ちづらくなりましたので、インタースティシャル広告の読み込みは「viewDidAppear」内で “ロード完了フラグ” が立っていない場合に行い、読み込みが完了したら “ロード完了フラグ” を立て、「AppDelegate.m」でアプリがバックグラウンドへ移行した際に “ロード完了フラグ” を落とす処理も有効です。</p>

<p>しかし、なるべくユーザーの方にストレスを与えず、ミスクリックも防ぐ自然な実装を模索したいですね。その方がユーザーにとって本当に有益な情報（＝広告）を提供できますので。実際に企業が広告を多く出稿する時期は、インタースティシャル／通常バナー共に魅力的な広告が多いので、ユーザーが一番ストレスを感じないタイミングで表示するのがベストだと思います。</p>

<h2><a name="admob-opt-ex">6. 自社広告の出稿 (e.x.)</a></h2>

<p><a href="https://apps.admob.com/" title="AdMob">AdMob</a>サイトの「宣伝」メニューより自社広告を出稿できます。一度自社広告を作成したところ、テキスト広告も簡単かつ綺麗に作成でき、国別に広告を出稿できますので、非常に効果は高いと思われます。</p>

<p>以上が AdMobの収益最適化のポイントです。もう当たり前の知識かもしれませんが、最近まであまり知識もないまま運用していましたので、もしかしたら需要があるかと思い書きました。他にも有効な最適化の手順がありましたら、是非教えていただければ嬉しいです。</p>

<h2>関連記事</h2>

<ul>
<li><strong><a href="http://lab.dolice.net/blog/2014/03/12/admob-mediation/" title="AdMobのメディエーションを最適化する方法">AdMobのメディエーションを最適化する方法</a></strong></li>
<li><strong><a href="http://lab.dolice.net/blog/2014/02/25/objc-admob-inters/" title="iPhoneアプリに AdMobのインタースティシャル広告を導入する方法">iPhoneアプリに AdMobのインタースティシャル広告を導入する方法</a></strong></li>
</ul>


<h2>お薦めの参考書</h2>

<p><strong><a href="http://www.amazon.co.jp/gp/product/4861009499/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4861009499&linkCode=as2&tag=pinocchio-22">たのしいSwiftプログラミング―[iOS 8&amp;Xcode 6対応]</a></strong><img src="http://ir-jp.amazon-adsystem.com/e/ir?t=pinocchio-22&l=as2&o=9&a=4861009499" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><br />
Swiftについて知りたい開発者の方のみならず、プログラミング未経験者の方にも参考になる内容になっています。Swiftの基礎を一から丁寧に解説されており、この書籍があればネットで調べる手間をかなり省くことができると思います。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iPhoneアプリ「望みが叶う！引き寄せの法則アプリ」リリース]]></title>
    <link href="http://lab.dolice.net/blog/2014/05/22/ios-law-of-attraction/"/>
    <updated>2014-05-22T10:19:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/05/22/ios-law-of-attraction</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/law_of_attraction.jpg" title="iPhone App: 望みが叶う！引き寄せの法則アプリ" alt="iPhone App: 望みが叶う！引き寄せの法則アプリ" /></p>

<p>引き寄せの法則を無理なく効果的に実践できる iPhoneアプリ「<a href="https://itunes.apple.com/us/app/law-of-attraction-free/id841157677?ls=1&amp;mt=8" title="望みが叶う！引き寄せの法則アプリ">望みが叶う！引き寄せの法則アプリ</a>」をリリースしました。</p>

<p>西洋では20世紀初頭から引き寄せの法則について書かれた著書が出版され、現代でもナポレオン・ヒル氏の名著「Think and Grow Rich」（邦題:「思考は現実化する」）で知られるこの法則ですが、国内ではまだ認知度は低く、一部の方に知られるのみとなっています。</p>

<p>絶大な効果があるにも関わらず科学的な根拠が明確ではないことから、未だ如何わしく宗教的なイメージがあるのも事実です。しかし、個人的には「魔法にも何らかの科学的根拠がある」と思っており、この法則を実践し自分の望みを何度か実現させれば、理性も納得し次から次へと望みを引き寄せられるようになります。自分もこの法則の恩恵を受け、完全な経済的自立とクリエイティブな毎日を実現しました。</p>

<p>ただ、正しい望みの作成法や、引き寄せの習慣化の面で挫折してしまう方も多いのではないかと思い、このアプリには効果的な望みのサンプル文を200パターン以上用意し、自分の好きな時間に引き寄せのタイミングを知らせる「プッシュ通知機能」を搭載しました。また、プライバシー性の高いアプリであることから「パスワードロック機能」を搭載し、大事なデータを失わないよう「iCloudへのバックアップ機能」も搭載しています。</p>

<p>開発には相応の労力と時間を費やしましたが、自分にとって大切な技術資産ができました。そして、このアプリで今より幸福になる方が増えれば世の中に少しでも貢献できるのではないかと思い、それを励みに頑張ることができました。このアプリを切っ掛けに引き寄せの法則を実践し、自分の望みを実現する方が1人でも多く増えるよう祈っています。</p>

<p>下記から無料でアプリをダウンロードできますので、是非ご利用ください。</p>

<p><a href="https://itunes.apple.com/jp/app/wangmiga-yeu!-yinki-jiseno/id841157677?mt=8&uo=4" target="itunes_store" style="display:inline-block;overflow:hidden;background:url(https://linkmaker.itunes.apple.com/htmlResources/assets/ja_jp//images/web/linkmaker/badge_appstore-lrg.png) no-repeat;width:135px;height:40px;@media only screen{background-image:url(https://linkmaker.itunes.apple.com/htmlResources/assets/ja_jp//images/web/linkmaker/badge_appstore-lrg.svg);}"></a></p>

<h2>主な機能</h2>

<ul>
<li>直感的な操作で美しい「望み」を引き寄せ</li>
<li>豊富なサンプル文から自分好みの「望み」を作成</li>
<li>引き寄せの時間を忘れないようプッシュ通知を設定</li>
<li>アプリ起動時のパスワードロック機能</li>
<li>iCloudへのバックアップ機能</li>
</ul>


<h2>価格</h2>

<ul>
<li>無料</li>
</ul>


<h2>対応言語</h2>

<ul>
<li>日本語</li>
<li>英語</li>
</ul>


<h2>公式Facebookページ</h2>

<ul>
<li><a href="https://www.facebook.com/dolice.law.of.attraction">https://www.facebook.com/dolice.law.of.attraction</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AppBankさんの iPhone壁紙特集記事 No.15に掲載いただきました]]></title>
    <link href="http://lab.dolice.net/blog/2014/05/04/ios-appbank-ukiyo-e/"/>
    <updated>2014-05-04T10:35:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/05/04/ios-appbank-ukiyo-e</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/appbank_ukiyo-e.jpg" title="浮世絵のHD壁紙" alt="浮世絵のHD壁紙" /></p>

<p><a href="http://www.appbank.net" title="AppBank">AppBank</a>さんが毎週土曜日に更新されている <a href="http://bit.ly/1q0FIWt" title="iPhone壁紙特集記事 No.15">iPhone壁紙特集記事 No.15</a>に「<a href="https://itunes.apple.com/us/app/ukiyoe/id835559799?ls=1&amp;mt=8" title="浮世絵のHD壁紙">浮世絵のHD壁紙</a>」を紹介いただきました。</p>

<p>週替わりで壁紙を配布するコーナーで、壁紙アプリの中から『視差効果オン / オフ』の壁紙をそれぞれ選抜して配布されています。</p>

<p>下記、掲載ページになります。他にも魅力的な iPhone壁紙が配布されていますので、是非ご覧ください！</p>

<h2>掲載ページ</h2>

<ul>
<li><strong><a href="http://bit.ly/1q0FIWt" title="iPhone壁紙特集記事 No.15 - たのしいiPhone！ AppBank">iPhone壁紙特集記事 No.15 - たのしいiPhone！ AppBank</a></strong></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Dropboxで iPhoneアプリの OTA配布を行う（iOS 7.1対応）]]></title>
    <link href="http://lab.dolice.net/blog/2014/03/17/ios7-dropbox-ota/"/>
    <updated>2014-03-17T11:32:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/03/17/ios7-dropbox-ota</id>
    <content type="html"><![CDATA[<p>iOS 7.1の端末に AdHocアプリを OTA配布する際、<em>plistファイル</em>が SSL環境下にないと下記のアラートが表示され、アプリをインストールできなくなりました。</p>

<blockquote><p>&#8220;exsample.com&#8221;の証明書が有効ではないため、Appをインストールできません。</p></blockquote>

<p>サーバの SSL設定を行えば解決しますが、その設定が何らかの理由で困難な場合、Dropboxの公開ディレクトリに <em>plistファイル</em>と <em>ipaファイル</em>を置く事で OTAインストールができるようになります（セキュリティの面で心配ではありますが、あくまでやむを得ない場合の対処法です）。</p>

<p>下記に Dropboxを利用して OTA配布を行うまでの手順を記載します。</p>

<h2>OTA配布手順</h2>

<ol>
<li>Dropboxの Publicディレクトリに <em>plistファイル</em>と <em>ipaファイル</em>を配置</li>
<li><em>ipaファイル</em>を右クリックし、「<strong>公開リンクをコピー</strong>」を押下</li>
<li><em>plistファイル</em>を開き、<em>ipaファイル</em>の URLを指定する箇所に上記の公開リンクを貼付け</li>
<li>Dropboxの Publicディレクトリで <em>plistファイル</em>を右クリックし、「<strong>公開リンクをコピー</strong>」を押下</li>
<li>配布用URLの「<strong>url</strong>」のパラメータに上記の公開リンクを貼付け</li>
</ol>


<h3>配布用URL</h3>

<blockquote><p>itms-services://?action=download-manifest&amp;url=https://dl.dropboxusercontent.com/u/1234567/MyApp.plist</p></blockquote>

<p>以上の手順で iOS 7.1の端末でも無事インストールできました。</p>

<p>下記に <em>plistファイル</em>のサンプルを記載します。</p>

<h3>plistファイルのサンプル</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="cp">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span>
</span><span class='line'><span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;dict&gt;</span>
</span><span class='line'>  <span class="nt">&lt;key&gt;</span>items<span class="nt">&lt;/key&gt;</span>
</span><span class='line'>  <span class="nt">&lt;array&gt;</span>
</span><span class='line'>      <span class="nt">&lt;dict&gt;</span>
</span><span class='line'>          <span class="nt">&lt;key&gt;</span>assets<span class="nt">&lt;/key&gt;</span>
</span><span class='line'>          <span class="nt">&lt;array&gt;</span>
</span><span class='line'>              <span class="nt">&lt;dict&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;key&gt;</span>kind<span class="nt">&lt;/key&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;string&gt;</span>software-package<span class="nt">&lt;/string&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;key&gt;</span>url<span class="nt">&lt;/key&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;string&gt;</span>https://dl.dropboxusercontent.com/u/1234567/MyApp.ipa<span class="nt">&lt;/string&gt;</span>
</span><span class='line'>              <span class="nt">&lt;/dict&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/array&gt;</span>
</span><span class='line'>          <span class="nt">&lt;key&gt;</span>metadata<span class="nt">&lt;/key&gt;</span>
</span><span class='line'>          <span class="nt">&lt;dict&gt;</span>
</span><span class='line'>              <span class="nt">&lt;key&gt;</span>bundle-identifier<span class="nt">&lt;/key&gt;</span>
</span><span class='line'>              <span class="nt">&lt;string&gt;</span>com.exsample.MyApp<span class="nt">&lt;/string&gt;</span>
</span><span class='line'>              <span class="nt">&lt;key&gt;</span>bundle-version<span class="nt">&lt;/key&gt;</span>
</span><span class='line'>              <span class="nt">&lt;string&gt;</span>1.0<span class="nt">&lt;/string&gt;</span>
</span><span class='line'>              <span class="nt">&lt;key&gt;</span>kind<span class="nt">&lt;/key&gt;</span>
</span><span class='line'>              <span class="nt">&lt;string&gt;</span>software<span class="nt">&lt;/string&gt;</span>
</span><span class='line'>              <span class="nt">&lt;key&gt;</span>title<span class="nt">&lt;/key&gt;</span>
</span><span class='line'>              <span class="nt">&lt;string&gt;</span>Exsample<span class="nt">&lt;/string&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/dict&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/dict&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/array&gt;</span>
</span><span class='line'><span class="nt">&lt;/dict&gt;</span>
</span><span class='line'><span class="nt">&lt;/plist&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>参考記事</h2>

<ul>
<li><strong><a href="http://qiita.com/nofrmm/items/62f0adf0268b87e075e6" title="iOS7.1以降端末へのOTA配信">iOS7.1以降端末へのOTA配信</a></strong></li>
<li><strong><a href="http://marchenterprise.net/2014/03/12/post-211/" title="iOS7.1にしたらAdhocのOTAインストールできなくなって困った。">iOS7.1にしたらAdhocのOTAインストールできなくなって困った。</a></strong></li>
</ul>


<h2>お薦めの参考書</h2>

<p><strong><a href="http://www.amazon.co.jp/gp/product/4861009499/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4861009499&linkCode=as2&tag=pinocchio-22">たのしいSwiftプログラミング―[iOS 8&amp;Xcode 6対応]</a></strong><img src="http://ir-jp.amazon-adsystem.com/e/ir?t=pinocchio-22&l=as2&o=9&a=4861009499" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><br />
Swiftについて知りたい開発者の方のみならず、プログラミング未経験者の方にも参考になる内容になっています。Swiftの基礎を一から丁寧に解説されており、この書籍があればネットで調べる手間をかなり省くことができると思います。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Xcode 5.1で 32bitアーキテクチャを指定する方法]]></title>
    <link href="http://lab.dolice.net/blog/2014/03/15/xcode5-architectures-32bit/"/>
    <updated>2014-03-15T14:37:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/03/15/xcode5-architectures-32bit</id>
    <content type="html"><![CDATA[<p>Xcode 5.1からデフォルトで 64bitのアーキテクチャしか指定できなくなりました。</p>

<p>これまでは広告の SDK対応で 32bitアーキテクチャを指定していましたが、Xcode 5.1にアップデートしてからエラーが発生するようになり、手動で 32bitアーキテクチャを指定したところ解消されました。</p>

<p>下記に手動で 32bitアーキテクチャを指定する方法を記載します。</p>

<h2>32bitアーキテクチャの指定手順</h2>

<ol>
<li>プロジェクトを開き、「<strong>PROJECT</strong>」メニューから [<em>Build Settings</em>]タブを開く</li>
<li>「<strong>Architechtures</strong>」メニューにある <em>Architectures</em> の項目をクリック</li>
<li>「<strong>Other&#8230;</strong>」を選択し、値をクリアした後、<strong>$(ARCHS_STANDARD_32_BIT)</strong> と入力</li>
</ol>


<p><img src="http://lab.dolice.net/images/article/xcode5_architectures_32bit.jpg" title="Architechturesの値に $(ARCHS_STANDARD_32_BIT) と入力" alt="Architechturesの値に $(ARCHS_STANDARD_32_BIT) と入力" /></p>

<p>以上の手順でエラーは発生しなくなり、設定は完了になります。</p>

<h2>関連記事</h2>

<ul>
<li><strong><a href="http://lab.dolice.net/blog/2014/01/03/xcode5-architectures/" title="Xcode 5で ARMv8 64bitアーキテクチャを無効にする方法">Xcode 5で ARMv8 64bitアーキテクチャを無効にする方法</a></strong></li>
<li><strong><a href="http://lab.dolice.net/blog/2014/03/15/xcode5-unused-error/" title="Xcode 5.1の Unused functionや Unused variableの警告を解消する方法">Xcode 5.1の Unused functionや Unused variableの警告を解消する方法</a></strong></li>
</ul>


<h2>お薦めの参考書</h2>

<p><strong><a href="http://www.amazon.co.jp/gp/product/4798136050/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4798136050&linkCode=as2&tag=pinocchio-22">Cocos2d-xスマートフォン2Dゲーム開発講座 Cocos2d-x 3対応</a></strong><img src="http://ir-jp.amazon-adsystem.com/e/ir?t=pinocchio-22&l=as2&o=9&a=4798136050" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><br />
Cocos2d-xを利用したスマートフォン向け3Dゲーム開発の手法を、サンプルを基に作りながら学ぶ事ができます。実際に遊べるゲームサンプルが4種収録されており、iOS / Android両対応のゲームを開発したい方には必見の一冊になっています。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Xcode 5.1の Unused functionや Unused variableの警告を解消する方法]]></title>
    <link href="http://lab.dolice.net/blog/2014/03/15/xcode5-unused-error/"/>
    <updated>2014-03-15T14:00:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/03/15/xcode5-unused-error</id>
    <content type="html"><![CDATA[<p>Xcode 5.1へアップデートすると、これまで正常に動作していたコードから <em>Unused function</em>エラーや <em>Unused variable</em>エラーが発生するようになりました。</p>

<p>下記にこれらの警告を非表示にする手順を記載します。</p>

<h2>エラーの解消手順</h2>

<ol>
<li>プロジェクトを開き、「<strong>PROJECT</strong>」メニューから [<em>Build Settings</em>]タブを開く</li>
<li>「<strong>Apple LLVM 5.1 - Warnings - All languages</strong>」メニューから <em>Unused Functions</em> と <em>Unused Variables</em> の項目を探す</li>
<li>それぞれの値を必要に応じて <strong>No</strong>に指定</li>
</ol>


<p><img src="http://lab.dolice.net/images/article/xcode5_unused_error.jpg" title="Unused Functions / Unused Variables の値を Noに指定" alt="Unused Functions / Unused Variables の値を Noに指定" /></p>

<p>根本的な解決法にはなりませんが、以上の手順で警告は非表示になります。</p>

<h2>関連記事</h2>

<ul>
<li><strong><a href="http://lab.dolice.net/blog/2014/03/15/xcode5-architectures-32bit/" title="Xcode 5.1で 32bitアーキテクチャを指定する方法">Xcode 5.1で 32bitアーキテクチャを指定する方法</a></strong></li>
<li><strong><a href="http://lab.dolice.net/blog/2014/01/03/xcode5-architectures/" title="Xcode 5で ARMv8 64bitアーキテクチャを無効にする方法">Xcode 5で ARMv8 64bitアーキテクチャを無効にする方法</a></strong></li>
</ul>


<h2>お薦めの参考書</h2>

<p><strong><a href="http://www.amazon.co.jp/gp/product/4798136050/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=247&creative=1211&creativeASIN=4798136050&linkCode=as2&tag=pinocchio-22">Cocos2d-xスマートフォン2Dゲーム開発講座 Cocos2d-x 3対応</a></strong><img src="http://ir-jp.amazon-adsystem.com/e/ir?t=pinocchio-22&l=as2&o=9&a=4798136050" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /><br />
Cocos2d-xを利用したスマートフォン向け3Dゲーム開発の手法を、サンプルを基に作りながら学ぶ事ができます。実際に遊べるゲームサンプルが4種収録されており、iOS / Android両対応のゲームを開発したい方には必見の一冊になっています。</p>
]]></content>
  </entry>
  
</feed>
