<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Dolice Lab]]></title>
  <link href="http://lab.dolice.net/atom.xml" rel="self"/>
  <link href="http://lab.dolice.net/"/>
  <updated>2014-01-07T10:04:55+09:00</updated>
  <id>http://lab.dolice.net/</id>
  <author>
    <name><![CDATA[Masaki Hirokawa]]></name>
    <email><![CDATA[info@dolice.net]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[ウェブビューに必要な機能を搭載した「DCWebView」クラス]]></title>
    <link href="http://lab.dolice.net/blog/2014/01/05/objc-classes-dc-web-view/"/>
    <updated>2014-01-05T11:40:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/01/05/objc-classes-dc-web-view</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/dc-web-view.jpg" alt="" /></p>

<p>UIWebViewを使用する際に必要な機能を搭載した「DCWebView」クラスを作成しました。</p>

<h2>主な機能</h2>

<ol>
<li>ウェブビューの初期化と取得</li>
<li>ページのローディング中にアクティビティインジケータを表示</li>
<li>ページが画面の上下端でバウンスしないよう指定可能</li>
<li>その他 UIWebViewから継承されたサブクラス/プロパティの使用</li>
</ol>


<h2>ダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-web-view">https://github.com/masakihirokawa/objc-classes-dc-web-view</a></li>
</ul>


<h2>使用方法</h2>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// ウェブビュー生成</span>
</span><span class='line'><span class="n">DCWebView</span> <span class="o">*</span><span class="n">webView</span> <span class="o">=</span> <span class="p">[[</span><span class="n">DCWebView</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFrame:</span><span class="p">[[</span><span class="n">UIScreen</span> <span class="n">mainScreen</span><span class="p">]</span> <span class="n">applicationFrame</span><span class="p">]];</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ビューに追加</span>
</span><span class='line'><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">addSubview:</span><span class="n">webView</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// URL読み込み</span>
</span><span class='line'><span class="p">[</span><span class="n">webView</span> <span class="nl">loadUrl:</span><span class="s">@&quot;http://dolice.net/mb/&quot;</span> <span class="nl">view:</span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h3>画面上下の端でバウンスしないよう指定</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="p">[</span><span class="n">webView</span> <span class="nl">bounces:</span><span class="n">NO</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h2>ソースコード</h2>

<h3>DCWebView.h</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@interface</span> <span class="nc">DCWebView</span> : <span class="nc">UIWebView</span> <span class="o">&lt;</span><span class="n">UIWebViewDelegate</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - property</span>
</span><span class='line'><span class="k">@property</span> <span class="n">UIActivityIndicatorView</span> <span class="o">*</span><span class="n">indicator</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - public method</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">loadUrl:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">targetUrl</span> <span class="nf">view:</span><span class="p">(</span><span class="n">UIView</span> <span class="o">*</span><span class="p">)</span><span class="nv">view</span><span class="p">;</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">bounces:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">isAllow</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>DCWebView.m</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &quot;DCWebView.h&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@implementation</span> <span class="nc">DCWebView</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">initWithFrame:</span><span class="p">(</span><span class="n">CGRect</span><span class="p">)</span><span class="nv">frame</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">self</span> <span class="o">=</span> <span class="p">[</span><span class="n">super</span> <span class="nl">initWithFrame:</span><span class="n">frame</span><span class="p">];</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">self</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">self</span><span class="p">;</span>
</span><span class='line'>        <span class="n">self</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIColor</span> <span class="n">whiteColor</span><span class="p">];</span>
</span><span class='line'>        <span class="n">self</span><span class="p">.</span><span class="n">scalesPageToFit</span> <span class="o">=</span> <span class="n">NO</span><span class="p">;</span>
</span><span class='line'>        <span class="n">self</span><span class="p">.</span><span class="n">opaque</span> <span class="o">=</span> <span class="n">NO</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">self</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - delegate method</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ページ読込開始時にインジケータ表示</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">webViewDidStartLoad:</span><span class="p">(</span><span class="n">UIWebView</span> <span class="o">*</span><span class="p">)</span><span class="nv">webView</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// ステータスバーのインジケータ表示</span>
</span><span class='line'>    <span class="p">[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">].</span><span class="n">networkActivityIndicatorVisible</span> <span class="o">=</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ページ読込完了時にインジケータ非表示</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">webViewDidFinishLoad:</span><span class="p">(</span><span class="n">UIWebView</span> <span class="o">*</span><span class="p">)</span><span class="nv">webView</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// アクティビティインジケータ非表示</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="n">stopActivityIndicatorAnimation</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// ステータスバーのインジケータ非表示</span>
</span><span class='line'>    <span class="p">[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">].</span><span class="n">networkActivityIndicatorVisible</span> <span class="o">=</span> <span class="n">NO</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - public method</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// URL読み込み</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">loadUrl:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">targetUrl</span> <span class="nf">view:</span><span class="p">(</span><span class="n">UIView</span> <span class="o">*</span><span class="p">)</span><span class="nv">view</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSURL</span> <span class="o">*</span><span class="n">url</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="n">targetUrl</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLRequest</span> <span class="nl">requestWithURL:</span><span class="n">url</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="nl">loadRequest:</span><span class="n">request</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// アクティビティインジケータ表示</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="nl">startActivityIndicatorAnimation:</span><span class="n">view</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// バウンスさせるか</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">bounces:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">isAllow</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="kt">id</span> <span class="n">subview</span> <span class="k">in</span> <span class="n">self</span><span class="p">.</span><span class="n">subviews</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">([[</span><span class="n">subview</span> <span class="n">class</span><span class="p">]</span> <span class="nl">isSubclassOfClass:</span> <span class="p">[</span><span class="n">UIScrollView</span> <span class="n">class</span><span class="p">]])</span> <span class="p">{</span>
</span><span class='line'>            <span class="p">((</span><span class="n">UIScrollView</span> <span class="o">*</span><span class="p">)</span><span class="n">subview</span><span class="p">).</span><span class="n">bounces</span> <span class="o">=</span> <span class="n">isAllow</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - private method</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// アクティビティインジケータ表示</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">startActivityIndicatorAnimation:</span><span class="p">(</span><span class="n">UIView</span> <span class="o">*</span><span class="p">)</span><span class="nv">view</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">_indicator</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIActivityIndicatorView</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">activityIndicatorViewStyle</span> <span class="o">=</span> <span class="n">UIActivityIndicatorViewStyleGray</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">view</span><span class="p">.</span><span class="n">center</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">hidesWhenStopped</span> <span class="o">=</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'>    <span class="p">[</span><span class="n">_indicator</span> <span class="n">startAnimating</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">view</span> <span class="nl">addSubview:</span><span class="n">_indicator</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// アクティビティインジケータ非表示</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">stopActivityIndicatorAnimation</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="n">_indicator</span> <span class="n">stopAnimating</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[UITableViewを指定した位置までスクロールさせる方法]]></title>
    <link href="http://lab.dolice.net/blog/2014/01/03/objc-ui-table-view-content-offset/"/>
    <updated>2014-01-03T18:49:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/01/03/objc-ui-table-view-content-offset</id>
    <content type="html"><![CDATA[<p>テーブルビューを指定した位置までスクロールする方法を以下に記載します。</p>

<p>画面の更新時にテーブルビューの中身を指定位置までスクロールさせ、他の画面へ遷移した時に最後のスクロール位置を保持しておけば、再度テーブルビューのある画面へ戻ってきた際に、最後の位置までスクロールさせる事ができます。</p>

<p>アプリの仕様上、画面の更新時にテーブルビューをリセットする処理を入れている際などに有効です。</p>

<h2>ソースコード</h2>

<h3>宣言プロパティ</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">@property</span> <span class="n">UITableView</span>     <span class="o">*</span><span class="n">myTableView</span><span class="p">;</span>     <span class="c1">// テーブルビュー</span>
</span><span class='line'><span class="k">@property</span> <span class="n">CGPoint</span>         <span class="n">lastScrollOffset</span><span class="p">;</span> <span class="c1">// テーブルビュー最後のスクロール位置</span>
</span></code></pre></td></tr></table></div></figure>


<h3>画面が更新された時にテーブルビューを指定位置までスクロールさせる</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidAppear:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="n">super</span> <span class="nl">viewDidAppear:</span><span class="n">animated</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// テーブルビューを最後に保存した位置までスクロールする</span>
</span><span class='line'>    <span class="p">[</span><span class="n">_myTableView</span> <span class="nl">setContentOffset:</span><span class="n">_lastScrollOffset</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>他の画面へ遷移した時にテーブルビューのスクロール位置を保持する</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidDisappear:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="n">super</span> <span class="nl">viewDidDisappear:</span><span class="n">animated</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// テーブルビューの最後の位置を保持</span>
</span><span class='line'>    <span class="n">_lastScrollOffset</span> <span class="o">=</span> <span class="p">[</span><span class="n">_myTableView</span> <span class="n">contentOffset</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Xcode 5でアプリアイコンのグロス効果を無効にする方法]]></title>
    <link href="http://lab.dolice.net/blog/2014/01/03/xcode5-app-icon-already-gloss-effects/"/>
    <updated>2014-01-03T18:29:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/01/03/xcode5-app-icon-already-gloss-effects</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/app_icon_gloss.png" title="アプリアイコンのグロス表現無効方法 -1-" alt="アプリアイコンのグロス表現無効方法 -1-" /></p>

<p><img src="http://lab.dolice.net/images/article/app_icon_gloss_2.png" title="アプリアイコンのグロス表現無効方法 -2-" alt="アプリアイコンのグロス表現無効方法 -2-" /></p>

<p>Xcode 5でアプリアイコンの光沢表現を無効にする方法を下記に記載します。iOS 7以降と iOS 6.1以前で有効です。</p>

<h2>アプリアイコンのグロス表現無効方法</h2>

<ol>
<li>「*-Info.plist」ファイルを開く</li>
<li>「<strong>Icon already includes gloss effects</strong>」という行を追加し、値を <strong>YES</strong>に指定する</li>
<li>「images.xcassets」→「AppIcon」の順に開き、右側のビューにある [<strong>iOS icon is pre-rendered</strong>]にチェックを入れる</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Xcode 5の Provisioning Profile指定方法]]></title>
    <link href="http://lab.dolice.net/blog/2014/01/03/xcode5-select-provisioning-profile/"/>
    <updated>2014-01-03T18:15:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/01/03/xcode5-select-provisioning-profile</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/provisioning.png" title="Provisioning Profile指定方法" alt="Provisioning Profile指定方法" /></p>

<p>Xcode 5からプロビジョニングプロファイルの指定方法が変更になりましたので、下記に指定方法を記載します。</p>

<h2>プロビジョニングプロファイルの指定方法</h2>

<ol>
<li>Xcodeの Build Settingsタブを開く</li>
<li>Code Signingの下にある [<strong>Provisioning Profile</strong>]メニューから該当するプロビジョニングプロファイルを指定する</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Xcode 5の Organizerから Provisioning Profilesをインストールする方法]]></title>
    <link href="http://lab.dolice.net/blog/2014/01/03/xcode5-import-provisioning-profiles/"/>
    <updated>2014-01-03T17:22:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/01/03/xcode5-import-provisioning-profiles</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/import_provisioning_profiles.png" title="Provisioning Profilesのインストール方法" alt="Provisioning Profilesのインストール方法" /></p>

<p>Xcode 5からプロビジョニングプロファイルのインストール方法が変わりました。</p>

<p>プロビジョニングプロファイルをインストールするには、まず Xcodeの「Window」メニューから Organizerを開きます。</p>

<p>次に Organizerの「Editor」メニューから [<strong>Provisioning Profiles</strong>]→[<strong>Import Profile&#8230;</strong>]の順に進み、ファイル選択ウィンドウからインストールしたいプロビジョニングファイルを選択します。</p>

<h2>プロビジョニングプロファイルのインストール方法</h2>

<ol>
<li>Xcodeの「Window」メニューから Organizerを開く</li>
<li>Organizerの「Editor」メニューから、[<strong>Provisioning Profiles</strong>]→[<strong>Import Profile&#8230;</strong>]の順に進み、ファイル選択ウィンドウからインストールしたいプロビジョニングファイルを選択</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Xcode 5で ARMv8 64bitアーキテクチャを無効にする方法]]></title>
    <link href="http://lab.dolice.net/blog/2014/01/03/xcode5-architectures/"/>
    <updated>2014-01-03T17:21:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2014/01/03/xcode5-architectures</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/64bit.png" title="ARMv8 64bitアーキテクチャの無効化" alt="ARMv8 64bitアーキテクチャの無効化" /></p>

<p>Xcode 5で新規プロジェクトを作成すると、iPhone 5Sから対応した最新の ARMv8 64bitアーキテクチャが有効化されています。</p>

<p>これに対応するアプリならこのままで良いのですが、例えば AdMobを使用する時にエラーが発生してしまいます（SDK 6.6.1時点）。</p>

<p>AdMobの SDKが対応するまで待つしかなさそうで、それまでは下記の手順で ARMv7/ARMv7Sアーキテクチャを指定する必要があります。</p>

<h2>ARMv8 64bitアーキテクチャの無効化手順</h2>

<ol>
<li>Xcodeの Build Settingsタブを開きます</li>
<li>Architecturesメニューにある <strong>Standard architectures (arm7, arm7s)</strong>を選択します</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[UIWebViewのページロード中にインジケータを表示する際の注意点]]></title>
    <link href="http://lab.dolice.net/blog/2013/12/31/objc-ui-web-view-and-ui-activity-indicator/"/>
    <updated>2013-12-31T13:54:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/12/31/objc-ui-web-view-and-ui-activity-indicator</id>
    <content type="html"><![CDATA[<p>ウェブビューにページを読み込む際、レギュレーション上アクティビティインジケータを表示する必要があります。</p>

<p>その際にインジケータの表示と停止を同一スレッドで行ってもインジケータが消えないため、表示と停止は別スレッドで処理する必要があります。</p>

<p>下記のサンプルでは、viewDidLoadでインジケータを表示し、UIWebViewのデリゲートメソッドである webViewDidFinishLoadでインジケータを非表示にしています。</p>

<p>尚、ステータスバーに表示されるインジケータに関しては同一スレッドで処理しても問題ありません。</p>

<h2>サンプルダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-ui-web-view-ui-activiry-indicator">https://github.com/masakihirokawa/objc-ui-web-view-ui-activiry-indicator</a></li>
</ul>


<h2>ソースコード</h2>

<h3>インジケータの表示</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="n">super</span> <span class="n">viewDidLoad</span><span class="p">];</span>
</span><span class='line'>  
</span><span class='line'>    <span class="n">_indicator</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIActivityIndicatorView</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">activityIndicatorViewStyle</span> <span class="o">=</span> <span class="n">UIActivityIndicatorViewStyleGray</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">center</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">hidesWhenStopped</span> <span class="o">=</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'>    <span class="p">[</span><span class="n">_indicator</span> <span class="n">startAnimating</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">addSubview:</span><span class="n">_indicator</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>インジケータの非表示</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">webViewDidFinishLoad:</span><span class="p">(</span><span class="n">UIWebView</span> <span class="o">*</span><span class="p">)</span><span class="nv">webView</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="n">_indicator</span> <span class="n">stopAnimating</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>ViewController.h</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@interface</span> <span class="nc">ViewController</span> : <span class="nc">UIViewController</span> <span class="o">&lt;</span><span class="n">UIWebViewDelegate</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>ViewController.m</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &quot;ViewController.h&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@interface</span> <span class="nc">ViewController</span> <span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="k">@property</span> <span class="n">UIWebView</span>               <span class="o">*</span><span class="n">webView</span><span class="p">;</span>   <span class="c1">// ウェブビュー</span>
</span><span class='line'><span class="k">@property</span> <span class="n">UIActivityIndicatorView</span> <span class="o">*</span><span class="n">indicator</span><span class="p">;</span> <span class="c1">// アクティビティインジケータ</span>
</span><span class='line'>
</span><span class='line'><span class="k">@end</span>
</span><span class='line'>
</span><span class='line'><span class="k">@implementation</span> <span class="nc">ViewController</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="n">super</span> <span class="n">viewDidLoad</span><span class="p">];</span>
</span><span class='line'>  
</span><span class='line'>    <span class="c1">// ウェブビュー配置</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="n">setWebView</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// ウェブビューにページ読み込み</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="n">loadWebPageForWebView</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// アクティビティインジケータ表示</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="n">startActiviryIndicatorAnimation</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Web View</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ウェブビュー配置</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setWebView</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">_webView</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIWebView</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFrame:</span><span class="p">[[</span><span class="n">UIScreen</span> <span class="n">mainScreen</span><span class="p">]</span> <span class="n">applicationFrame</span><span class="p">]];</span>
</span><span class='line'>    <span class="n">_webView</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">self</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_webView</span><span class="p">.</span><span class="n">scalesPageToFit</span> <span class="o">=</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_webView</span><span class="p">.</span><span class="n">opaque</span> <span class="o">=</span> <span class="n">NO</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_webView</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIColor</span> <span class="n">whiteColor</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">addSubview:</span><span class="n">_webView</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ウェブビューにページ読み込み</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">loadWebPageForWebView</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSURL</span> <span class="o">*</span><span class="n">url</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="s">@&quot;http://dolice.net/mb/&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLRequest</span> <span class="nl">requestWithURL:</span><span class="n">url</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">_webView</span> <span class="nl">loadRequest:</span><span class="n">request</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ページ読込開始時にインジケータ表示</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">webViewDidStartLoad:</span><span class="p">(</span><span class="n">UIWebView</span> <span class="o">*</span><span class="p">)</span><span class="nv">webView</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// ステータスバーのインジケータ表示</span>
</span><span class='line'>    <span class="p">[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">].</span><span class="n">networkActivityIndicatorVisible</span> <span class="o">=</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ページ読込完了時にインジケータ非表示</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">webViewDidFinishLoad:</span><span class="p">(</span><span class="n">UIWebView</span> <span class="o">*</span><span class="p">)</span><span class="nv">webView</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// アクティビティインジケータ非表示</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="n">stopActivityIndicatorAnimation</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// ステータスバーのインジケータ非表示</span>
</span><span class='line'>    <span class="p">[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">].</span><span class="n">networkActivityIndicatorVisible</span> <span class="o">=</span> <span class="n">NO</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Activity Indicator</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// アクティビティインジケータ表示</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">startActiviryIndicatorAnimation</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">_indicator</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIActivityIndicatorView</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">activityIndicatorViewStyle</span> <span class="o">=</span> <span class="n">UIActivityIndicatorViewStyleGray</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">center</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">center</span><span class="p">;</span>
</span><span class='line'>    <span class="n">_indicator</span><span class="p">.</span><span class="n">hidesWhenStopped</span> <span class="o">=</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'>    <span class="p">[</span><span class="n">_indicator</span> <span class="n">startAnimating</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">addSubview:</span><span class="n">_indicator</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// アクティビティインジケータ非表示</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">stopActivityIndicatorAnimation</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="n">_indicator</span> <span class="n">stopAnimating</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[UITabBarのデザインカスタマイズ方法（iOS 7/iOS 6.1両対応）]]></title>
    <link href="http://lab.dolice.net/blog/2013/12/30/objc-ios7-ui-tab-bar-custom/"/>
    <updated>2013-12-30T14:13:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/12/30/objc-ios7-ui-tab-bar-custom</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/ui-tab-bar-custom-ios7.png" title="デザインをカスタマイズした UITabBar" alt="デザインをカスタマイズした UITabBar" /></p>

<p>iOS 6.1以前と iOS 7以降ではタブバーのカスタマイズ方法が異なるようで、iOS 7に最適化したカスタマイズ方法を用いると iOS 6.1でクラッシュしてしまうため、デバイスのバージョンを判別し処理を分ける必要があります。</p>

<p>下記よりサンプルのダウンロードとソースコードの閲覧が行えます。</p>

<h2>サンプルダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-ui-tab-bar-custom-ios7">https://github.com/masakihirokawa/objc-ui-tab-bar-custom-ios7</a></li>
</ul>


<h2>ソースコード</h2>

<h3>AppDelegate.h</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>
</span><span class='line'><span class="cp">#import &quot;FirstViewController.h&quot;</span>
</span><span class='line'><span class="cp">#import &quot;SecondViewController.h&quot;</span>
</span><span class='line'><span class="cp">#import &quot;ThirdViewController.h&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@interface</span> <span class="nc">AppDelegate</span> : <span class="nc">UIResponder</span> <span class="o">&lt;</span><span class="n">UIApplicationDelegate</span><span class="o">&gt;</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">UITabBarController</span> <span class="o">*</span><span class="n">_rootController</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - property</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="n">strong</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">UIWindow</span> <span class="o">*</span><span class="n">window</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - public method</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">switchTabBarController:</span><span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nv">selectedViewIndex</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>AppDelegate.m</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &quot;AppDelegate.h&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@implementation</span> <span class="nc">AppDelegate</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// window初期化</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="n">initWindow</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// rootController初期化</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="n">initRootController</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Init Window</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// window初期化</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">initWindow</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">CGRect</span> <span class="n">bounds</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIScreen</span> <span class="n">mainScreen</span><span class="p">]</span> <span class="n">bounds</span><span class="p">];</span>
</span><span class='line'>    <span class="n">_window</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIWindow</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFrame:</span><span class="n">bounds</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Init Root Controller</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// rootController初期化</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">initRootController</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// 基点となる Controller生成</span>
</span><span class='line'>    <span class="n">_rootController</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UITabBarController</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// タブの背景画像と選択時の背景画像を設定</span>
</span><span class='line'>    <span class="p">[[</span><span class="n">UITabBar</span> <span class="n">appearance</span><span class="p">]</span> <span class="nl">setBackgroundImage:</span><span class="p">[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_background.png&quot;</span><span class="p">]];</span>
</span><span class='line'>    <span class="p">[[</span><span class="n">UITabBar</span> <span class="n">appearance</span><span class="p">]</span> <span class="nl">setSelectionIndicatorImage:</span><span class="p">[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_selection_indicator.png&quot;</span><span class="p">]];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// タブメニュー選択時のビュー生成</span>
</span><span class='line'>    <span class="n">FirstViewController</span>  <span class="o">*</span><span class="n">tabFirst</span>  <span class="o">=</span> <span class="p">[[</span><span class="n">FirstViewController</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="n">SecondViewController</span> <span class="o">*</span><span class="n">tabSecond</span> <span class="o">=</span> <span class="p">[[</span><span class="n">SecondViewController</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="n">ThirdViewController</span>  <span class="o">*</span><span class="n">tabThird</span>  <span class="o">=</span> <span class="p">[[</span><span class="n">ThirdViewController</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">([</span><span class="n">self</span> <span class="n">isIOS7</span><span class="p">])</span> <span class="p">{</span> <span class="c1">// iOS 7用のタブバー生成</span>
</span><span class='line'>        <span class="c1">// タブのアイコン指定</span>
</span><span class='line'>        <span class="n">tabFirst</span><span class="p">.</span><span class="n">tabBarItem</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UITabBarItem</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithTitle:</span><span class="s">@&quot;First&quot;</span>
</span><span class='line'>                                                            <span class="nl">image:</span><span class="p">[[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon1.png&quot;</span><span class="p">]</span> <span class="nl">imageWithRenderingMode:</span><span class="n">UIImageRenderingModeAlwaysOriginal</span><span class="p">]</span>
</span><span class='line'>                                                    <span class="nl">selectedImage:</span><span class="p">[[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon1_o.png&quot;</span><span class="p">]</span> <span class="nl">imageWithRenderingMode:</span><span class="n">UIImageRenderingModeAlwaysOriginal</span><span class="p">]];</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">tabSecond</span><span class="p">.</span><span class="n">tabBarItem</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UITabBarItem</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithTitle:</span><span class="s">@&quot;Second&quot;</span>
</span><span class='line'>                                                             <span class="nl">image:</span><span class="p">[[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon2.png&quot;</span><span class="p">]</span> <span class="nl">imageWithRenderingMode:</span><span class="n">UIImageRenderingModeAlwaysOriginal</span><span class="p">]</span>
</span><span class='line'>                                                     <span class="nl">selectedImage:</span><span class="p">[[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon2_o.png&quot;</span><span class="p">]</span> <span class="nl">imageWithRenderingMode:</span><span class="n">UIImageRenderingModeAlwaysOriginal</span><span class="p">]];</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">tabThird</span><span class="p">.</span><span class="n">tabBarItem</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UITabBarItem</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithTitle:</span><span class="s">@&quot;Third&quot;</span>
</span><span class='line'>                                                            <span class="nl">image:</span><span class="p">[[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon3.png&quot;</span><span class="p">]</span> <span class="nl">imageWithRenderingMode:</span><span class="n">UIImageRenderingModeAlwaysOriginal</span><span class="p">]</span>
</span><span class='line'>                                                    <span class="nl">selectedImage:</span><span class="p">[[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon3_o.png&quot;</span><span class="p">]</span> <span class="nl">imageWithRenderingMode:</span><span class="n">UIImageRenderingModeAlwaysOriginal</span><span class="p">]];</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// タブのフォント指定</span>
</span><span class='line'>        <span class="n">UIFont</span> <span class="o">*</span><span class="n">tabFont</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIFont</span> <span class="nl">fontWithName:</span><span class="s">@&quot;HelveticaNeue&quot;</span> <span class="nl">size:</span><span class="mf">9.0f</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// タブのタイトル色指定</span>
</span><span class='line'>        <span class="n">NSDictionary</span> <span class="o">*</span><span class="n">attributesNormal</span> <span class="o">=</span> <span class="err">@</span><span class="p">{</span><span class="nl">NSFontAttributeName:</span><span class="n">tabFont</span><span class="p">,</span> <span class="nl">NSForegroundColorAttributeName:</span><span class="p">[</span><span class="n">UIColor</span> <span class="nl">colorWithRed:</span><span class="mf">0.733f</span> <span class="nl">green:</span><span class="mf">0.733f</span> <span class="nl">blue:</span><span class="mf">0.733f</span> <span class="nl">alpha:</span><span class="mf">1.0f</span><span class="p">]};</span>
</span><span class='line'>        <span class="p">[[</span><span class="n">UITabBarItem</span> <span class="n">appearance</span><span class="p">]</span> <span class="nl">setTitleTextAttributes:</span><span class="n">attributesNormal</span> <span class="nl">forState:</span><span class="n">UIControlStateNormal</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// タブのタイトル色指定 (選択中)</span>
</span><span class='line'>        <span class="n">NSDictionary</span> <span class="o">*</span><span class="n">selectedAttributes</span> <span class="o">=</span> <span class="err">@</span><span class="p">{</span><span class="nl">NSFontAttributeName:</span><span class="n">tabFont</span><span class="p">,</span> <span class="nl">NSForegroundColorAttributeName:</span><span class="p">[</span><span class="n">UIColor</span> <span class="nl">colorWithRed:</span><span class="mf">0.886f</span> <span class="nl">green:</span><span class="mi">0</span> <span class="nl">blue:</span><span class="mf">0.415f</span> <span class="nl">alpha:</span><span class="mf">1.0f</span><span class="p">]};</span>
</span><span class='line'>        <span class="p">[[</span><span class="n">UITabBarItem</span> <span class="n">appearance</span><span class="p">]</span> <span class="nl">setTitleTextAttributes:</span><span class="n">selectedAttributes</span> <span class="nl">forState:</span><span class="n">UIControlStateSelected</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">// iOS 6.1以下用のタブバー生成</span>
</span><span class='line'>        <span class="c1">// タブのアイコン指定</span>
</span><span class='line'>        <span class="p">[</span><span class="n">tabFirst</span><span class="p">.</span><span class="n">tabBarItem</span> <span class="nl">setFinishedSelectedImage:</span><span class="p">[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon1_o.png&quot;</span><span class="p">]</span>
</span><span class='line'>                          <span class="nl">withFinishedUnselectedImage:</span><span class="p">[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon1.png&quot;</span><span class="p">]];</span>
</span><span class='line'>        <span class="p">[</span><span class="n">tabSecond</span><span class="p">.</span><span class="n">tabBarItem</span> <span class="nl">setFinishedSelectedImage:</span><span class="p">[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon2_o.png&quot;</span><span class="p">]</span>
</span><span class='line'>                           <span class="nl">withFinishedUnselectedImage:</span><span class="p">[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon2.png&quot;</span><span class="p">]];</span>
</span><span class='line'>        <span class="p">[</span><span class="n">tabThird</span><span class="p">.</span><span class="n">tabBarItem</span> <span class="nl">setFinishedSelectedImage:</span><span class="p">[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon3_o.png&quot;</span><span class="p">]</span>
</span><span class='line'>                          <span class="nl">withFinishedUnselectedImage:</span><span class="p">[</span><span class="n">UIImage</span> <span class="nl">imageNamed:</span><span class="s">@&quot;tab_bar_icon3.png&quot;</span><span class="p">]];</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// タブのタイトル指定</span>
</span><span class='line'>        <span class="p">[</span><span class="n">tabFirst</span> <span class="nl">setTitle:</span><span class="s">@&quot;First&quot;</span><span class="p">];</span>
</span><span class='line'>        <span class="p">[</span><span class="n">tabSecond</span> <span class="nl">setTitle:</span><span class="s">@&quot;Second&quot;</span><span class="p">];</span>
</span><span class='line'>        <span class="p">[</span><span class="n">tabThird</span> <span class="nl">setTitle:</span><span class="s">@&quot;Third&quot;</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// タブのタイトル色指定</span>
</span><span class='line'>        <span class="p">[[</span><span class="n">UITabBarItem</span> <span class="n">appearance</span><span class="p">]</span> <span class="nl">setTitleTextAttributes:</span><span class="p">[</span><span class="n">NSDictionary</span> <span class="nl">dictionaryWithObjectsAndKeys:</span><span class="p">[</span><span class="n">UIColor</span> <span class="nl">colorWithRed:</span><span class="mf">0.733f</span> <span class="nl">green:</span><span class="mf">0.733f</span> <span class="nl">blue:</span><span class="mf">0.733f</span> <span class="nl">alpha:</span><span class="mf">1.0f</span><span class="p">],</span> <span class="n">UITextAttributeTextColor</span><span class="p">,</span><span class="nb">nil</span><span class="p">]</span> <span class="nl">forState:</span><span class="n">UIControlStateNormal</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// タブのタイトル色指定 (選択中)</span>
</span><span class='line'>        <span class="p">[[</span><span class="n">UITabBarItem</span> <span class="n">appearance</span><span class="p">]</span> <span class="nl">setTitleTextAttributes:</span><span class="p">[</span><span class="n">NSDictionary</span> <span class="nl">dictionaryWithObjectsAndKeys:</span><span class="p">[</span><span class="n">UIColor</span> <span class="nl">colorWithRed:</span><span class="mf">0.886f</span> <span class="nl">green:</span><span class="mi">0</span> <span class="nl">blue:</span><span class="mf">0.415f</span> <span class="nl">alpha:</span><span class="mf">1.0f</span><span class="p">],</span> <span class="n">UITextAttributeTextColor</span><span class="p">,</span><span class="nb">nil</span><span class="p">]</span> <span class="nl">forState:</span><span class="n">UIControlStateSelected</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// タブのタイトル位置設定</span>
</span><span class='line'>    <span class="p">[[</span><span class="n">UITabBarItem</span> <span class="n">appearance</span><span class="p">]</span> <span class="nl">setTitlePositionAdjustment:</span><span class="n">UIOffsetMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// ビューを Controllerに追加</span>
</span><span class='line'>    <span class="n">NSArray</span> <span class="o">*</span><span class="n">controllers</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSArray</span> <span class="nl">arrayWithObjects:</span><span class="n">tabFirst</span><span class="p">,</span> <span class="n">tabSecond</span><span class="p">,</span> <span class="n">tabThird</span><span class="p">,</span> <span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[(</span><span class="n">UITabBarController</span> <span class="o">*</span><span class="p">)</span><span class="n">_rootController</span> <span class="nl">setViewControllers:</span><span class="n">controllers</span> <span class="nl">animated:</span><span class="n">NO</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// windowに Controllerのビュー追加</span>
</span><span class='line'>    <span class="p">[</span><span class="n">_window</span> <span class="nl">addSubview:</span><span class="n">_rootController</span><span class="p">.</span><span class="n">view</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">_window</span> <span class="n">makeKeyAndVisible</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Private method</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// iOS7以降であるか</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isIOS7</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">osversion</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIDevice</span> <span class="n">currentDevice</span><span class="p">].</span><span class="n">systemVersion</span><span class="p">;</span>
</span><span class='line'>    <span class="n">NSArray</span> <span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="n">osversion</span> <span class="nl">componentsSeparatedByString:</span><span class="s">@&quot;.&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">([(</span><span class="n">NSString</span><span class="o">*</span><span class="p">)[</span><span class="n">a</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">]</span> <span class="n">intValue</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">7</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[NSMutableArrayをユーザーデフォルトに保存する方法]]></title>
    <link href="http://lab.dolice.net/blog/2013/12/30/objc-ns-user-defaults-and-ns-data/"/>
    <updated>2013-12-30T13:20:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/12/30/objc-ns-user-defaults-and-ns-data</id>
    <content type="html"><![CDATA[<p>NSMutableArrayを NSUserDefaultsで扱おうとするとエラーが出てしまいます。</p>

<p>これを回避するには、配列を一旦 NSDataに変換する必要があります。</p>

<p>下記よりサンプルのダウンロードが行えます。</p>

<h2>サンプルダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-ns-user-defaults-and-ns-data">https://github.com/masakihirokawa/objc-ns-user-defaults-and-ns-data</a></li>
</ul>


<h2>ソースコード</h2>

<h3>ユーザーデフォルトから配列を読み込み</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">NSUserDefaults</span> <span class="o">*</span><span class="n">userDefaults</span>  <span class="o">=</span> <span class="p">[</span><span class="n">NSUserDefaults</span> <span class="n">standardUserDefaults</span><span class="p">];</span>
</span><span class='line'><span class="n">NSData</span> <span class="o">*</span><span class="n">listData</span> <span class="o">=</span> <span class="p">[</span><span class="n">userDefaults</span> <span class="nl">objectForKey:</span><span class="s">@&quot;UD_LIST_KEY&quot;</span><span class="p">];</span>
</span><span class='line'><span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">list</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableArray</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'><span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSKeyedUnarchiver</span> <span class="nl">unarchiveObjectWithData:</span><span class="n">listData</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h3>ユーザーデフォルトに配列を書き込み</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">NSUserDefaults</span> <span class="o">*</span><span class="n">userDefaults</span>  <span class="o">=</span> <span class="p">[</span><span class="n">NSUserDefaults</span> <span class="n">standardUserDefaults</span><span class="p">];</span>
</span><span class='line'><span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">list</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableArray</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">list</span> <span class="nl">addObject:</span><span class="s">@&quot;Apple&quot;</span><span class="p">];</span>
</span><span class='line'><span class="n">NSData</span> <span class="o">*</span><span class="n">listData</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSKeyedArchiver</span> <span class="nl">archivedDataWithRootObject:</span><span class="n">list</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">userDefaults</span> <span class="nl">setObject:</span><span class="n">listData</span> <span class="nl">forKey:</span><span class="s">@&quot;UD_LIST_KEY&quot;</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">userDefaults</span> <span class="n">synchronize</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iPhoneアプリのリリース後に役立つサービスまとめ（販促/集計/翻訳）]]></title>
    <link href="http://lab.dolice.net/blog/2013/11/04/ios-marketing-and-promotions/"/>
    <updated>2013-11-04T18:23:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/11/04/ios-marketing-and-promotions</id>
    <content type="html"><![CDATA[<p>iPhone/iPadアプリリリース後に役立つツールやサービスを以下にまとめました。</p>

<p>宣伝サイトも下の方に掲載していますので、アプリのプロモーション活動のお役に立てば幸いです。</p>

<h2>集計ツール/サービス</h2>

<h3><a href="https://appviz.com" title="AppViz">AppViz</a></h3>

<p><img src="http://lab.dolice.net/images/article/appviz2.png" title="AppViz" alt="AppViz" /></p>

<p>アプリの売上/ランキング/レビューを閲覧できるツールです。シェアウェアで $49です。各国のレビューを一覧できる機能を特に重宝しています。他のサービスでもレビューは閲覧できますが、全ての国のレビューが一覧になりますので非常に助かっています。</p>

<h3><a href="http://appfigures.com" title="AppFigures">AppFigures</a></h3>

<p><img src="http://lab.dolice.net/images/article/appfigures2.png" title="AppFigures" alt="AppFigures" /></p>

<p>売上をデイリーレポートとウィークリーレポートとしてメールを送ってくれます。アプリの売上と iAd広告の売上、ダウンロード/アップデート数が通知されます。プロモーションコードの使用回数や、返品数も通知されます。</p>

<h2>翻訳サービス</h2>

<h3><a href="http://gengo.com/ja/" title="Gengo">Gengo</a></h3>

<p><img src="http://lab.dolice.net/images/article/gengo.png" title="Gengo" alt="Gengo" /></p>

<p>一文字3円〜10円でアプリのタイトルや紹介文、メニュー等を翻訳してくれます。Proコースでも7時間以内に翻訳完了し、納品まで24時間以上かかったことはありませんでした。</p>

<p>翻訳コースが3種あり、Standardコースが一文字3円、Proコースが一文字5円、校正付きの Ultraコースが一文字10円です。日本語からの翻訳対応言語は、<strong>英語</strong>、<strong>中国語(簡体/繁体)</strong>、<strong>インドネシア語</strong>、<strong>スペイン語</strong>、<strong>韓国語</strong>です。</p>

<h3><a href="http://www.rozetta.jp/honyaku/" title="ロゼッタの専門翻訳サービス">ロゼッタの専門翻訳サービス</a></h3>

<p><img src="http://lab.dolice.net/images/article/rozetta.png" title="ロゼッタの専門翻訳サービス" alt="ロゼッタの専門翻訳サービス" /></p>

<p>一文字30円と Gengoの約3倍の費用がかかりますが、Gengoの対応していない<strong>ロシア語</strong>、<strong>ドイツ語</strong>、<strong>フランス語</strong>、<strong>ベトナム語</strong>、<strong>タイ語</strong>に対応しています。最低発注金額は、21,000円です。</p>

<h2>販促に役立つサイト（国内）</h2>

<h3><a href="http://iphone.ascii.jp" title="iPhonePLUS">iPhonePLUS</a></h3>

<p><img src="http://lab.dolice.net/images/article/iphoneplus.png" title="iPhonePLUS" alt="iPhonePLUS" /></p>

<p>週刊アスキー運営の iPhoneアプリ情報サイトです。フォームから申請をすると Wordpressアカウントを作成するメールが届き、記事を自分で作成する形でアプリの紹介記事を投稿できます。</p>

<p>記事を書いた後レビュー申請し、メールでお願いをする必要があるなど手順は少し面倒なところもありますが、確実に掲載していただけます。</p>

<p>また、アップデートの度に記事を新規投稿することを推奨しているため露出の機会が多く、国内アプリランキングへの影響はとても強いです。週末の投稿で約2000ビュー/day ありました。</p>

<h3><a href="http://www.appbank.net" title="AppBank">AppBank</a></h3>

<p><img src="http://lab.dolice.net/images/article/appbank.png" title="AppBank" alt="AppBank" /></p>

<p>審査が厳しいですが、国内での販促効果は非常に強いです。</p>

<h3><a href="http://d.hatena.ne.jp/glass-_-onion/20091103/1257175510" title="iPhoneアプリの販促活動に関してまとめてみた">iPhoneアプリの販促活動に関してまとめてみた</a></h3>

<p>国内外での販促手段について丁寧に掲載されています。</p>

<h3>販促用 Twitterアカウント</h3>

<p>下記アカウント宛に Twitterでつぶやくとリツイートしていただけます。</p>

<ul>
<li><strong>@iphone_dev_jp</strong></li>
<li><strong>@iphonefan</strong></li>
<li><strong>@iphoneug</strong></li>
</ul>


<h2>販促に役立つサイト（海外）</h2>

<p>下記サイトはアプリを掲載してくださいましたし、営業やスパムメールも来ませんでした。アプリを紹介いただいた事で、ロシアの無料ランキングで1位になりました。</p>

<ul>
<li><a href="http://www.148apps.com" title="148Apps">148Apps</a></li>
<li><a href="http://prmac.com/member/" title="prMac">prMac</a></li>
<li><a href="http://iphoneapplicationlist.com/apps/" title="iPhone Application List">iPhone Application List</a></li>
<li><a href="http://www.appcraver.com" title="AppCraver">AppCraver</a></li>
<li><a href="http://iphone.iusethis.com" title="i use this">i use this</a></li>
<li><a href="http://www.appsafari.com" title="148Apps">AppSafari</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[サーバサイドでバナーの表示/非表示を切り替えるサンプル]]></title>
    <link href="http://lab.dolice.net/blog/2013/10/10/objc-server-linked-banner/"/>
    <updated>2013-10-10T12:11:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/10/10/objc-server-linked-banner</id>
    <content type="html"><![CDATA[<p>Objective-Cで PHPのフラグを見てバナーの表示/非表示を切り替えるサンプルを GitHubに公開しました。</p>

<p>iPhoneアプリ公開後でも PHPの編集のみでバナーの表示と非表示を切り替えられますので、例えば有料アプリの無料セール中のみバナーを表示するという事が可能になります。</p>

<p>下記よりサンプルのダウンロードが行えます。</p>

<h2>サンプルダウンロード</h2>

<p><a href="https://github.com/masakihirokawa/objc-server-linked-banner">https://github.com/masakihirokawa/objc-server-linked-banner</a></p>

<h2>導入手順</h2>

<h3>1. バナーの表示/非表示フラグを持つ簡易PHPをサーバに配置</h3>

<p>1を指定でバナー表示、0を指定でバナーを非表示にします。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'>    <span class="k">echo</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<h3>2. バナーの表示フラグをグローバル定義</h3>

<p>*.pchファイルにバナーの表示フラグをグローバル変数として定義します。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="kt">BOOL</span> <span class="n">isShowBanner</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>3. アプリ起動時に PHPのフラグを取得し、バナー表示フラグ初期化</h3>

<p>AppDelegate.m を以下のように編集します。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// バナー表示設定初期化</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span> <span class="n">initBannerSetting</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">initBannerSetting</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// PHPの URLを指定</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">url</span> <span class="o">=</span> <span class="s">@&quot;http://dolice.net/sample/server_linked_banner.php&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">reqest</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nl">requestWithURL:</span><span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="n">url</span><span class="p">]];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">reqest</span> <span class="nl">setHTTPMethod:</span><span class="s">@&quot;GET&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSURLConnection</span> <span class="o">*</span><span class="n">connection</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSURLConnection</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithRequest:</span><span class="n">reqest</span> <span class="nl">delegate:</span><span class="n">self</span><span class="p">];</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">connection</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">;</span>
</span><span class='line'>        <span class="n">NSError</span> <span class="o">*</span><span class="n">err</span><span class="p">;</span>
</span><span class='line'>        <span class="n">NSData</span> <span class="o">*</span><span class="n">responseData</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLConnection</span> <span class="nl">sendSynchronousRequest:</span><span class="n">reqest</span> <span class="nl">returningResponse:</span><span class="o">&amp;</span><span class="n">response</span> <span class="nl">error:</span><span class="o">&amp;</span><span class="n">err</span><span class="p">];</span>
</span><span class='line'>        <span class="n">NSString</span> <span class="o">*</span><span class="n">responseStr</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithData:</span><span class="n">responseData</span> <span class="nl">encoding:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// サーバから取得した値が 1ならバナー表示フラグを立てる</span>
</span><span class='line'>        <span class="n">isShowBanner</span> <span class="o">=</span> <span class="p">[</span><span class="n">responseStr</span> <span class="n">intValue</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>4. サーバから取得したフラグを見てバナー表示</h3>

<p>ViewControllerの viewWillAppearメソッドからバナーの表示フラグを見て、もしフラグが立っていればバナーを表示します。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewWillAppear:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// バナー表示</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">isShowBanner</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">NSInteger</span> <span class="n">bannerY</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span> <span class="o">-</span> <span class="mi">50</span><span class="p">;</span>
</span><span class='line'>        <span class="p">[[</span><span class="n">DCBanner</span> <span class="n">sharedManager</span><span class="p">]</span> <span class="nl">showAdBanner:</span><span class="n">self</span> <span class="nl">yPos:</span><span class="n">bannerY</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS 7以降か判定する方法]]></title>
    <link href="http://lab.dolice.net/blog/2013/09/26/objc-ios7-decision-version/"/>
    <updated>2013-09-26T08:36:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/09/26/objc-ios7-decision-version</id>
    <content type="html"><![CDATA[<p>iOS 7とそれより前のバージョンでは、ステータスバーをはじめ UILabelや UISliderのレイアウトが微妙にずれる問題があったため、頻繁に処理を振り分ける必要がありました。</p>

<p>Objective-Cで iOS 7以降か判別するコードを以下に記載します。</p>

<h3>iOS 7以降であるかの判定</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// iOS7以降であるか</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isIOS7</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">osversion</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIDevice</span> <span class="n">currentDevice</span><span class="p">].</span><span class="n">systemVersion</span><span class="p">;</span>
</span><span class='line'>    <span class="n">NSArray</span> <span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="n">osversion</span> <span class="nl">componentsSeparatedByString:</span><span class="s">@&quot;.&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">([(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)[</span><span class="n">a</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">]</span> <span class="n">intValue</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">7</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>iOSのバージョンを取得するコードは下記になります。</p>

<h3>iOSのバージョン取得</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// iOSのバージョン取得</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="n">CGFloat</span><span class="p">)</span><span class="nf">iOSVersion</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">([[[</span><span class="n">UIDevice</span> <span class="n">currentDevice</span><span class="p">]</span> <span class="n">systemVersion</span><span class="p">]</span> <span class="n">floatValue</span><span class="p">]);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS 7でステータスバーを非表示にしたりスタイルを変更する方法]]></title>
    <link href="http://lab.dolice.net/blog/2013/09/25/objc-ios7-status-bar/"/>
    <updated>2013-09-25T10:12:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/09/25/objc-ios7-status-bar</id>
    <content type="html"><![CDATA[<p>iOS 7でステータスバーを非表示にしたり、文字色の変更やアニメーションを指定する方法を以下に記載します。</p>

<h2>前準備</h2>

<p><strong>Info.plist</strong>ファイルで <strong>UIViewControllerBasedStatusBarAppearance</strong>の値を NOにする事で、コードでのステータスバーの変更が可能になります。または、<strong>Info.plist</strong>の <strong>View controller-based status bar appearance</strong>の値を YESでも問題ありません。</p>

<p>下記にステータスバーを制御するコードを記載します。</p>

<h3>ステータスバーの非表示</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="n">super</span> <span class="n">viewDidLoad</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// ステータスバーの表示/非表示メソッド呼び出し</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">([</span><span class="n">self</span> <span class="nl">respondsToSelector:</span><span class="k">@selector</span><span class="p">(</span><span class="n">setNeedsStatusBarAppearanceUpdate</span><span class="p">)])</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// iOS 7以降</span>
</span><span class='line'>        <span class="p">[</span><span class="n">self</span> <span class="n">prefersStatusBarHidden</span><span class="p">];</span>
</span><span class='line'>        <span class="p">[</span><span class="n">self</span> <span class="nl">performSelector:</span><span class="k">@selector</span><span class="p">(</span><span class="n">setNeedsStatusBarAppearanceUpdate</span><span class="p">)];</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// iOS 7未満</span>
</span><span class='line'>        <span class="p">[[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="nl">setStatusBarHidden:</span><span class="n">YES</span> <span class="nl">withAnimation:</span><span class="n">UIStatusBarAnimationSlide</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ステータスバーの非表示</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">prefersStatusBarHidden</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>ステータスバーのスタイル変更</h2>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="p">[</span><span class="n">super</span> <span class="n">viewDidLoad</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// ステータスバーのスタイル適用</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">([</span><span class="n">self</span> <span class="nl">respondsToSelector:</span><span class="k">@selector</span><span class="p">(</span><span class="n">setNeedsStatusBarAppearanceUpdate</span><span class="p">)])</span> <span class="p">{</span>
</span><span class='line'>      <span class="p">[</span><span class="n">self</span> <span class="n">setNeedsStatusBarAppearanceUpdate</span><span class="p">];</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="n">UIStatusBarStyle</span><span class="p">)</span><span class="nf">preferredStatusBarStyle</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// ステータスバーの文字色を白に指定</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">UIStatusBarStyleLightContent</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>ステータスバーのスタイル一覧</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">typedef</span> <span class="nf">NS_ENUM</span><span class="p">(</span><span class="n">NSUInteger</span><span class="p">,</span> <span class="n">statusBarStyle</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="n">UIStatusBarStyleDefault</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'>  <span class="n">UIStatusBarStyleLightContent</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
</span><span class='line'>  <span class="n">UIStatusBarStyleBlackTranslucent</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
</span><span class='line'>  <span class="n">UIStatusBarStyleBlackOpaque</span> <span class="o">=</span> <span class="mi">4</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<h2>アニメーション指定</h2>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[</span><span class="n">super</span> <span class="n">viewDidLoad</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// ステータスバーのアニメーション呼び出し</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">floor</span><span class="p">(</span><span class="n">NSFoundationVersionNumber</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">NSFoundationVersionNumber_iOS_6_1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="p">[[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="nl">setStatusBarHidden:</span><span class="n">YES</span> <span class="nl">withAnimation:</span><span class="n">UIStatusBarAnimationFade</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ステータスバーのアニメーション</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="n">UIStatusBarAnimation</span><span class="p">)</span><span class="nf">preferredStatusBarUpdateAnimation</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">UIStatusBarAnimationFade</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>起動時を含め全画面からステータスバーを非表示</h2>

<p><strong>Info.plist</strong>で <strong>Status bar is initially hidden</strong>という値を追加し YESを指定すると、起動時のスプラッシュ画面を含む全画面でステータスバーが非表示になります。</p>

<h2>iOS 7以降であるかの判別</h2>

<h3>フレームワークを参照する方法</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">if</span> <span class="p">(</span><span class="n">floor</span><span class="p">(</span><span class="n">NSFoundationVersionNumber</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">NSFoundationVersionNumber_iOS_6_1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// iOS 6.1以下</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// iOS 7以降</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>iOSのバージョンを取得し判別する方法</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isIOS7</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">osversion</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIDevice</span> <span class="n">currentDevice</span><span class="p">].</span><span class="n">systemVersion</span><span class="p">;</span>
</span><span class='line'>    <span class="n">NSArray</span> <span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="n">osversion</span> <span class="nl">componentsSeparatedByString:</span><span class="s">@&quot;.&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">([(</span><span class="n">NSString</span><span class="o">*</span><span class="p">)[</span><span class="n">a</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">]</span> <span class="n">intValue</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">7</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS 7でアプリのレビュー画面を開く際の対策]]></title>
    <link href="http://lab.dolice.net/blog/2013/09/25/objc-ios7-review-url/"/>
    <updated>2013-09-25T09:54:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/09/25/objc-ios7-review-url</id>
    <content type="html"><![CDATA[<p>iOS 7からアプリのレビューURLが変更になり、従来の URLでは真っ白な画面が表示されるだけになりましたので、iOSのバージョンを判別しそれぞれのレビューURLへ遷移させる方法を以下に記載します。</p>

<p><strong>レビューURLを iOS 7から直接開く方法はまだ判っておらず、iOS 7以降ではアプリの紹介画面へ遷移する方式を取っています。</strong></p>

<p>以下にサンプルソースコードを記載します。</p>

<h3>サンプルソースコード</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// AppStoreのレビューURLを開く (引数に AppStoreのアプリIDを指定)</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">openReviewUrl:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">appStoreId</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// レビュー画面の URL</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">reviewUrl</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// iOSのバージョンを判別</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">osversion</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIDevice</span> <span class="n">currentDevice</span><span class="p">].</span><span class="n">systemVersion</span><span class="p">;</span>
</span><span class='line'>    <span class="n">NSArray</span> <span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="n">osversion</span> <span class="nl">componentsSeparatedByString:</span><span class="s">@&quot;.&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="kt">BOOL</span> <span class="n">isIOS7</span> <span class="o">=</span> <span class="p">[(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)[</span><span class="n">a</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">]</span> <span class="n">intValue</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">7</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">isIOS7</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// iOS 7以降</span>
</span><span class='line'>        <span class="n">reviewUrl</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nl">stringWithFormat:</span><span class="s">@&quot;itms-apps://itunes.apple.com/app/id%@&quot;</span><span class="p">,</span> <span class="n">appStoreId</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// iOS 7未満</span>
</span><span class='line'>        <span class="n">reviewUrl</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nl">stringWithFormat:</span><span class="s">@&quot;itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?id=%@&amp;onlyLatestVersion=true&amp;pageNumber=0&amp;sortOrdering=1&amp;type=Purple+Software&quot;</span><span class="p">,</span> <span class="n">appStoreId</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// レビュー画面へ遷移</span>
</span><span class='line'>    <span class="p">[[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="nl">openURL:</span><span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="n">reviewUrl</span><span class="p">]];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ユーティリティ機能をまとめた「DCUtil」クラス - iOS 7対応版]]></title>
    <link href="http://lab.dolice.net/blog/2013/09/25/download-objc-classes-dc-util-ios7/"/>
    <updated>2013-09-25T09:27:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/09/25/download-objc-classes-dc-util-ios7</id>
    <content type="html"><![CDATA[<p>Objective-Cのユーティリティ系機能をまとめた「DCUtil」クラスを iOS 7に対応しました。</p>

<p><strong>iOS 7の判別機能</strong>と、<strong>レビューURLへの遷移機能</strong>を追加しています。レビューURLは iOS 7から変更になってしまい、従来の URLでは真っ白な画面が表示されるのみでしたので、iOSのバージョンを判別して遷移先を切り替えています。</p>

<p>主な機能は下記の8個です。今後随時更新して行きます。</p>

<h2>主な機能</h2>

<ol>
<li>自動スリープ禁止モードの切り替え機能</li>
<li>テキストと画像のソーシャルシェア機能</li>
<li>ペーストボードへのテキストコピー機能</li>
<li>指定した URLを開く機能</li>
<li>アラート表示機能</li>
<li>info.plistから文字列取得</li>
<li>レビューURLへの遷移機能</li>
<li>iOS 7以降であるかの判別機能</li>
</ol>


<p>下記よりソースコードのダウンロードが行えます。</p>

<h2>ダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-util">https://github.com/masakihirokawa/objc-classes-dc-util</a></li>
</ul>


<h2>使用方法</h2>

<h3>レビューURLへの遷移</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="p">[</span><span class="n">DCUtil</span> <span class="nl">openReviewUrl:</span><span class="err">＜</span><span class="n">AppStore</span><span class="err">のアプリ</span><span class="n">ID</span><span class="err">＞</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h3>iOS 7以降であるかの判別</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="kt">BOOL</span> <span class="n">isIOS7</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCUtil</span> <span class="n">isIOS7</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h2>ソースコード</h2>

<h3>DCUtil.h</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &lt;Foundation/Foundation.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@interface</span> <span class="nc">DCUtil</span> : <span class="nc">NSObject</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - public method</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setIdleTimerDisabled:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">isDisabled</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">socialShare:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">delegate</span> <span class="nf">shareText:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">shareText</span> <span class="nf">shareImage:</span><span class="p">(</span><span class="n">UIImage</span> <span class="o">*</span><span class="p">)</span><span class="nv">shareImage</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">copyToPasteBoard:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">copyText</span> <span class="nf">completeAlertMessage:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">completeAlertMessage</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">openUrl:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">url</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">openReviewUrl:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">appStoreId</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">showAlert:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">title</span> <span class="nf">message:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">message</span> <span class="nf">cancelButtonTitle:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">cancelButtonTitle</span> <span class="nf">otherButtonTitles:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">otherButtonTitles</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">getStrFromPlist:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">key</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isIOS7</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>DCUtil.m</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &quot;DCUtil.h&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@implementation</span> <span class="nc">DCUtil</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Idle Timer</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 自動スリープ禁止の切り替え</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setIdleTimerDisabled:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">isDisabled</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="nl">setIdleTimerDisabled:</span><span class="n">isDisabled</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Social Share</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// シェアする</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">socialShare:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">delegate</span> <span class="nf">shareText:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">shareText</span> <span class="nf">shareImage:</span><span class="p">(</span><span class="n">UIImage</span> <span class="o">*</span><span class="p">)</span><span class="nv">shareImage</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">if</span><span class="p">([</span><span class="n">UIActivityViewController</span> <span class="n">class</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">NSString</span> <span class="o">*</span><span class="n">textToShare</span> <span class="o">=</span> <span class="n">shareText</span><span class="p">;</span>
</span><span class='line'>        <span class="n">UIImage</span> <span class="o">*</span><span class="n">imageToShare</span> <span class="o">=</span> <span class="n">shareImage</span><span class="p">;</span>
</span><span class='line'>        <span class="n">NSArray</span> <span class="o">*</span><span class="n">itemsToShare</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSArray</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithObjects:</span><span class="n">textToShare</span><span class="p">,</span> <span class="n">imageToShare</span><span class="p">,</span> <span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>        <span class="n">UIActivityViewController</span> <span class="o">*</span><span class="n">activityVC</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIActivityViewController</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithActivityItems:</span><span class="n">itemsToShare</span> <span class="nl">applicationActivities:</span><span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>        <span class="n">activityVC</span><span class="p">.</span><span class="n">excludedActivityTypes</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSArray</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithObjects:</span> <span class="n">UIActivityTypePrint</span><span class="p">,</span> <span class="n">UIActivityTypeCopyToPasteboard</span><span class="p">,</span> <span class="n">UIActivityTypeAssignToContact</span><span class="p">,</span> <span class="n">UIActivityTypeSaveToCameraRoll</span><span class="p">,</span> <span class="n">UIActivityTypeMessage</span><span class="p">,</span> <span class="n">UIActivityTypePostToWeibo</span><span class="p">,</span> <span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>        <span class="p">[</span><span class="n">delegate</span> <span class="nl">presentViewController:</span><span class="n">activityVC</span> <span class="nl">animated:</span><span class="n">YES</span> <span class="nl">completion:</span><span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Copy to Paste Board</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ペーストボードにコピー</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">copyToPasteBoard:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">copyText</span> <span class="nf">completeAlertMessage:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">completeAlertMessage</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// ペーストボードにコピー</span>
</span><span class='line'>    <span class="n">UIPasteboard</span> <span class="o">*</span><span class="n">board</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIPasteboard</span> <span class="n">generalPasteboard</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">board</span> <span class="nl">setValue:</span><span class="n">copyText</span> <span class="nl">forPasteboardType:</span><span class="s">@&quot;public.utf8-plain-text&quot;</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// コピー完了アラート表示</span>
</span><span class='line'>    <span class="p">[</span><span class="n">DCUtil</span> <span class="nl">showAlert:</span><span class="nb">nil</span> <span class="nl">message:</span><span class="n">completeAlertMessage</span> <span class="nl">cancelButtonTitle:</span><span class="nb">nil</span> <span class="nl">otherButtonTitles:</span><span class="nb">nil</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Open Url</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// URLを開く</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">openUrl:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">url</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="p">[[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="nl">openURL:</span><span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="n">url</span><span class="p">]];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Open Review URL</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// AppStoreのレビューURLを開く</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">openReviewUrl:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">appStoreId</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">reviewUrl</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">([</span><span class="n">DCUtil</span> <span class="n">isIOS7</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">reviewUrl</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nl">stringWithFormat:</span><span class="s">@&quot;itms-apps://itunes.apple.com/app/id%@&quot;</span><span class="p">,</span> <span class="n">appStoreId</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">reviewUrl</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nl">stringWithFormat:</span><span class="s">@&quot;itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?id=%@&amp;onlyLatestVersion=true&amp;pageNumber=0&amp;sortOrdering=1&amp;type=Purple+Software&quot;</span><span class="p">,</span> <span class="n">appStoreId</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="p">[</span><span class="n">DCUtil</span> <span class="nl">openUrl:</span><span class="n">reviewUrl</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Show Alert</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// アラート表示</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">showAlert:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">title</span> <span class="nf">message:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">message</span> <span class="nf">cancelButtonTitle:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">cancelButtonTitle</span> <span class="nf">otherButtonTitles:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">otherButtonTitles</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">otherButtonTitles</span> <span class="o">==</span> <span class="nb">nil</span><span class="p">)</span> <span class="n">otherButtonTitles</span> <span class="o">=</span> <span class="s">@&quot;OK&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="n">UIAlertView</span> <span class="o">*</span><span class="n">alert</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIAlertView</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithTitle:</span><span class="n">title</span>
</span><span class='line'>                                                    <span class="nl">message:</span><span class="n">message</span>
</span><span class='line'>                                                   <span class="nl">delegate:</span><span class="n">self</span>
</span><span class='line'>                                          <span class="nl">cancelButtonTitle:</span><span class="n">cancelButtonTitle</span>
</span><span class='line'>                                          <span class="nl">otherButtonTitles:</span><span class="n">otherButtonTitles</span><span class="p">,</span> <span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">alert</span> <span class="n">show</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Get Str from info.plist</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// info.plistから文字列取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">getStrFromPlist:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">key</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">path</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSBundle</span> <span class="n">mainBundle</span><span class="p">]</span> <span class="nl">pathForResource:</span><span class="s">@&quot;string&quot;</span> <span class="nl">ofType:</span><span class="s">@&quot;plist&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSDictionary</span> <span class="o">*</span><span class="n">plist</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSDictionary</span> <span class="nl">dictionaryWithContentsOfFile:</span><span class="n">path</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">ret</span> <span class="o">=</span> <span class="p">[</span><span class="n">plist</span> <span class="nl">objectForKey:</span><span class="n">key</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[</span><span class="n">ret</span> <span class="nl">stringByReplacingOccurrencesOfString:</span><span class="s">@&quot;</span><span class="se">\\</span><span class="s">n&quot;</span> <span class="nl">withString:</span><span class="s">@&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Utils</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// iOS7以降であるか</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isIOS7</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">osversion</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIDevice</span> <span class="n">currentDevice</span><span class="p">].</span><span class="n">systemVersion</span><span class="p">;</span>
</span><span class='line'>    <span class="n">NSArray</span> <span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="n">osversion</span> <span class="nl">componentsSeparatedByString:</span><span class="s">@&quot;.&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">([(</span><span class="n">NSString</span><span class="o">*</span><span class="p">)[</span><span class="n">a</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">]</span> <span class="n">intValue</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">7</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[日付時刻の情報や UIDatePickerを取得する「DCDate」クラス - iOS 7対応版]]></title>
    <link href="http://lab.dolice.net/blog/2013/09/25/download-objc-classes-dc-date-ios7/"/>
    <updated>2013-09-25T08:35:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/09/25/download-objc-classes-dc-date-ios7</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/dc-date-ios7.png" alt="" /></p>

<p>Objective-Cで UIDatePickerの取得や、年号日付時刻等の情報を取得／判別する「DCDate」クラスを iOS 7に対応しました。</p>

<p>iOS 7以降では、UIDatePickerの backgroundColorを指定しないと背景が透けて表示されるようでしたので、背景色を白に指定するコードを1行追加いたしました。</p>

<p>下記よりファイルのダウンロードが行えます。</p>

<h2>ダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-date">https://github.com/masakihirokawa/objc-classes-dc-date</a></li>
</ul>


<h2>主な機能</h2>

<ol>
<li>UIDatePickerの取得</li>
<li>UIDatePickerの選択時刻と現在時刻の比較</li>
<li>UIDatePickerで選択した日付と現在の日付の比較</li>
<li>UIDatePickerで選択中の年号/月日/時分の取得</li>
<li>現在の年号/月日/時分秒の取得</li>
</ol>


<h2>使用方法</h2>

<h3>UIDatePickerの取得</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">UIDatePicker</span> <span class="o">*</span><span class="n">datePicker</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="nl">picker:</span><span class="n">self</span> <span class="nl">rect:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span> <span class="o">-</span> <span class="mi">210</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">210</span><span class="p">)</span>
</span><span class='line'>                        <span class="nl">mode:</span><span class="n">UIDatePickerModeDateAndTime</span> <span class="nl">minuteInterval:</span><span class="mi">1</span>
</span><span class='line'>                    <span class="nl">dateText:</span><span class="s">@&quot;2013-09-09 15:00:00&quot;</span> <span class="nl">dateFormat:</span><span class="s">@&quot;yyyy-MM-dd HH:mm:ss&quot;</span>
</span><span class='line'>                      <span class="nl">action:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">pickerChanged:</span><span class="p">)];</span>
</span></code></pre></td></tr></table></div></figure>


<h3>現在の日付とピッカーの日付を比較</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="kt">BOOL</span> <span class="n">isCurrentDate</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">isCurrentDate</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h3>現在時刻とピッカーの時刻を比較</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="kt">BOOL</span> <span class="n">isCurrentTime</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">isCurrentTime</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h3>UIDatePickerで選択中の年号/月日/時分の取得</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">NSInteger</span> <span class="n">pickerYear</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">pickerYear</span><span class="p">];</span>
</span><span class='line'><span class="n">NSInteger</span> <span class="n">pickerMonth</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">pickerMonth</span><span class="p">];</span>
</span><span class='line'><span class="n">NSInteger</span> <span class="n">pickerDay</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">pickerDay</span><span class="p">];</span>
</span><span class='line'><span class="n">NSInteger</span> <span class="n">pickerHour</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">pickerHour</span><span class="p">];</span>
</span><span class='line'><span class="n">NSInteger</span> <span class="n">pickerMinute</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">pickerMinute</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h3>現在の年号/月日/時分秒の取得</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">NSInteger</span> <span class="n">currentYear</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentYear</span><span class="p">];</span>
</span><span class='line'><span class="n">NSInteger</span> <span class="n">currentMonth</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentMonth</span><span class="p">];</span>
</span><span class='line'><span class="n">NSInteger</span> <span class="n">currentDay</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentDay</span><span class="p">];</span>
</span><span class='line'><span class="n">NSInteger</span> <span class="n">currentHour</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentHour</span><span class="p">];</span>
</span><span class='line'><span class="n">NSInteger</span> <span class="n">currentMinute</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentMinute</span><span class="p">];</span>
</span><span class='line'><span class="n">NSInteger</span> <span class="n">currentSecond</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentSecond</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h2>ソースコード</h2>

<h3>DCDate.h</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &lt;Foundation/Foundation.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@interface</span> <span class="nc">DCDate</span> : <span class="nc">NSObject</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - public method</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">UIDatePicker</span> <span class="o">*</span><span class="p">)</span><span class="nf">picker:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">delegate</span> <span class="nf">rect:</span><span class="p">(</span><span class="n">CGRect</span><span class="p">)</span><span class="nv">rect</span> <span class="nf">mode:</span><span class="p">(</span><span class="n">UIDatePickerMode</span><span class="p">)</span><span class="nv">mode</span> <span class="nf">minuteInterval:</span><span class="p">(</span><span class="n">NSUInteger</span><span class="p">)</span><span class="nv">minuteInterval</span> <span class="nf">dateText:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">dateText</span> <span class="nf">dateFormat:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">dateFormat</span> <span class="nf">action:</span><span class="p">(</span><span class="kt">SEL</span><span class="p">)</span><span class="nv">action</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSDate</span> <span class="o">*</span><span class="p">)</span><span class="nf">date:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">dateText</span> <span class="nf">dateFormat:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">dateFormat</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">dateText:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">dateFormat</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">pickerYear</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">pickerMonth</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">pickerDay</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">pickerHour</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">pickerMinute</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentYear</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentMonth</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentDay</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentHour</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentMinute</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentSecond</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSDateComponents</span> <span class="o">*</span><span class="p">)</span><span class="nf">currentDateComponents</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isCurrentDate</span><span class="p">;</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isCurrentTime</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>DCDate.m</h3>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &quot;DCDate.h&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@implementation</span> <span class="nc">DCDate</span>
</span><span class='line'>
</span><span class='line'><span class="k">static</span> <span class="n">UIDatePicker</span> <span class="o">*</span><span class="n">datePicker</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Date Picker</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ピッカー取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">UIDatePicker</span> <span class="o">*</span><span class="p">)</span><span class="nf">picker:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">delegate</span> <span class="nf">rect:</span><span class="p">(</span><span class="n">CGRect</span><span class="p">)</span><span class="nv">rect</span> <span class="nf">mode:</span><span class="p">(</span><span class="n">UIDatePickerMode</span><span class="p">)</span><span class="nv">mode</span> <span class="nf">minuteInterval:</span><span class="p">(</span><span class="n">NSUInteger</span><span class="p">)</span><span class="nv">minuteInterval</span> <span class="nf">dateText:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">dateText</span> <span class="nf">dateFormat:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">dateFormat</span> <span class="nf">action:</span><span class="p">(</span><span class="kt">SEL</span><span class="p">)</span><span class="nv">action</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// ピッカー初期化</span>
</span><span class='line'>    <span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIDatePicker</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFrame:</span><span class="n">rect</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// 背景色指定</span>
</span><span class='line'>    <span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIColor</span> <span class="n">whiteColor</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// 日付の表示モードを変更する</span>
</span><span class='line'>    <span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span><span class="p">.</span><span class="n">datePickerMode</span> <span class="o">=</span> <span class="n">mode</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// 何分刻みにするか</span>
</span><span class='line'>    <span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span><span class="p">.</span><span class="n">minuteInterval</span> <span class="o">=</span> <span class="n">minuteInterval</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// 初期時刻設定</span>
</span><span class='line'>    <span class="p">[</span><span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span> <span class="nl">setDate:</span><span class="p">[</span><span class="n">DCDate</span> <span class="nl">date:</span><span class="n">dateText</span> <span class="nl">dateFormat:</span><span class="n">dateFormat</span><span class="p">]];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// ピッカーの値が変更されたときに呼ばれるメソッドを設定</span>
</span><span class='line'>    <span class="p">[</span><span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span> <span class="nl">addTarget:</span><span class="n">delegate</span> <span class="nl">action:</span><span class="n">action</span> <span class="nl">forControlEvents:</span><span class="n">UIControlEventValueChanged</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ピッカーに表示する時間取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSDate</span> <span class="o">*</span><span class="p">)</span><span class="nf">date:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">dateText</span> <span class="nf">dateFormat:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">dateFormat</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">dateString</span> <span class="o">=</span> <span class="n">dateText</span><span class="p">;</span>
</span><span class='line'>    <span class="n">NSDateFormatter</span> <span class="o">*</span><span class="n">dateFormater</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSDateFormatter</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">dateFormater</span> <span class="nl">setDateFormat:</span><span class="n">dateFormat</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSDate</span> <span class="o">*</span><span class="n">date</span> <span class="o">=</span> <span class="p">[</span><span class="n">dateFormater</span> <span class="nl">dateFromString:</span><span class="n">dateString</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">date</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ピッカーで指定されている時間をテキストで取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">dateText:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">dateFormat</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateFormatter</span> <span class="o">*</span><span class="n">dateFormatter</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSDateFormatter</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="n">dateFormatter</span><span class="p">.</span><span class="n">dateFormat</span> <span class="o">=</span> <span class="n">dateFormat</span><span class="p">;</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[</span><span class="n">dateFormatter</span> <span class="nl">stringFromDate:</span><span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span><span class="p">.</span><span class="n">date</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ピッカーで指定されている年取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">pickerYear</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateFormatter</span> <span class="o">*</span><span class="n">yearFormatter</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSDateFormatter</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">yearFormatter</span> <span class="nl">setLocale:</span><span class="p">[</span><span class="n">NSLocale</span> <span class="n">currentLocale</span><span class="p">]];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">yearFormatter</span> <span class="nl">setDateFormat:</span><span class="s">@&quot;yyyy&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">pickerYear</span> <span class="o">=</span> <span class="p">[</span><span class="n">yearFormatter</span> <span class="nl">stringFromDate:</span><span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span><span class="p">.</span><span class="n">date</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[</span><span class="n">pickerYear</span> <span class="n">intValue</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ピッカーで指定されている月取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">pickerMonth</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateFormatter</span> <span class="o">*</span><span class="n">monthFormatter</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSDateFormatter</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">monthFormatter</span> <span class="nl">setLocale:</span><span class="p">[</span><span class="n">NSLocale</span> <span class="n">currentLocale</span><span class="p">]];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">monthFormatter</span> <span class="nl">setDateFormat:</span><span class="s">@&quot;MM&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">pickerMonth</span> <span class="o">=</span> <span class="p">[</span><span class="n">monthFormatter</span> <span class="nl">stringFromDate:</span><span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span><span class="p">.</span><span class="n">date</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[</span><span class="n">pickerMonth</span> <span class="n">intValue</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ピッカーで指定されている日付取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">pickerDay</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateFormatter</span> <span class="o">*</span><span class="n">dayFormatter</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSDateFormatter</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">dayFormatter</span> <span class="nl">setLocale:</span><span class="p">[</span><span class="n">NSLocale</span> <span class="n">currentLocale</span><span class="p">]];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">dayFormatter</span> <span class="nl">setDateFormat:</span><span class="s">@&quot;dd&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">pickerDay</span> <span class="o">=</span> <span class="p">[</span><span class="n">dayFormatter</span> <span class="nl">stringFromDate:</span><span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span><span class="p">.</span><span class="n">date</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[</span><span class="n">pickerDay</span> <span class="n">intValue</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ピッカーで指定されている時刻(時)取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">pickerHour</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateFormatter</span> <span class="o">*</span><span class="n">hourFormatter</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSDateFormatter</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">hourFormatter</span> <span class="nl">setLocale:</span><span class="p">[</span><span class="n">NSLocale</span> <span class="n">currentLocale</span><span class="p">]];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">hourFormatter</span> <span class="nl">setDateFormat:</span><span class="s">@&quot;HH&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">pickerHour</span> <span class="o">=</span> <span class="p">[</span><span class="n">hourFormatter</span> <span class="nl">stringFromDate:</span><span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span><span class="p">.</span><span class="n">date</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[</span><span class="n">pickerHour</span> <span class="n">intValue</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ピッカーで指定されている時刻(分)取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">pickerMinute</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateFormatter</span> <span class="o">*</span><span class="n">minuteFormatter</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSDateFormatter</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">minuteFormatter</span> <span class="nl">setLocale:</span><span class="p">[</span><span class="n">NSLocale</span> <span class="n">currentLocale</span><span class="p">]];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">minuteFormatter</span> <span class="nl">setDateFormat:</span><span class="s">@&quot;mm&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="n">NSString</span> <span class="o">*</span><span class="n">pickerMinute</span> <span class="o">=</span> <span class="p">[</span><span class="n">minuteFormatter</span> <span class="nl">stringFromDate:</span><span class="n">DCDate</span><span class="p">.</span><span class="n">datePicker</span><span class="p">.</span><span class="n">date</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[</span><span class="n">pickerMinute</span> <span class="n">intValue</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Utils</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 現在の月を取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentYear</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateComponents</span> <span class="o">*</span><span class="n">currentTimeComponents</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentDateComponents</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">currentTimeComponents</span><span class="p">.</span><span class="n">year</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 現在の月を取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentMonth</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateComponents</span> <span class="o">*</span><span class="n">currentTimeComponents</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentDateComponents</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">currentTimeComponents</span><span class="p">.</span><span class="n">month</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 現在の日付を取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentDay</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateComponents</span> <span class="o">*</span><span class="n">currentTimeComponents</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentDateComponents</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">currentTimeComponents</span><span class="p">.</span><span class="n">day</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 現在の時間を取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentHour</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateComponents</span> <span class="o">*</span><span class="n">currentTimeComponents</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentDateComponents</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">currentTimeComponents</span><span class="p">.</span><span class="n">hour</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 現在の分数を取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentMinute</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateComponents</span> <span class="o">*</span><span class="n">currentTimeComponents</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentDateComponents</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">currentTimeComponents</span><span class="p">.</span><span class="n">minute</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 現在の秒数を取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">currentSecond</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NSDateComponents</span> <span class="o">*</span><span class="n">currentTimeComponents</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentDateComponents</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">currentTimeComponents</span><span class="p">.</span><span class="n">second</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 現在時刻のコンポーネント取得</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">NSDateComponents</span> <span class="o">*</span><span class="p">)</span><span class="nf">currentDateComponents</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// 現在の時刻を取得</span>
</span><span class='line'>    <span class="n">NSDate</span> <span class="o">*</span><span class="n">nowDate</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSDate</span> <span class="n">date</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// 現在時刻のコンポーネント定義</span>
</span><span class='line'>    <span class="n">NSDateComponents</span> <span class="o">*</span><span class="n">nowComponents</span><span class="p">;</span>
</span><span class='line'>    <span class="n">nowComponents</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSCalendar</span> <span class="n">currentCalendar</span><span class="p">]</span> <span class="nl">components:</span><span class="p">(</span><span class="n">NSYearCalendarUnit</span> <span class="o">|</span>
</span><span class='line'>                                                              <span class="n">NSMonthCalendarUnit</span> <span class="o">|</span>
</span><span class='line'>                                                              <span class="n">NSDayCalendarUnit</span> <span class="o">|</span>
</span><span class='line'>                                                              <span class="n">NSHourCalendarUnit</span> <span class="o">|</span>
</span><span class='line'>                                                              <span class="n">NSMinuteCalendarUnit</span> <span class="o">|</span>
</span><span class='line'>                                                              <span class="n">NSSecondCalendarUnit</span><span class="p">)</span>
</span><span class='line'>                                                    <span class="nl">fromDate:</span><span class="n">nowDate</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">nowComponents</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Decision</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ピッカーで指定されている日付が現在と同じであるか</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isCurrentDate</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">([</span><span class="n">DCDate</span> <span class="n">currentYear</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">pickerYear</span><span class="p">]</span> <span class="o">&amp;&amp;</span>
</span><span class='line'>            <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentMonth</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">pickerMonth</span><span class="p">]</span> <span class="o">&amp;&amp;</span>
</span><span class='line'>            <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentDay</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">pickerDay</span><span class="p">]);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ピッカーで指定されている時刻が現在時刻であるか</span>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isCurrentTime</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">([</span><span class="n">DCDate</span> <span class="n">currentHour</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">pickerHour</span><span class="p">]</span> <span class="o">&amp;&amp;</span>
</span><span class='line'>            <span class="p">[</span><span class="n">DCDate</span> <span class="n">currentMinute</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="n">DCDate</span> <span class="n">pickerMinute</span><span class="p">]);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - setter/getter method</span>
</span><span class='line'>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setDatePicker:</span><span class="p">(</span><span class="n">UIDatePicker</span> <span class="o">*</span><span class="p">)</span><span class="nv">picker</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">datePicker</span> <span class="o">=</span> <span class="n">picker</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">+</span> <span class="p">(</span><span class="n">UIDatePicker</span> <span class="o">*</span><span class="p">)</span><span class="nf">datePicker</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">datePicker</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>サンプルソースコード</h2>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">//ピッカー配置</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setDatePicker</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">_datePicker</span> <span class="o">=</span> <span class="p">[</span><span class="n">DCDate</span> <span class="nl">picker:</span><span class="n">self</span> <span class="nl">rect:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">PICKER_HEIGHT</span><span class="p">,</span> <span class="n">PICKER_WIDTH</span><span class="p">,</span> <span class="n">PICKER_HEIGHT</span><span class="p">)</span>
</span><span class='line'>                            <span class="nl">mode:</span><span class="n">UIDatePickerModeDateAndTime</span> <span class="nl">minuteInterval:</span><span class="n">PICKER_MINUTE_INTERVAL</span>
</span><span class='line'>                        <span class="nl">dateText:</span><span class="s">@&quot;2013-09-09 15:00:00&quot;</span> <span class="nl">dateFormat:</span><span class="s">@&quot;yyyy-MM-dd HH:mm:ss&quot;</span>
</span><span class='line'>                          <span class="nl">action:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">pickerChanged:</span><span class="p">)];</span>
</span><span class='line'>    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">addSubview:</span><span class="n">_datePicker</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//ピッカー変更時のイベント</span>
</span><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">pickerChanged:</span><span class="p">(</span><span class="n">UIDatePicker</span> <span class="o">*</span><span class="p">)</span><span class="nv">datePicker</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">//ピッカーで選択した時刻が現在時刻であればアラート表示</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">([</span><span class="n">DCDate</span> <span class="n">isCurrentTime</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>        <span class="p">[</span><span class="n">DCUtil</span> <span class="nl">showAlert:</span><span class="nb">nil</span> <span class="nl">message:</span><span class="s">@&quot;選択した時刻が現在時刻です&quot;</span> <span class="nl">cancelButtonTitle:</span><span class="nb">nil</span> <span class="nl">otherButtonTitles:</span><span class="s">@&quot;OK&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">//ピッカーで選択した時刻が現在の日付であればアラート表示</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">([</span><span class="n">DCDate</span> <span class="n">isCurrentDate</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>        <span class="p">[</span><span class="n">DCUtil</span> <span class="nl">showAlert:</span><span class="nb">nil</span> <span class="nl">message:</span><span class="s">@&quot;選択した日付が現在の日付です&quot;</span> <span class="nl">cancelButtonTitle:</span><span class="nb">nil</span> <span class="nl">otherButtonTitles:</span><span class="s">@&quot;OK&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iPhoneアプリ「リラックス・ヒーリング」をリリースしました]]></title>
    <link href="http://lab.dolice.net/blog/2013/09/22/ios-hearing-healing/"/>
    <updated>2013-09-22T10:21:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/09/22/ios-hearing-healing</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/hearing_healing.png" title="iPhone Apps: Hearing Healing" alt="iPhone Apps: Hearing Healing" /></p>

<p>iPhoneでヒーリング音楽や雨音などの環境音を再生できる無料アプリ、「リラックス・ヒーリング」をリリースしました。</p>

<p>ヒーリング音楽を流したり、雨音を聴いてリラックスできるアプリで、目覚まし機能も搭載しています。雨音の再生時間も指定できますので、睡眠導入用途にも使用する事ができます。</p>

<p>下記よりアプリのダウンロードが行えます。</p>

<h2>アプリのダウンロード</h2>

<ul>
<li><a href="https://itunes.apple.com/us/app/hearing-healing/id694492667?l=ja&amp;ls=1&amp;mt=8">https://itunes.apple.com/us/app/hearing-healing/id694492667?l=ja&amp;ls=1&amp;mt=8</a></li>
</ul>


<h2>主な機能</h2>

<ul>
<li>ヒーリングミュージック再生機能</li>
<li>ヒーリングミュージックのオールプレイ機能</li>
<li>雨音と環境音の再生機能</li>
<li>目覚まし機能 (複数のアラーム音から選択)</li>
</ul>


<p>是非ダウンロードしてお楽しみください。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS 7から非推奨になった API一覧 (日本語訳)]]></title>
    <link href="http://lab.dolice.net/blog/2013/09/19/objc-deprecated-api-ios7/"/>
    <updated>2013-09-19T23:45:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/09/19/objc-deprecated-api-ios7</id>
    <content type="html"><![CDATA[<p>iOS 7から非推奨になった API一覧が Apple Developerサイトに記載されていましたので、以下に簡素な和訳リストを作成しました。アプリを iOS 7に対応する際の参考になれば幸いです。</p>

<h2>iOS 7以降の非推奨APIリスト</h2>

<ol>
<li>MapKitフレームワークの MKOverlayViewクラスとそのサブクラス</li>
<li>Audio ToolboxフレームワークのオーディオセッションAPI (代わりに AVFoundationフレームワークの AVAudioSessionクラスを推奨)</li>
<li>Core Locationフレームワークの CLRegionクラスは CLCircularRegionクラスに置き換え (ただし CLRegionクラスは座標と現在地を示すクラスとして存在し続ける)</li>
<li>CBCentralクラスの UUIDプロパティ (代わりに識別子プロパティを推奨)</li>
<li>GameKitフレームワークは既存の APIをクリーンアップし、新機能のより良いサポートを提供するため多くの非推奨APIを含む</li>
<li>UIViewControllerの wantsFullScreenLayoutプロパティ (iOS 7以降では、View Controllerは常にフルスクリーンレイアウトをサポートしているため)</li>
<li>UIColorを使用した背景テクスチャの描画</li>
<li>描画系クラスへの NSStringの使用</li>
</ol>


<h2>原文</h2>

<h3>What&#8217;s New in iOS: iOS 7.0 (Deprecated APIsの項目)</h3>

<ul>
<li><a href="https://developer.apple.com/library/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS7.html">https://developer.apple.com/library/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS7.html</a></li>
</ul>


<h3>原文引用</h3>

<blockquote><p>Deprecated APIs</p>

<p>The Map Kit framework includes deprecations for the MKOverlayView class and its various subclasses. The existing overlay views have been replaced with an updated set of overlay renderer objects that descend from the MKOverlayRenderer class. For more information about the classes of this framework, see Map Kit Framework Reference.</p>

<p>The Audio Session API in the Audio Toolbox framework is deprecated. Apps should use the AVAudioSession class in the AV Foundation framework instead.</p>

<p>The CLRegion class in the Core Location framework is replaced by the CLCircularRegion class. The CLRegion class continues to exist as an abstract base class that supports both geographic and beacon regions.</p>

<p>The UUID property of the CBCentral class is deprecated. To specify the unique ID of your central objects, use the identifier property instead.</p>

<p>The Game Kit framework contains assorted deprecations intended to clean up the existing API and provide better support for new features.</p>

<p>The UIKit framework contains the following deprecations:
The wantsFullScreenLayout property of UIViewController is deprecated. In iOS 7 and later, view controllers always support full screen layout.</p>

<p>UIColor objects that provided background textures for earlier versions of iOS are gone.
Many drawing additions to the NSString class are deprecated in favor of newer variants.</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Xcode 5へのアップデート時に気をつけたい4つのポイント]]></title>
    <link href="http://lab.dolice.net/blog/2013/09/19/xcode-5-update/"/>
    <updated>2013-09-19T23:35:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/09/19/xcode-5-update</id>
    <content type="html"><![CDATA[<p>Xcode 5へアップデートの際に気を付けた事と躓いた項目を以下にリストアップしました。</p>

<ol>
<li>前バージョンの Xcode 4.6.3の appファイルを「Xcode-4.6.3.app」として別の場所にバックアップ</li>
<li>コンパイルエラーが発生した際は、「Xcode」→「preference」から iTunes Connectのアカウントを入力</li>
<li>それでもコンパイルエラーが発生する場合は Command Line Toolsをインストール</li>
<li>非推奨APIの確認と修正</li>
</ol>


<h2>iOS 7から非推奨になった API一覧 (日本語訳)</h2>

<ul>
<li><a href="http://lab.dolice.net/blog/2013/09/19/objc-deprecated-api-ios7/">http://lab.dolice.net/blog/2013/09/19/objc-deprecated-api-ios7/</a></li>
</ul>


<h2>What&#8217;s New in iOS: iOS 7.0</h2>

<ul>
<li><a href="https://developer.apple.com/library/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS7.html">https://developer.apple.com/library/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS7.html</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Objective-Cのクラスライブラリ「DCLibrary」を公開しました]]></title>
    <link href="http://lab.dolice.net/blog/2013/09/10/download-objc-classes-2013-sep/"/>
    <updated>2013-09-10T18:52:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/09/10/download-objc-classes-2013-sep</id>
    <content type="html"><![CDATA[<p><img src="http://lab.dolice.net/images/article/objc-classes-dc-library.png" title="Objective-C Classes - DCLibrary" alt="Objective-C Classes - DCLibrary" /></p>

<p>これまでに作成した Objective-Cのクラスが17個に増えましたので、GitHubにまとめました。お役に立つものがあれば幸いです。</p>

<h2>ダウンロード</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/ios/">https://github.com/masakihirokawa/ios/</a></li>
</ul>


<h2>一覧</h2>

<h3>DCDateクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/09/10/objc-classes-dc-date/" title="日付時刻の情報や UIDatePickerを取得する「DCDate」クラス">日付時刻の情報や UIDatePickerを取得する「DCDate」クラス</a><br />
Objective-Cで UIDatePickerの取得や、年号日付時刻等の情報を取得／判別する「DCDate」クラスです。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-date">https://github.com/masakihirokawa/objc-classes-dc-date</a></li>
</ul>


<h3>DCSliderクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/09/10/objc-classes-dc-slider/" title="2種類のスライダーを取得する「DCSlider」クラス">2種類のスライダーを取得する「DCSlider」クラス</a><br />
Objective-Cで通常のスライダーと画像スライダーを取得する「DCSlider」クラスです。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-slider">https://github.com/masakihirokawa/objc-classes-dc-slider</a></li>
</ul>


<h3>DCBlendImageクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/09/09/objc-classes-dc-blend-image/" title="画像をブレンド加工する「DCBlendImage」クラス">画像をブレンド加工する「DCBlendImage」クラス</a><br />
Objective-Cで Photoshopのように画像を合成して表示する「DCBlendImage」クラスです。ベース画像とブレンド画像、ブレンドモード、アルファ値、画像の寸法を指定して使用します。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-blend-image">https://github.com/masakihirokawa/objc-classes-dc-blend-image</a></li>
</ul>


<h3>DCRandomizeクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/09/09/Download-objc-classes-dc-randomize/" title="乱数の生成や配列のシャッフルを行う「DCRandomize」クラス">乱数の生成や配列のシャッフルを行う「DCRandomize」クラス</a><br />
Objective-Cで乱数の生成や配列のシャッフルを行う「DCRandomize」クラスです。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-randomize">https://github.com/masakihirokawa/objc-classes-dc-randomize</a></li>
</ul>


<h3>DCClockクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/09/05/Download-objc-classes-dc-clock/" title="秒数から時間とデジタル時計を取得する「DCClock」クラス">秒数から時間とデジタル時計を取得する「DCClock」クラス</a><br />
Objective-Cで指定した秒数から時・分・秒数を取得する「DCClock」クラスです。秒数からデジタル時計形式の文字列取得も行えます。1桁の数字の桁数を増やして文字列として取得する機能も付属しています。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-clock">https://github.com/masakihirokawa/objc-classes-dc-clock</a></li>
</ul>


<h3>DCUtilクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/09/03/Download-objc-classes-dc-util/" title="ユーティリティ機能をまとめた「DCUtil」クラス">ユーティリティ機能をまとめた「DCUtil」クラス</a><br />
Objective-Cのユーティリティ系機能をまとめた「DCUtil」クラスです。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-util">https://github.com/masakihirokawa/objc-classes-dc-util</a></li>
</ul>


<h3>DCAudioPlayerクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/08/02/Download-objc-classes-dc-audio-player/" title="音楽ファイルの再生停止などの制御をする「DCAudioPlayer」クラス">音楽ファイルの再生停止などの制御をする「DCAudioPlayer」クラス</a><br />
音楽ファイルの再生停止などの制御をする「DCAudioPlayer」クラスです。オーディオの再生／停止／一時停止／再生状況の取得、ボリュームコントロールスライダーの生成などを行えます。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-audio-player2">https://github.com/masakihirokawa/objc-classes-dc-audio-player2</a></li>
</ul>


<h3>DCActivityIndicatorクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/07/01/Download-objc-classes-dc-activity-indicator/" title="アクティビティインジケーターを制御する「DCActivityIndicator」クラス">アクティビティインジケーターを制御する「DCActivityIndicator」クラス</a><br />
アクティビティインジケーターを制御する「DCActivityIndicator」クラスです。アクティビティインジケーターのアニメーション再生／停止／再生状況の取得を行えます。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-activity-indicator2">https://github.com/masakihirokawa/objc-classes-dc-activity-indicator2</a></li>
</ul>


<h3>DCAnimationクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/05/30/Download-objc-classes-dc-animation2/" title="7種類のアニメーションを実行する「DCAnimation」クラス">7種類のアニメーションを実行する「DCAnimation」クラス</a><br />
7種類のアニメーションをシンプルな記述で実行する「DCAnimation」クラスです。アニメーション終了時のメソッドやデリゲートメソッドを指定できます。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-animation2">https://github.com/masakihirokawa/objc-classes-dc-animation2</a></li>
</ul>


<h3>DCAnimationクラス (ライト版)</h3>

<p><a href="http://lab.dolice.net/blog/2013/05/14/Download-objc-classes-dc-animation/" title="5種類のアニメーションを実行する「DCAnimation」クラス">5種類のアニメーションを実行する「DCAnimation」クラス</a><br />
5種類のアニメーションをシンプルな記述で実行する「DCAnimation」クラスのライト版です。こちらはクラスメソッドを呼び出す形になりますので、記述はシンプルになります。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-animation">https://github.com/masakihirokawa/objc-classes-dc-animation</a></li>
</ul>


<h3>DCButtonクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/06/04/Download-objc-classes-dc-button/" title="2種類のボタンを生成する「DCButton」クラス">2種類のボタンを生成する「DCButton」クラス</a><br />
テキストボタンと画像ボタンをシンプルな記述で生成する「DCButton」クラスです。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-button">https://github.com/masakihirokawa/objc-classes-dc-button</a></li>
</ul>


<h3>DCImageAnimationクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/06/05/Download-objc-classes-dc-image-animation/" title="2種類の画像アニメーションを実行する「DCImageAnimation」クラス">2種類の画像アニメーションを実行する「DCImageAnimation」クラス</a><br />
画像のタイマーアニメーションとコマ送りアニメーションを実行する「DCImageAnimation」クラスです。パラパラアニメを実行するために作成しました。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-image-animation">https://github.com/masakihirokawa/objc-classes-dc-image-animation</a></li>
</ul>


<h3>DCTimerクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/06/06/Download-objc-classes-dc-timer/" title="シンプルな記述でタイマーイベントを呼び出す「DCTimer」クラス">シンプルな記述でタイマーイベントを呼び出す「DCTimer」クラス</a><br />
2種類のタイマーイベントをクラスメソッドで呼び出す「DCTimer」クラスです。パラメータを渡す事も可能です。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-timer">https://github.com/masakihirokawa/objc-classes-dc-timer</a></li>
</ul>


<h3>DCLabelクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/06/12/Download-objc-classes-dc-label/" title="2種類のラベルを生成する「DCLabel」クラス">2種類のラベルを生成する「DCLabel」クラス</a><br />
四角のラベルと角丸のラベルを生成する「DCLabel」クラスです。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-label">https://github.com/masakihirokawa/objc-classes-dc-label</a></li>
</ul>


<h3>DCDeviceクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/06/17/Download-objc-classes-dc-device/" title="iOS端末情報を取得する「DCDevice」クラス">iOS端末情報を取得する「DCDevice」クラス</a><br />
iPhone/iPadのデバイス情報を判別する「DCDevice」クラスです。主に8個の機能を搭載しています。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-device2">https://github.com/masakihirokawa/objc-classes-dc-device2</a></li>
</ul>


<h3>DCImageクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/06/17/Download-objc-classes-dc-image/" title="4種類の機能を搭載する「DCImage」クラス">4種類の機能を搭載する「DCImage」クラス</a><br />
「イメージビューの生成」や「全画面画像の取得」、「マスク適用」に「リサイズ処理」など 4種類の機能を実装する「DCImage」クラスです。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-device">https://github.com/masakihirokawa/objc-classes-dc-device</a></li>
</ul>


<h3>DCSocialクラス</h3>

<p><a href="http://lab.dolice.net/blog/2013/06/30/Download-objc-classes-dc-social/" title="Facebook/Twitter/LINEへ投稿する「DCSocial」クラス">Facebook/Twitter/LINEへ投稿する「DCSocial」クラス</a><br />
Facebook/Twitter/LINEへの画像/テキスト/URLの投稿をシンプルな記述で実行する「DCSocial」クラスです。</p>

<ul>
<li><a href="https://github.com/masakihirokawa/objc-classes-dc-social">https://github.com/masakihirokawa/objc-classes-dc-social</a></li>
</ul>

]]></content>
  </entry>
  
</feed>
