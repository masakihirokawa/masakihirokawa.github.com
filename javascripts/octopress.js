function getNav(){var b=$("ul.main-navigation, ul[role=main-navigation]").before('<fieldset class="mobile-nav">');var a=$("fieldset.mobile-nav").append("<select>");a.find("select").append('<option value="">Navigate&hellip;</option>');var c=function(d,e){a.find("select").append('<option value="'+this.href+'">&raquo; '+$(this).text()+"</option>")};b.find("a").each(c);$("ul.subscription a").each(c);a.find("select").bind("change",function(d){if(d.target.value){window.location.href=d.target.value}})}function addSidebarToggler(){if(!$("body").hasClass("sidebar-footer")){$("#content").append('<span class="toggle-sidebar"></span>');$(".toggle-sidebar").bind("click",function(b){b.preventDefault();if($("body").hasClass("collapse-sidebar")){$("body").removeClass("collapse-sidebar")}else{$("body").addClass("collapse-sidebar")}})}var a=$("aside.sidebar > section");if(a.length>1){a.each(function(b,d){if((a.length>=3)&&b%3===0){$(d).addClass("first")}var c=((b+1)%2)?"odd":"even";$(d).addClass(c)})}if(a.length>=3){$("aside.sidebar").addClass("thirds")}}function testFeatures(){var a=["maskImage"];$(a).map(function(c,b){if(Modernizr.testAllProps(b)){$("html").addClass(b)}else{$("html").addClass("no-"+b)}});if("placeholder" in document.createElement("input")){$("html").addClass("placeholder")}else{$("html").addClass("no-placeholder")}}function addCodeLineNumbers(){if(navigator.appName==="Microsoft Internet Explorer"){return}$("div.gist-highlight").each(function(g){var d='<table><tbody><tr><td class="gutter">',a='<pre class="line-numbers">',h='</pre></td><td class="code">',b="</td></tr></tbody></table>",f=$(".line",g).length;for(var c=1;c<=f;c++){a+='<span class="line-number">'+c+"</span>\n"}var e=d+a+h+"<pre>"+$("pre",g).html()+"</pre>"+b;$(g).html(e)})}function flashVideoFallback(){var b="/assets/jwplayer/player.swf",a="/assets/jwplayer/glow/glow.xml";$("video").each(function(c,d){d=$(d);if(!Modernizr.video.h264&&swfobject.getFlashPlayerVersion()||window.location.hash.indexOf("flash-test")!==-1){d.children("source[src$=mp4]").first().map(c,function(g){var h=$(g).attr("src"),i="video_"+Math.round(1+Math.random()*(100000)),f=d.attr("width"),e=parseInt(d.attr("height"),10)+30;d.after('<div class="flash-video"><div><div id='+i+">");swfobject.embedSWF(b,i,f,e+30,"9.0.0",{file:h,image:d.attr("poster"),skin:a},{movie:h,wmode:"opaque",allowfullscreen:"true"})});d.remove()}})}function wrapFlashVideos(){$("object").each(function(b,a){if($(a).find("param[name=movie]").length){$(a).wrap('<div class="flash-video">')}});$("iframe[src*=vimeo],iframe[src*=youtube]").wrap('<div class="flash-video">')}function renderDeliciousLinks(c){var b="<ul>";for(var d=0,a=c.length;d<a;d++){b+='<li><a href="'+c[d].u+'" title="Tags: '+(c[d].t==""?"":c[d].t.join(", "))+'">'+c[d].d+"</a></li>"}b+="</ul>";$("#delicious").html(b)}$("document").ready(function(){testFeatures();wrapFlashVideos();flashVideoFallback();addCodeLineNumbers();getNav();addSidebarToggler()});(function(e){var c="addEventListener",b="gesturestart",g="querySelectorAll",f=[1,1],d=g in e?e[g]("meta[name=viewport]"):[];function a(){d.content="width=device-width,minimum-scale="+f[0]+",maximum-scale="+f[1];e.removeEventListener(b,a,true)}if((d=d[d.length-1])&&c in e){a();f=[0.25,1.6];e[c](b,a,true)}}(document));
var swfobject=function(){function s(a,b,d){var q,k=n(d);if(g.wk&&g.wk<312)return q;if(k){if(typeof a.id==l)a.id=d;if(g.ie&&g.win){var e="",c;for(c in a)if(a[c]!=Object.prototype[c])c.toLowerCase()=="data"?b.movie=a[c]:c.toLowerCase()=="styleclass"?e+=' class="'+a[c]+'"':c.toLowerCase()!="classid"&&(e+=" "+c+'="'+a[c]+'"');c="";for(var f in b)b[f]!=Object.prototype[f]&&(c+='<param name="'+f+'" value="'+b[f]+'" />');k.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+e+">"+c+
"</object>";q=n(a.id)}else{f=i.createElement(o);f.setAttribute("type",m);for(var h in a)a[h]!=Object.prototype[h]&&(h.toLowerCase()=="styleclass"?f.setAttribute("class",a[h]):h.toLowerCase()!="classid"&&f.setAttribute(h,a[h]));for(e in b)b[e]!=Object.prototype[e]&&e.toLowerCase()!="movie"&&(a=f,c=e,h=b[e],d=i.createElement("param"),d.setAttribute("name",c),d.setAttribute("value",h),a.appendChild(d));k.parentNode.replaceChild(f,k);q=f}}return q}function n(a){var b=null;try{b=i.getElementById(a)}catch(d){}return b}
function t(a){var b=g.pv,a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?!0:!1}function u(a){return/[\\\"<>\.;]/.exec(a)!=null&&typeof encodeURIComponent!=l?encodeURIComponent(a):a}var l="undefined",o="object",m="application/x-shockwave-flash",v=window,i=document,j=navigator,g=function(){var a=typeof i.getElementById!=l&&typeof i.getElementsByTagName!=l&&typeof i.createElement!=l,
b=j.userAgent.toLowerCase(),d=j.platform.toLowerCase(),g=d?/win/.test(d):/win/.test(b),d=d?/mac/.test(d):/mac/.test(b),b=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,k=!+"\u000b1",e=[0,0,0],c=null;if(typeof j.plugins!=l&&typeof j.plugins["Shockwave Flash"]==o){if((c=j.plugins["Shockwave Flash"].description)&&!(typeof j.mimeTypes!=l&&j.mimeTypes[m]&&!j.mimeTypes[m].enabledPlugin))k=!1,c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),e[0]=parseInt(c.replace(/^(.*)\..*$/,"$1"),
10),e[1]=parseInt(c.replace(/^.*\.(.*)\s.*$/,"$1"),10),e[2]=/[a-zA-Z]/.test(c)?parseInt(c.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof v.ActiveXObject!=l)try{var f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(f&&(c=f.GetVariable("$version")))k=!0,c=c.split(" ")[1].split(","),e=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]}catch(h){}return{w3:a,pv:e,wk:b,ie:k,win:g,mac:d}}();return{embedSWF:function(a,b,d,i,k,e,c,f,h){var j={success:!1,id:b};if(g.w3&&!(g.wk&&g.wk<312)&&
a&&b&&d&&i&&k){d+="";i+="";var p={};if(f&&typeof f===o)for(var m in f)p[m]=f[m];p.data=a;p.width=d;p.height=i;a={};if(c&&typeof c===o)for(var n in c)a[n]=c[n];if(e&&typeof e===o)for(var r in e)typeof a.flashvars!=l?a.flashvars+="&"+r+"="+e[r]:a.flashvars=r+"="+e[r];if(t(k))b=s(p,a,b),j.success=!0,j.ref=b}h&&h(j)},ua:g,getFlashPlayerVersion:function(){return{major:g.pv[0],minor:g.pv[1],release:g.pv[2]}},hasFlashPlayerVersion:t,createSWF:function(a,b,d){if(g.w3)return s(a,b,d)},getQueryParamValue:function(a){var b=
i.location.search||i.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(a==null)return u(b);for(var b=b.split("&"),d=0;d<b.length;d++)if(b[d].substring(0,b[d].indexOf("="))==a)return u(b[d].substring(b[d].indexOf("=")+1))}return""}}}();


