<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: InAppPurchase | Dolice Lab]]></title>
  <link href="http://lab.dolice.net/blog/categories/inapppurchase/atom.xml" rel="self"/>
  <link href="http://lab.dolice.net/"/>
  <updated>2014-03-12T17:03:17+09:00</updated>
  <id>http://lab.dolice.net/</id>
  <author>
    <name><![CDATA[Masaki Hirokawa]]></name>
    <email><![CDATA[info@dolice.net]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Perform in-app purchase DCAppPurchase class]]></title>
    <link href="http://lab.dolice.net/blog/2013/09/02/download-objc-classes-dc-app-purchase-en/"/>
    <updated>2013-09-02T19:35:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/09/02/download-objc-classes-dc-app-purchase-en</id>
    <content type="html"><![CDATA[<p>I created in order to in-app purchase in the iOS "<a href="http://gum.co/dc-app-purchase-en" title="DCAppPurchase">DCAppPurchase</a>" class. It is a confirmed operation in the app that was actually released.</p>

<p>To start the purchase process by passing the ID of the product purchase target, the View of the caller. Also supports restore.</p>

<p>The use of this class, StoreKit framework is required.</p>

<p>I have sold at 99 cents a source code in Gumroad.</p>

<h2>Download</h2>

<ul>
<li><a href="http://gum.co/dc-app-purchase-en">http://gum.co/dc-app-purchase-en</a></li>
</ul>


<h2>How to use</h2>

<h3>Purchasing Request</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">DCAppPurchase</span> <span class="o">*</span><span class="n">appPurchase</span> <span class="o">=</span> <span class="p">[[</span><span class="n">DCAppPurchase</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">appPurchase</span> <span class="nl">startPurchase:</span><span class="s">@&quot;Your Product ID&quot;</span> <span class="nl">view:</span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>Restore the product</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">DCAppPurchase</span> <span class="o">*</span><span class="n">appPurchase</span> <span class="o">=</span> <span class="p">[[</span><span class="n">DCAppPurchase</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">appPurchase</span> <span class="nl">restorePurchase:</span><span class="s">@&quot;Your Product ID&quot;</span> <span class="nl">view:</span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>Supplement</h2>

<p>In the examination of the application (in September 2013 at the time), if you want to implement in-app billing, it does not seem to pass the examination is to be provided also restore the currently processed.</p>

<p>Where it displays an alert to select the restore or the purchase or tap the purchase button, it was also established restore button in addition, it has passed the examination successfully.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[アプリ内課金をする「DCAppPurchase」クラス]]></title>
    <link href="http://lab.dolice.net/blog/2013/09/02/download-objc-classes-dc-app-purchase/"/>
    <updated>2013-09-02T19:30:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/09/02/download-objc-classes-dc-app-purchase</id>
    <content type="html"><![CDATA[<p>iOSでアプリ内課金をするための「<a href="http://gum.co/dc-app-purchase-en" title="DCAppPurchase">DCAppPurchase</a>」クラスを作成しました。実際にリリースしたアプリで動作確認済みです。</p>

<p>購入対象のプロダクトIDと、呼び出し元のビューを渡して購入処理を開始します。リストア処理にも対応しています。</p>

<p>このクラスの使用には、StoreKitフレームワークが必要になります。</p>

<p>Gumroadでソースコードを100円にて販売しています。</p>

<h2>ダウンロード</h2>

<ul>
<li><a href="http://gum.co/dc-app-purchase">http://gum.co/dc-app-purchase</a></li>
</ul>


<h2>使用方法</h2>

<h3>プロダクトの購入リクエスト</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">//プロダクトの購入リクエスト開始</span>
</span><span class='line'><span class="n">DCAppPurchase</span> <span class="o">*</span><span class="n">appPurchase</span> <span class="o">=</span> <span class="p">[[</span><span class="n">DCAppPurchase</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">appPurchase</span> <span class="nl">startPurchase:</span><span class="s">@&quot;プロダクトID&quot;</span> <span class="nl">view:</span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>プロダクトのリストア</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">//プロダクトのリストア開始</span>
</span><span class='line'><span class="n">DCAppPurchase</span> <span class="o">*</span><span class="n">appPurchase</span> <span class="o">=</span> <span class="p">[[</span><span class="n">DCAppPurchase</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">appPurchase</span> <span class="nl">restorePurchase:</span><span class="s">@&quot;プロダクトID&quot;</span> <span class="nl">view:</span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h2>補足</h2>

<p>現在（2013年9月時点）のアプリ審査では、アプリ内課金を実装する場合、リストア処理も設けなければ審査を通過しないようです。</p>

<p>購入ボタンをタップで購入か復元かを選択するアラートを表示し、追加でリストアボタンも設置したところ、無事に審査を通過しました。</p>
]]></content>
  </entry>
  
</feed>
