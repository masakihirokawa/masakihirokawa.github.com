<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: actionscript3 | Dolice Lab]]></title>
  <link href="http://lab.dolice.net/blog/categories/actionscript3/atom.xml" rel="self"/>
  <link href="http://lab.dolice.net/"/>
  <updated>2013-06-22T20:46:05+09:00</updated>
  <id>http://lab.dolice.net/</id>
  <author>
    <name><![CDATA[Masaki Hirokawa]]></name>
    <email><![CDATA[masakihirokawa@gmai.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[AS3で getURLの代替関数を使用する]]></title>
    <link href="http://lab.dolice.net/blog/2013/03/13/as3-geturl/"/>
    <updated>2013-03-13T19:22:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/03/13/as3-geturl</id>
    <content type="html"><![CDATA[<p><img src="http://dolice.net/images/blog/getURL.gif" alt="" /></p>

<p>ActionScript3.0から僕の好きな getURL関数が使用できなくなってしまいましたので、簡素な代替関数を作成しました。</p>

<p><a href="https://github.com/masakihirokawa/as3/blob/master/net/dolice/utils/getURL.as">getURL.as</a>ファイルをダウンロード後、任意のクラスパスへ保存してご使用ください。</p>

<h2>ファイル</h2>

<ul>
<li><a href="https://github.com/masakihirokawa/as3/blob/master/net/dolice/utils/getURL.as">ダウンロード</a></li>
</ul>


<h2>使用方法</h2>

<ul>
<li><p>http://exsample.com/ を開く
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="nf">getURL</span><span class="o">(</span><span class="s2">&quot;http://exsample.com/&quot;</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>http://exsample.com/ を新しいウィンドウで開く
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="nf">getURL</span><span class="o">(</span><span class="s2">&quot;http://exsample.com/&quot;</span><span class="o">,</span> <span class="s2">&quot;_blank&quot;</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
</ul>


<h2>ソースコード</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="k">package</span> <span class="nn">net.dolice.utils</span><span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="k">import</span> <span class="nn">flash.net.navigateToURL</span><span class="o">;</span>
</span><span class='line'><span class="k">import</span> <span class="nn">flash.net.URLRequest</span><span class="o">;</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">function </span><span class="nf">getURL</span><span class="o">(</span><span class="n">url</span><span class="o">:</span><span class="kt">String</span><span class="o">,</span> <span class="n">target</span><span class="o">:</span><span class="kt">String</span><span class="o">=</span><span class="s2">&quot;_self&quot;</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">url</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">navigateToURL</span><span class="o">(</span><span class="k">new</span> <span class="kt">URLRequest</span><span class="o">(</span><span class="n">url</span><span class="o">),</span><span class="n">target</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">error</span><span class="o">:</span><span class="n">Error</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AS3で配列／数値のシャッフルや乱数生成を行う「Randomize」クラス]]></title>
    <link href="http://lab.dolice.net/blog/2013/03/13/as3-randomize/"/>
    <updated>2013-03-13T19:17:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/03/13/as3-randomize</id>
    <content type="html"><![CDATA[<p><img src="http://dolice.net/images/blog/Randomize.gif" alt="" /></p>

<p>ActionScript3.0で配列／数値のシャッフルや乱数生成を行う「<a href="http://dolice.net/sample/Randomize/">Randomize</a>」クラスを作成しました。</p>

<p>静的クラスメンバ“shuffleArray”は指定した配列要素の順序をシャッフルして返し、静的クラスメンバ“shuffle”は指定した範囲内の数値をシャッフルし配列として返します。((シャッフルの方式には Fisher-Yatesのアルゴリズムを使用しています))</p>

<p>静的クラスメンバ“exactRandom”は除外指定した数値以外の乱数を返し、静的クラスメンバ“range”は指定した範囲内の乱数を返します。</p>

<h2>ファイル</h2>

<ul>
<li><a href="http://dolice.net/php/dlc/dlcount.php?fname=Randomize.zip&dir=/sample/">サンプル</a></li>
<li><a href="https://github.com/masakihirokawa/as3/blob/master/net/dolice/utils/Randomize.as">ダウンロード</a></li>
</ul>


<h2>使用方法</h2>

<ul>
<li><p>myArrayの要素をシャッフルし、shuffledArrayへ代入する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="kd">var</span> <span class="n">myArray</span><span class="p">:</span><span class="kt">Array</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">9</span><span class="o">]</span>
</span><span class='line'><span class="kd">var</span> <span class="n">shuffledArray</span><span class="p">:</span><span class="kt">Array</span> <span class="o">=</span> <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleArray</span><span class="o">(</span><span class="n">myArray</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>1～12までの数値をシャッフルし、12個の要素を持つ配列として shuffledArrayへ代入する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="kd">var</span> <span class="n">shuffleMin</span><span class="p">:</span><span class="kt">uint</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
</span><span class='line'><span class="kd">var</span> <span class="n">shuffleMax</span><span class="p">:</span><span class="kt">uint</span> <span class="o">=</span> <span class="mi">12</span><span class="o">;</span>
</span><span class='line'><span class="kd">var</span> <span class="n">shuffledArray</span><span class="p">:</span><span class="kt">Array</span> <span class="o">=</span> <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffle</span><span class="o">(</span><span class="n">shuffleMin</span><span class="o">,</span> <span class="n">shuffleMax</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>1～12までの乱数を取得し、myUintへ代入する(ただし exceptUintと同じ数値である 1は返らない)
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="kd">var</span> <span class="n">exceptUint</span><span class="p">:</span><span class="kt">uint</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
</span><span class='line'><span class="kd">var</span> <span class="n">randomMin</span><span class="p">:</span><span class="kt">uint</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
</span><span class='line'><span class="kd">var</span> <span class="n">randomMax</span><span class="p">:</span><span class="kt">uint</span> <span class="o">=</span> <span class="mi">12</span><span class="o">;</span>
</span><span class='line'><span class="kd">var</span> <span class="n">myUint</span><span class="p">:</span><span class="kt">uint</span> <span class="o">=</span> <span class="n">Randomize</span><span class="o">.</span><span class="na">exactRandom</span><span class="o">(</span><span class="n">exceptUint</span><span class="o">,</span> <span class="n">randomMin</span><span class="o">,</span> <span class="n">randomMax</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>1～12までの乱数を取得し、myUintへ代入する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="kd">var</span> <span class="n">randomMin</span><span class="p">:</span><span class="kt">uint</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
</span><span class='line'><span class="kd">var</span> <span class="n">randomMax</span><span class="p">:</span><span class="kt">uint</span> <span class="o">=</span> <span class="mi">12</span><span class="o">;</span>
</span><span class='line'><span class="kd">var</span> <span class="n">myUint</span><span class="p">:</span><span class="kt">uint</span> <span class="o">=</span> <span class="n">Randomize</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="n">randomMin</span><span class="o">,</span> <span class="n">randomMax</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
</ul>


<h2>ソースコード</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="k">package</span> <span class="nn">net.dolice.utils</span><span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">class</span> <span class="n">Randomize</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">shuffleList</span><span class="p">:</span><span class="kt">Array</span> <span class="o">=</span> <span class="o">[];</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">shuffleNum</span><span class="p">:</span><span class="kt">uint</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">tempList</span><span class="p">:</span><span class="kt">Array</span> <span class="o">=</span> <span class="o">[];</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">tempInt</span><span class="p">:</span><span class="kt">int</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">shuffleArray</span><span class="o">(</span><span class="n">arr</span><span class="o">:</span><span class="kt">Array</span><span class="o">):</span><span class="kt">Array</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleList</span> <span class="o">=</span> <span class="n">arr</span><span class="o">;</span>
</span><span class='line'>        <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleNum</span> <span class="o">=</span> <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleList</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
</span><span class='line'>        <span class="k">while</span> <span class="o">(</span><span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleNum</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="kd">var</span> <span class="n">m</span><span class="p">:</span><span class="kt">int</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">()</span> <span class="o">*</span> <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleNum</span><span class="o">);</span>
</span><span class='line'>            <span class="kd">var</span> <span class="n">n</span><span class="p">:</span><span class="kt">int</span> <span class="o">=</span> <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleList</span><span class="o">[--</span><span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleNum</span><span class="o">];</span>
</span><span class='line'>            <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleList</span><span class="o">[</span><span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleNum</span><span class="o">]</span> <span class="o">=</span> <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleList</span><span class="o">[</span><span class="n">m</span><span class="o">];</span>
</span><span class='line'>            <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleList</span><span class="o">[</span><span class="n">m</span><span class="o">]</span> <span class="o">=</span> <span class="n">n</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="k">return</span> <span class="o">(</span><span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleList</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">shuffle</span><span class="o">(</span><span class="n">shuffleMin</span><span class="o">:</span><span class="kt">int</span><span class="o">,</span> <span class="n">shuffleMax</span><span class="o">:</span><span class="kt">int</span><span class="o">):</span><span class="kt">Array</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">for</span> <span class="o">(</span><span class="kd">var</span> <span class="n">i</span><span class="p">:</span><span class="kt">uint</span><span class="o">;</span> <span class="n">i</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">shuffleMax</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Randomize</span><span class="o">.</span><span class="na">tempList</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">shuffleMin</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleList</span> <span class="o">=</span> <span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleArray</span><span class="o">(</span><span class="n">Randomize</span><span class="o">.</span><span class="na">tempList</span><span class="o">);</span>
</span><span class='line'>        <span class="k">return</span> <span class="o">(</span><span class="n">Randomize</span><span class="o">.</span><span class="na">shuffleList</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">exactRandom</span><span class="o">(</span><span class="n">exceptInt</span><span class="o">:</span><span class="kt">int</span><span class="o">,</span> <span class="n">randomMin</span><span class="o">:</span><span class="kt">int</span><span class="o">,</span> <span class="n">randomMax</span><span class="o">:</span><span class="kt">int</span><span class="o">):</span><span class="kt">int</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">do</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Randomize</span><span class="o">.</span><span class="na">tempInt</span> <span class="o">=</span> <span class="n">Randomize</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="n">randomMin</span><span class="o">,</span><span class="n">randomMax</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">while</span> <span class="o">(</span><span class="n">Randomize</span><span class="o">.</span><span class="na">tempInt</span><span class="o">==</span><span class="n">exceptInt</span><span class="o">);</span>
</span><span class='line'>        <span class="k">return</span> <span class="o">(</span><span class="n">Randomize</span><span class="o">.</span><span class="na">tempInt</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">range</span><span class="o">(</span><span class="n">randomMin</span><span class="o">:</span><span class="kt">int</span><span class="o">,</span> <span class="n">randomMax</span><span class="o">:</span><span class="kt">int</span><span class="o">):</span><span class="kt">int</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">var</span> <span class="n">i</span><span class="p">:</span><span class="kt">int</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">()*(</span><span class="n">randomMax</span><span class="o">-</span><span class="n">randomMin</span><span class="o">+</span><span class="mi">1</span><span class="o">))+</span><span class="n">randomMin</span><span class="o">;</span>
</span><span class='line'>        <span class="k">return</span> <span class="o">(</span><span class="n">i</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AS3でオブジェクトの子にあるボタンの有効／無効を切り替える「SmartButton」クラス]]></title>
    <link href="http://lab.dolice.net/blog/2013/03/13/as3-smart-button/"/>
    <updated>2013-03-13T19:09:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/03/13/as3-smart-button</id>
    <content type="html"><![CDATA[<p><img src="http://dolice.net/images/blog/SmartButton.gif" alt="" /></p>

<p>ActionScript3.0でオブジェクトの子にあるボタンの有効／無効を切り替える「<a href="http://dolice.net/sample/SmartButton/">SmartButton</a>」クラスを作成しました。</p>

<p>静的クラスメンバ“enabled”は、指定したオブジェクトの [mouseChildren]と [mouseEnabled]の値を個別に設定します。操作したいオブジェクトと、ボタンの有効／無効[Boolean]を指定して使用します。</p>

<p>静的クラスメンバ“change”は、予め配列化したメニューと、ボタンを無効にしたい配列メニューのインデックス値を指定して使用します。指定したインデックスの子にあるボタンが無効となり、それ以外のインデックスの子にあるボタンが有効になります。</p>

<p>ボタンの有効／無効を切り替えるというより、厳密には指定したオブジェクトの [mouseChildren]と [mouseEnabled]の値を true/falseに切り替えます。</p>

<h2>ファイル</h2>

<ul>
<li><a href="http://dolice.net/php/dlc/dlcount.php?fname=SmartButton.zip&dir=/sample/">サンプル</a></li>
<li><a href="https://github.com/masakihirokawa/as3/blob/master/net/dolice/utils/SmartButton.as">ダウンロード</a></li>
</ul>


<h2>使用方法</h2>

<ul>
<li><p><em>sp[Sprite]の子にあるボタンを無効化する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">SmartButton</span><span class="o">.</span><span class="na">enabled</span><span class="o">(&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">sp</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p><em>sp[Sprite]の子にあるボタンを有効化する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">SmartButton</span><span class="o">.</span><span class="na">enabled</span><span class="o">(&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">sp</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>sampleMenu[Array]の1番目のインデックスの子にあるボタンを無効化し、それ以外のインデックスの子にあるボタンを有効化する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="kd">var</span> <span class="n">sampleMenu</span><span class="p">:</span><span class="kt">Array</span> <span class="o">=</span> <span class="o">[</span><span class="n">sampleMenu1</span><span class="o">,</span> <span class="n">sampleMenu2</span><span class="o">,</span> <span class="n">sampleMenu3</span><span class="o">]</span>
</span><span class='line'><span class="n">SmartButton</span><span class="o">.</span><span class="na">change</span><span class="o">(</span>
</span><span class='line'><span class="n">sampleMenu</span><span class="o">,</span> <span class="c1">//配列メニュー</span>
</span><span class='line'><span class="mi">1</span><span class="o">,</span> <span class="c1">//ボタンを無効化したい配列要素のインデックス値</span>
</span><span class='line'><span class="n">sampleMenu</span><span class="o">.</span><span class="na">length</span><span class="o">,</span> <span class="c1">//配列要素の総数</span>
</span><span class='line'><span class="mi">0</span> <span class="c1">//配列要素の先頭</span>
</span><span class='line'><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>sampleMenu[Array]の子にある全てのボタンを有効化する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="kd">var</span> <span class="n">sampleMenu</span><span class="p">:</span><span class="kt">Array</span> <span class="o">=</span> <span class="o">[</span><span class="n">sampleMenu1</span><span class="o">,</span> <span class="n">sampleMenu2</span><span class="o">,</span> <span class="n">sampleMenu3</span><span class="o">]</span>
</span><span class='line'><span class="n">SmartButton</span><span class="o">.</span><span class="na">clear</span><span class="o">(</span>
</span><span class='line'><span class="n">sampleMenu</span><span class="o">,</span> <span class="c1">//配列メニュー</span>
</span><span class='line'><span class="n">sampleMenu</span><span class="o">.</span><span class="na">length</span><span class="o">,</span> <span class="c1">//配列要素の総数</span>
</span><span class='line'><span class="mi">0</span> <span class="c1">//配列要素の先頭</span>
</span><span class='line'><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
</ul>


<h2>ソースコード</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="k">package</span> <span class="nn">net.dolice.utils</span><span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="k">import</span> <span class="nn">flash.display.Sprite</span><span class="o">;</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="n">SmartButton</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">buttons</span><span class="p">:</span><span class="kt">Array</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">id</span><span class="p">:</span><span class="kt">int</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">length</span><span class="p">:</span><span class="kt">uint</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">index</span><span class="p">:</span><span class="kt">uint</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">change</span><span class="o">(</span><span class="n">buttons</span><span class="o">:</span><span class="kt">Array</span><span class="o">,</span><span class="n">currentButtonID</span><span class="o">:</span><span class="kt">int</span><span class="o">,</span><span class="n">buttonNum</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">indexButtonID</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">1</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">SmartButton</span><span class="o">.</span><span class="na">initialize</span><span class="o">(</span><span class="n">buttons</span><span class="o">,</span><span class="n">currentButtonID</span><span class="o">,</span><span class="n">buttonNum</span><span class="o">,</span><span class="n">indexButtonID</span><span class="o">);</span>
</span><span class='line'>        <span class="n">SmartButton</span><span class="o">.</span><span class="na">exec</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">clear</span><span class="o">(</span><span class="n">buttons</span><span class="o">:</span><span class="kt">Array</span><span class="o">,</span><span class="n">buttonNum</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">indexButtonID</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">1</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">SmartButton</span><span class="o">.</span><span class="na">initialize</span><span class="o">(</span><span class="n">buttons</span><span class="o">,-</span><span class="mi">1</span><span class="o">,</span><span class="n">buttonNum</span><span class="o">,</span><span class="n">indexButtonID</span><span class="o">);</span>
</span><span class='line'>        <span class="n">SmartButton</span><span class="o">.</span><span class="na">exec</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">enabled</span><span class="o">(</span><span class="n">$scope</span><span class="o">:</span><span class="kt">Sprite</span><span class="o">,</span><span class="n">b</span><span class="o">:</span><span class="kt">Boolean</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">$scope</span><span class="o">.</span><span class="na">mouseChildren</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
</span><span class='line'>        <span class="n">$scope</span><span class="o">.</span><span class="na">mouseEnabled</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">initialize</span><span class="o">(</span><span class="n">buttons</span><span class="o">:</span><span class="kt">Array</span><span class="o">,</span><span class="n">id</span><span class="o">:</span><span class="kt">int</span><span class="o">,</span><span class="n">buttonNum</span><span class="o">:</span><span class="kt">uint</span><span class="o">,</span><span class="n">indexButtonID</span><span class="o">:</span><span class="kt">uint</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">SmartButton</span><span class="o">.</span><span class="na">buttons</span> <span class="o">=</span> <span class="n">buttons</span><span class="o">;</span>
</span><span class='line'>        <span class="n">SmartButton</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
</span><span class='line'>        <span class="n">buttonNum</span> <span class="o">&amp;</span><span class="n">lt</span><span class="o">;=</span> <span class="mi">0</span> <span class="o">?</span> <span class="n">SmartButton</span><span class="o">.</span><span class="na">length</span> <span class="o">=</span> <span class="n">SmartButton</span><span class="o">.</span><span class="na">buttons</span><span class="o">.</span><span class="na">length</span><span class="o">:</span><span class="n">SmartButton</span><span class="o">.</span><span class="na">length</span> <span class="o">=</span> <span class="n">buttonNum</span><span class="o">;</span>
</span><span class='line'>        <span class="n">SmartButton</span><span class="o">.</span><span class="na">index</span> <span class="o">=</span> <span class="n">indexButtonID</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">exec</span><span class="o">():</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">for</span> <span class="o">(</span><span class="kd">var</span> <span class="n">i</span><span class="p">:</span><span class="kt">uint</span> <span class="o">=</span> <span class="n">SmartButton</span><span class="o">.</span><span class="na">index</span><span class="o">;</span> <span class="n">i</span> <span class="o">&amp;</span><span class="n">lt</span><span class="o">;=</span> <span class="n">SmartButton</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">SmartButton</span><span class="o">.</span><span class="na">enabled</span><span class="o">(</span><span class="n">SmartButton</span><span class="o">.</span><span class="na">buttons</span><span class="o">[</span><span class="n">i</span><span class="o">],</span><span class="n">i</span> <span class="o">!=</span> <span class="n">SmartButton</span><span class="o">.</span><span class="na">id</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AS3でオブジェクトをステージ上に相対配置する「RelativeLayout」クラス]]></title>
    <link href="http://lab.dolice.net/blog/2013/03/13/as3-relative-layout/"/>
    <updated>2013-03-13T19:03:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/03/13/as3-relative-layout</id>
    <content type="html"><![CDATA[<p><img src="http://dolice.net/images/blog/RelativeLayout.gif" alt="" /></p>

<p>ActionScript3.0でオブジェクトをステージ上に相対配置する「<a href="http://dolice.net/php/dlc/dlcount.php?fname=RelativeLayout.zip&dir=/sample/">RelativeLayout</a>」クラスを作成しました。</p>

<p>ウィンドウ／ステージリサイズ時にクラスを呼び出すことで、オブジェクトを「中央」や「下付き」、「右付き」等に変更できます。オブジェクトの座標やサイズの変更も可能です。</p>

<p>ご使用の際は、ステージの伸縮を「拡大・縮小なし」、ステージの位置を「左上」に設定し、ステージリサイズ時のイベントリスナーを登録する必要があります。</p>

<h2>ファイル</h2>

<ul>
<li><a href="http://dolice.net/php/dlc/dlcount.php?fname=RelativeLayout.zip&dir=/sample/">サンプル</a></li>
<li><a href="https://github.com/masakihirokawa/as3/blob/master/net/dolice/gui/RelativeLayout.as">ダウンロード</a></li>
</ul>


<h2>使用方法</h2>

<ul>
<li><p>center_mc(MovieClip)をステージの中央に配置
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">setPos</span><span class="o">(</span><span class="n">stage</span><span class="o">,</span> <span class="n">center_mc</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>righttop_mc(MovieClip)をステージの右上に配置
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">setPos</span><span class="o">(</span><span class="n">stage</span><span class="o">,</span> <span class="n">righttop_mc</span><span class="o">,</span> <span class="s2">&quot;rt&quot;</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>rightbottom_mc(MovieClip)をステージの右下へ、画面端(下)から24ピクセルの間隔を持って配置
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">setPos</span><span class="o">(</span><span class="n">stage</span><span class="o">,</span> <span class="n">rightbottom_mc</span><span class="o">,</span> <span class="s2">&quot;rb&quot;</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">24</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>leftbottom_mc(MovieClip)をステージの左下へ、オブジェクトの横幅・縦幅を24ピクセルに強制指定して配置
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">setPos</span><span class="o">(</span><span class="n">stage</span><span class="o">,</span> <span class="n">leftbottom_mc</span><span class="o">,</span> <span class="s2">&quot;lb&quot;</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">24</span><span class="o">,</span> <span class="mi">24</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>resize_mc(MovieClip)の横幅をステージの横幅に合わせる
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">resize</span><span class="o">(</span><span class="n">resize_mc</span><span class="o">,</span> <span class="n">stage</span><span class="o">.</span><span class="na">stageWidth</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>resize_mc(MovieClip)の横幅・縦幅をステージの横幅・縦幅に合わせる
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">resize</span><span class="o">(</span><span class="n">resize_mc</span><span class="o">,</span> <span class="n">stage</span><span class="o">.</span><span class="na">stageWidth</span><span class="o">,</span> <span class="n">stage</span><span class="o">.</span><span class="na">stageWidth</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>point_mc(MovieClip)を、左から50ピクセル、上から100ピクセルの場所へ配置する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">point</span><span class="o">(</span><span class="n">point_mc</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="mi">100</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p>rect_mc(MovieClip)を、左から50ピクセル、上から100ピクセルの場所へ配置し、サイズを 240*400ピクセルに変更する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">rect</span><span class="o">(</span><span class="n">rect_mc</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="mi">240</span><span class="o">,</span> <span class="mi">400</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
</ul>


<h2>オブジェクト配置場所</h2>

<blockquote><p>中央 : "center" or "cm"<br />
上　 : "top" or "ct"<br />
右　 : "right" or "rm"<br />
下　 : "bottom" or "cb"<br />
左　 : "left" or "lm"<br />
右上 : "righttop" or "rt"<br />
右下 : "rightbottom" or "rb"<br />
左下 : "leftbottom" or "lb"<br />
左上 : "lefttop" or "lt"</p></blockquote>

<h2>ソースコード</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="k">package</span> <span class="nn">net.dolice.gui</span><span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="k">import</span> <span class="nn">flash.display.DisplayObject</span><span class="o">;</span>
</span><span class='line'><span class="k">import</span> <span class="nn">flash.display.Stage</span><span class="o">;</span>
</span><span class='line'><span class="k">import</span> <span class="nn">flash.geom.Point</span><span class="o">;</span>
</span><span class='line'><span class="k">import</span> <span class="nn">flash.geom.Rectangle</span><span class="o">;</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="n">RelativeLayout</span> <span class="kd">extends</span> <span class="n">DisplayObject</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">aimX</span><span class="p">:</span><span class="kt">int</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">aimY</span><span class="p">:</span><span class="kt">int</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">_x</span><span class="p">:</span><span class="kt">int</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">_y</span><span class="p">:</span><span class="kt">int</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">_width</span><span class="p">:</span><span class="kt">uint</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">_height</span><span class="p">:</span><span class="kt">uint</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">var</span> <span class="n">rectangle</span><span class="p">:</span><span class="kt">Rectangle</span><span class="o">;</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">setPos</span><span class="o">(</span><span class="n">stage</span><span class="o">:</span><span class="kt">Stage</span><span class="o">,</span><span class="n">$scope</span><span class="o">:</span><span class="kt">DisplayObject</span><span class="o">,</span><span class="n">position</span><span class="o">:</span><span class="kt">String</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="o">,</span><span class="n">marginX</span><span class="o">:</span><span class="kt">int</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">marginY</span><span class="o">:</span><span class="kt">int</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">w</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">h</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">0</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">$scope</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="n">$scope</span><span class="o">,</span><span class="n">w</span><span class="o">,</span><span class="n">h</span><span class="o">);</span>
</span><span class='line'>        <span class="k">switch</span> <span class="o">(</span><span class="n">position</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;center&quot;</span> <span class="o">:</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;cm&quot;</span> <span class="o">:</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimX</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageWidth</span> <span class="sr">/ 2 - RelativeLayout._width /</span> <span class="mi">2</span><span class="o">)</span> <span class="o">+</span> <span class="n">marginX</span><span class="o">;</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimY</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageHeight</span> <span class="sr">/ 2 - RelativeLayout._height /</span> <span class="mi">2</span><span class="o">)</span> <span class="o">+</span> <span class="n">marginY</span><span class="o">;</span>
</span><span class='line'>                <span class="k">break</span><span class="o">;</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;top&quot;</span> <span class="o">:</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;ct&quot;</span> <span class="o">:</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimX</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageWidth</span> <span class="sr">/ 2 - RelativeLayout._width /</span> <span class="mi">2</span><span class="o">)</span> <span class="o">+</span> <span class="n">marginX</span><span class="o">;</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimY</span> <span class="o">=</span> <span class="n">marginY</span><span class="o">;</span>
</span><span class='line'>                <span class="k">break</span><span class="o">;</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;right&quot;</span> <span class="o">:</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;rm&quot;</span> <span class="o">:</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimX</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageWidth</span> <span class="o">-</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_width</span><span class="o">)</span> <span class="o">-</span> <span class="n">marginX</span><span class="o">;</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimY</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageHeight</span> <span class="sr">/ 2 - RelativeLayout._height /</span> <span class="mi">2</span><span class="o">)</span> <span class="o">+</span> <span class="n">marginY</span><span class="o">;</span>
</span><span class='line'>                <span class="k">break</span><span class="o">;</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;bottom&quot;</span> <span class="o">:</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;cb&quot;</span> <span class="o">:</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimX</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageWidth</span> <span class="sr">/ 2 - RelativeLayout._width /</span> <span class="mi">2</span><span class="o">)</span> <span class="o">+</span> <span class="n">marginX</span><span class="o">;</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimY</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageHeight</span> <span class="o">-</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_height</span><span class="o">)</span> <span class="o">-</span> <span class="n">marginY</span><span class="o">;</span>
</span><span class='line'>                <span class="k">break</span><span class="o">;</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;left&quot;</span> <span class="o">:</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;lm&quot;</span> <span class="o">:</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimX</span> <span class="o">=</span> <span class="n">marginX</span><span class="o">;</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimY</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageHeight</span> <span class="sr">/ 2 - RelativeLayout._height /</span> <span class="mi">2</span><span class="o">)</span> <span class="o">+</span> <span class="n">marginY</span><span class="o">;</span>
</span><span class='line'>                <span class="k">break</span><span class="o">;</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;righttop&quot;</span> <span class="o">:</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;rt&quot;</span> <span class="o">:</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimX</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageWidth</span> <span class="o">-</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_width</span><span class="o">)</span> <span class="o">-</span> <span class="n">marginX</span><span class="o">;</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimY</span> <span class="o">=</span> <span class="n">marginY</span><span class="o">;</span>
</span><span class='line'>                <span class="k">break</span><span class="o">;</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;rightbottom&quot;</span> <span class="o">:</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;rb&quot;</span> <span class="o">:</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimX</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageWidth</span> <span class="o">-</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_width</span><span class="o">)</span> <span class="o">-</span> <span class="n">marginX</span><span class="o">;</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimY</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageHeight</span> <span class="o">-</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_height</span><span class="o">)</span> <span class="o">-</span> <span class="n">marginY</span><span class="o">;</span>
</span><span class='line'>                <span class="k">break</span><span class="o">;</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;leftbottom&quot;</span> <span class="o">:</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;lb&quot;</span> <span class="o">:</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimX</span> <span class="o">=</span> <span class="n">marginX</span><span class="o">;</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimY</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">floor</span><span class="o">(</span><span class="n">stage</span><span class="o">.</span><span class="na">stageHeight</span> <span class="o">-</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_height</span><span class="o">)</span> <span class="o">-</span> <span class="n">marginY</span><span class="o">;</span>
</span><span class='line'>                <span class="k">break</span><span class="o">;</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;lefttop&quot;</span> <span class="o">:</span>
</span><span class='line'>            <span class="k">case</span> <span class="s2">&quot;lt&quot;</span> <span class="o">:</span>
</span><span class='line'>            <span class="k">default</span> <span class="o">:</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimX</span> <span class="o">=</span> <span class="n">marginX</span><span class="o">;</span>
</span><span class='line'>                <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimY</span> <span class="o">=</span> <span class="n">marginY</span><span class="o">;</span>
</span><span class='line'>                <span class="k">break</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">point</span><span class="o">(</span><span class="n">$scope</span><span class="o">,</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimX</span><span class="o">,</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">aimY</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">resize</span><span class="o">(</span><span class="n">$scope</span><span class="o">:</span><span class="kt">DisplayObject</span><span class="o">,</span><span class="n">w</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">h</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">0</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">$scope</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="n">$scope</span><span class="o">,</span><span class="n">w</span><span class="o">,</span><span class="n">h</span><span class="o">);</span>
</span><span class='line'>        <span class="n">$scope</span><span class="o">.</span><span class="na">width</span> <span class="o">=</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_width</span><span class="o">;</span>
</span><span class='line'>        <span class="n">$scope</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_height</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">point</span><span class="o">(</span><span class="n">$scope</span><span class="o">:</span><span class="kt">DisplayObject</span><span class="o">,</span><span class="n">posX</span><span class="o">:</span><span class="kt">int</span><span class="o">,</span><span class="n">posY</span><span class="o">:</span><span class="kt">int</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">$scope</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">setPoint</span><span class="o">(</span><span class="n">posX</span><span class="o">,</span> <span class="n">posY</span><span class="o">);</span>
</span><span class='line'>        <span class="n">$scope</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_x</span><span class="o">;</span>
</span><span class='line'>        <span class="n">$scope</span><span class="o">.</span><span class="na">y</span> <span class="o">=</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_y</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">rect</span><span class="o">(</span><span class="n">$scope</span><span class="o">:</span><span class="kt">DisplayObject</span><span class="o">,</span><span class="n">posX</span><span class="o">:</span><span class="kt">int</span><span class="o">,</span><span class="n">posY</span><span class="o">:</span><span class="kt">int</span><span class="o">,</span><span class="n">w</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="n">h</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">0</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">$scope</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">setPoint</span><span class="o">(</span><span class="n">posX</span><span class="o">,</span> <span class="n">posY</span><span class="o">);</span>
</span><span class='line'>        <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="n">$scope</span><span class="o">,</span><span class="n">w</span><span class="o">,</span><span class="n">h</span><span class="o">);</span>
</span><span class='line'>        <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">rectangle</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">Rectangle</span><span class="o">(</span>
</span><span class='line'>          <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_x</span><span class="o">,</span><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_y</span><span class="o">,</span><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_width</span><span class="o">,</span><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_height</span>
</span><span class='line'>        <span class="o">);</span>
</span><span class='line'>        <span class="n">$scope</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">rectangle</span><span class="o">.</span><span class="na">x</span><span class="o">;</span>
</span><span class='line'>        <span class="n">$scope</span><span class="o">.</span><span class="na">y</span> <span class="o">=</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">rectangle</span><span class="o">.</span><span class="na">y</span><span class="o">;</span>
</span><span class='line'>        <span class="n">$scope</span><span class="o">.</span><span class="na">width</span> <span class="o">=</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">rectangle</span><span class="o">.</span><span class="na">width</span><span class="o">;</span>
</span><span class='line'>        <span class="n">$scope</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">rectangle</span><span class="o">.</span><span class="na">height</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">setSize</span><span class="o">(</span><span class="n">$scope</span><span class="o">:</span><span class="kt">DisplayObject</span><span class="o">,</span><span class="n">w</span><span class="o">:</span><span class="kt">uint</span><span class="o">,</span> <span class="n">h</span><span class="o">:</span><span class="kt">uint</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">w</span> <span class="o">?</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_width</span> <span class="o">=</span> <span class="n">w</span><span class="o">:</span><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_width</span> <span class="o">=</span> <span class="n">$scope</span><span class="o">.</span><span class="na">width</span><span class="o">;</span>
</span><span class='line'>        <span class="n">h</span> <span class="o">?</span> <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_height</span> <span class="o">=</span> <span class="n">h</span><span class="o">:</span><span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_height</span> <span class="o">=</span> <span class="n">$scope</span><span class="o">.</span><span class="na">height</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">setPoint</span><span class="o">(</span><span class="n">posX</span><span class="o">:</span><span class="kt">int</span><span class="o">,</span><span class="n">posY</span><span class="o">:</span><span class="kt">int</span><span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_x</span> <span class="o">=</span> <span class="n">posX</span><span class="o">;</span>
</span><span class='line'>        <span class="n">RelativeLayout</span><span class="o">.</span><span class="na">_y</span> <span class="o">=</span> <span class="n">posY</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AS3で不要になったインスタンスを削除しメモリを解放する「Cleaner」クラス]]></title>
    <link href="http://lab.dolice.net/blog/2013/03/13/as3-cleaner/"/>
    <updated>2013-03-13T18:57:00+09:00</updated>
    <id>http://lab.dolice.net/blog/2013/03/13/as3-cleaner</id>
    <content type="html"><![CDATA[<p>ActionScript3.0で不要になったインスタンスを削除しメモリを解放する「<a href="https://github.com/masakihirokawa/as3/blob/master/net/dolice/utils/Cleaner.as">Cleaner</a>」クラスを作成しました。</p>

<p>指定したオブジェクトの子を、任意の数まで削除します。新しい子から順番に削除するか、古い子から順番に削除するかの指定と、最後にオブジェクトへ nullを代入してメモリを解放するかの指定ができます。</p>

<h2>ファイル</h2>

<ul>
<li><a href="http://dolice.net/php/dlc/dlcount.php?fname=Cleaner.zip&dir=/sample/">サンプル</a></li>
<li><a href="https://github.com/masakihirokawa/as3/blob/master/net/dolice/utils/Cleaner.as">ダウンロード</a></li>
</ul>


<h2>使用方法</h2>

<ul>
<li><p><em>container(DisplayObjectContainer)の子を、古いものから順番に全て削除する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">Cleaner</span><span class="o">.</span><span class="na">deleteContainer</span><span class="o">(&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">container</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p><em>mc(MovieClip)の子を、古いものから順番に全て削除し、最後に nullを代入する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">Cleaner</span><span class="o">.</span><span class="na">deleteMovieClip</span><span class="o">(&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">mc</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
<li><p><em>sp(Sprite)の子を、最後の1つを除いて新しいものから順番に削除する
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="n">Cleaner</span><span class="o">.</span><span class="na">deleteSprite</span><span class="o">(&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">sp</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="s2">&quot;null,undefined以外の文字列&quot;</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></li>
</ul>


<h2>パラメータ解説</h2>

<p><strong><em>container, </em>mc, _sp</strong></p>

<blockquote><p>子を削除するオブジェクト</p>

<p>[DisplayObjectContainer, MovieClip, Sprite][省略不可]</p></blockquote>

<p><strong>remainNum</strong></p>

<blockquote><p>幾つ子を残すか</p>

<p>[uint][規定値:0][省略可]</p></blockquote>

<p><strong>toNull</strong></p>

<blockquote><p>最後にオブジェクトに nullを代入する場合は、nullか undefinedを指定[String][規定値:"String as Null"*1][省略可]</p></blockquote>

<p><strong>isReverse</strong></p>

<blockquote><p>新しいもの／上から順番に削除するか</p>

<p>[Boolean][規定値:false][省略可]</p></blockquote>

<h2>ソースコード</h2>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
</pre></td><td class='code'><pre><code class='as3'><span class='line'><span class="k">package</span> <span class="nn">net.dolice.utils</span><span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="k">import</span> <span class="nn">flash.display.DisplayObjectContainer</span><span class="o">;</span>
</span><span class='line'><span class="k">import</span> <span class="nn">flash.display.MovieClip</span><span class="o">;</span>
</span><span class='line'><span class="k">import</span> <span class="nn">flash.display.Sprite</span><span class="o">;</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="n">Cleaner</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">deleteContainer</span><span class="o">(</span>
</span><span class='line'>      <span class="n">_container</span><span class="o">:</span><span class="kt">DisplayObjectContainer</span><span class="o">,</span>
</span><span class='line'>      <span class="n">remainNum</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span>
</span><span class='line'>      <span class="n">toNull</span><span class="o">:</span><span class="kt">String</span><span class="o">=</span><span class="s2">&quot;String as Null&quot;</span><span class="o">,</span>
</span><span class='line'>      <span class="n">isReverse</span><span class="o">:</span><span class="kt">Boolean</span><span class="o">=</span><span class="kc">false</span>
</span><span class='line'>    <span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">_container</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">isReverse</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">while</span> <span class="o">(</span><span class="n">_container</span><span class="o">.</span><span class="na">numChildren</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">remainNum</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">_container</span><span class="o">.</span><span class="na">removeChildAt</span><span class="o">(</span><span class="n">_container</span><span class="o">.</span><span class="na">numChildren</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">while</span> <span class="o">(</span><span class="n">_container</span><span class="o">.</span><span class="na">numChildren</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">remainNum</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">_container</span><span class="o">.</span><span class="na">removeChildAt</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">toNull</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">_container</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">deleteMovieClip</span><span class="o">(</span>
</span><span class='line'>      <span class="n">_mc</span><span class="o">:</span><span class="kt">MovieClip</span><span class="o">,</span>
</span><span class='line'>      <span class="n">remainNum</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span>
</span><span class='line'>      <span class="n">toNull</span><span class="o">:</span><span class="kt">String</span><span class="o">=</span><span class="s2">&quot;String as Null&quot;</span><span class="o">,</span>
</span><span class='line'>      <span class="n">isReverse</span><span class="o">:</span><span class="kt">Boolean</span><span class="o">=</span><span class="kc">false</span>
</span><span class='line'>    <span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">_mc</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">isReverse</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">while</span> <span class="o">(</span><span class="n">_mc</span><span class="o">.</span><span class="na">numChildren</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">remainNum</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">_mc</span><span class="o">.</span><span class="na">removeChildAt</span><span class="o">(</span><span class="n">_mc</span><span class="o">.</span><span class="na">numChildren</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">while</span> <span class="o">(</span><span class="n">_mc</span><span class="o">.</span><span class="na">numChildren</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">remainNum</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">_mc</span><span class="o">.</span><span class="na">removeChildAt</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">toNull</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">_mc</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">function </span><span class="nf">deleteSprite</span><span class="o">(</span>
</span><span class='line'>      <span class="n">_sp</span><span class="o">:</span><span class="kt">Sprite</span><span class="o">,</span>
</span><span class='line'>      <span class="n">remainNum</span><span class="o">:</span><span class="kt">uint</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span>
</span><span class='line'>      <span class="n">toNull</span><span class="o">:</span><span class="kt">String</span><span class="o">=</span><span class="s2">&quot;String as Null&quot;</span><span class="o">,</span>
</span><span class='line'>      <span class="n">isReverse</span><span class="o">:</span><span class="kt">Boolean</span><span class="o">=</span><span class="kc">false</span>
</span><span class='line'>    <span class="o">):</span><span class="kt">void</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">_sp</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">isReverse</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">while</span> <span class="o">(</span><span class="n">_sp</span><span class="o">.</span><span class="na">numChildren</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">remainNum</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">_sp</span><span class="o">.</span><span class="na">removeChildAt</span><span class="o">(</span><span class="n">_sp</span><span class="o">.</span><span class="na">numChildren</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">while</span> <span class="o">(</span><span class="n">_sp</span><span class="o">.</span><span class="na">numChildren</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">remainNum</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">_sp</span><span class="o">.</span><span class="na">removeChildAt</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">toNull</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">_sp</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
</feed>
